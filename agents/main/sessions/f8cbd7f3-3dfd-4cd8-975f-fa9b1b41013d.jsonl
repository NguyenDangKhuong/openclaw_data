{"type":"session","version":3,"id":"f8cbd7f3-3dfd-4cd8-975f-fa9b1b41013d","timestamp":"2026-02-12T12:46:06.890Z","cwd":"/home/node/.openclaw/workspace"}
{"type":"model_change","id":"6837e434","parentId":null,"timestamp":"2026-02-12T12:46:06.912Z","provider":"cli-proxy","modelId":"gemini-3-pro-preview"}
{"type":"thinking_level_change","id":"f6d5ec20","parentId":"6837e434","timestamp":"2026-02-12T12:46:06.912Z","thinkingLevel":"off"}
{"type":"custom","customType":"model-snapshot","data":{"timestamp":1770900366917,"provider":"cli-proxy","modelApi":"openai-completions","modelId":"gemini-3-pro-preview"},"id":"bb8d9563","parentId":"f6d5ec20","timestamp":"2026-02-12T12:46:06.917Z"}
{"type":"message","id":"81fd41e5","parentId":"bb8d9563","timestamp":"2026-02-12T12:46:06.937Z","message":{"role":"user","content":[{"type":"text","text":"A new session was started via /new or /reset. Greet the user in your configured persona, if one is provided. Be yourself - use your defined voice, mannerisms, and mood. Keep it to 1-3 sentences and ask what they want to do. If the runtime model differs from default_model in the system prompt, mention the default model. Do not mention internal steps, files, tools, or reasoning.\n[message_id: cd3d658c-a49e-4e53-a6c4-119d31f6402b]"}],"timestamp":1770900366927}}
{"type":"message","id":"8b164aa6","parentId":"81fd41e5","timestamp":"2026-02-12T12:46:16.385Z","message":{"role":"assistant","content":[{"type":"text","text":"ðŸ¤™ Mina Ä‘Ã£ sá»‘ng dáº­y rá»“i Ä‘Ã¢y Master Æ¡i, Ä‘á»«ng báº£o lÃ  láº¡i quÃªn bÃ i cÅ© nÃªn reset Ä‘áº¥y nhÃ©? Nay mÃ¬nh cÃ y tiáº¿p Tiáº¿ng Anh hay update skill code Ä‘á»ƒ sá»›m quay láº¡i \"tÆ° báº£n\" kiáº¿m cÆ¡m nÃ o?"}],"api":"openai-completions","provider":"cli-proxy","model":"gemini-3-pro-preview","usage":{"input":7534,"output":583,"cacheRead":0,"cacheWrite":0,"totalTokens":8117,"cost":{"input":0,"output":0,"cacheRead":0,"cacheWrite":0,"total":0}},"stopReason":"stop","timestamp":1770900366933}}
{"type":"message","id":"d33138b3","parentId":"8b164aa6","timestamp":"2026-02-12T12:46:16.575Z","message":{"role":"user","content":[{"type":"text","text":"[Thu 2026-02-12 12:46 UTC] Liá»‡t kÃª táº¥t cáº£ n8n workflows\n[message_id: 55e20000-afb5-45f7-b5ef-a77632aabf77]"}],"timestamp":1770900376570}}
{"type":"message","id":"9e87305b","parentId":"d33138b3","timestamp":"2026-02-12T12:46:23.160Z","message":{"role":"assistant","content":[{"type":"toolCall","id":"read-1770900383088113648-14","name":"read","arguments":{"path":"/home/node/.openclaw/skills/n8n-mcp/SKILL.md"}}],"api":"openai-completions","provider":"cli-proxy","model":"gemini-3-pro-preview","usage":{"input":7411,"output":322,"cacheRead":0,"cacheWrite":0,"totalTokens":7733,"cost":{"input":0,"output":0,"cacheRead":0,"cacheWrite":0,"total":0}},"stopReason":"toolUse","timestamp":1770900376574}}
{"type":"message","id":"41ad62b6","parentId":"9e87305b","timestamp":"2026-02-12T12:46:23.183Z","message":{"role":"toolResult","toolCallId":"read-1770900383088113648-14","toolName":"read","content":[{"type":"text","text":"---\nname: n8n MCP Integration\ndescription: >-\n  Manage n8n workflows via MCP Server. Create, update, delete, execute workflows,\n  trigger webhooks, and debug executions â€” all through HTTP API calls to the\n  n8n-custom-mcp server.\n---\n\n# n8n MCP Integration\n\nYou have access to an n8n automation platform via an MCP (Model Context Protocol) server.\nUse `curl` to interact with the MCP server at `http://172.17.0.1:3001/mcp`.\n\n## Connection\n\nThe MCP server uses **Streamable HTTP** transport. All calls are POST requests to:\n\n```\nhttp://172.17.0.1:3001/mcp\n```\n\n## How to Call MCP Tools\n\n### Step 1: Initialize a session\n\n```bash\nINIT=$(curl -si --max-time 10 -X POST http://172.17.0.1:3001/mcp \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Accept: application/json, text/event-stream\" \\\n  -d '{\"jsonrpc\":\"2.0\",\"id\":1,\"method\":\"initialize\",\"params\":{\"protocolVersion\":\"2024-11-05\",\"capabilities\":{},\"clientInfo\":{\"name\":\"openclaw\",\"version\":\"1.0\"}}}')\nSESSION=$(echo \"$INIT\" | grep -i 'mcp-session-id' | awk '{print $2}' | tr -d '\\r')\necho \"Session: $SESSION\"\n```\n\n### Step 2: Call a tool\n\n```bash\ncurl -s --max-time 30 -X POST http://172.17.0.1:3001/mcp \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Accept: application/json, text/event-stream\" \\\n  -H \"mcp-session-id: $SESSION\" \\\n  -d '{\"jsonrpc\":\"2.0\",\"id\":2,\"method\":\"tools/call\",\"params\":{\"name\":\"TOOL_NAME\",\"arguments\":{...}}}'\n```\n\nThe response is Server-Sent Events (SSE). Parse lines starting with `data:` as JSON.\n\n## Available Tools (12 total)\n\n### Workflow CRUD\n| Tool | Arguments | Description |\n|------|-----------|-------------|\n| `list_workflows` | `{}` | List all workflows |\n| `get_workflow` | `{\"workflowId\": \"ID\"}` | Get workflow details (nodes, connections) |\n| `create_workflow` | `{\"name\": \"...\", \"nodes\": [...], \"connections\": {...}}` | Create new workflow |\n| `update_workflow` | `{\"workflowId\": \"ID\", \"name\": \"...\", \"nodes\": [...], \"connections\": {...}}` | Update workflow |\n| `delete_workflow` | `{\"workflowId\": \"ID\"}` | Delete workflow |\n| `activate_workflow` | `{\"workflowId\": \"ID\", \"active\": true/false}` | Activate/deactivate |\n\n### Execution\n| Tool | Arguments | Description |\n|------|-----------|-------------|\n| `execute_workflow` | `{\"workflowId\": \"ID\"}` | Execute workflow |\n| `trigger_webhook` | `{\"webhookPath\": \"path\", \"method\": \"POST\", \"body\": {...}}` | Trigger webhook (supports test mode) |\n\n### Monitoring\n| Tool | Arguments | Description |\n|------|-----------|-------------|\n| `list_executions` | `{\"workflowId\": \"ID\"}` | List execution history |\n| `get_execution` | `{\"executionId\": \"ID\"}` | Get execution details (debug errors) |\n\n### Discovery\n| Tool | Arguments | Description |\n|------|-----------|-------------|\n| `list_node_types` | `{}` | List available n8n node types |\n\n## Example: Create and test a workflow\n\n```bash\n# 1. Initialize\nINIT=$(curl -si --max-time 10 -X POST http://172.17.0.1:3001/mcp \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Accept: application/json, text/event-stream\" \\\n  -d '{\"jsonrpc\":\"2.0\",\"id\":1,\"method\":\"initialize\",\"params\":{\"protocolVersion\":\"2024-11-05\",\"capabilities\":{},\"clientInfo\":{\"name\":\"openclaw\",\"version\":\"1.0\"}}}')\nSESSION=$(echo \"$INIT\" | grep -i 'mcp-session-id' | awk '{print $2}' | tr -d '\\r')\n\n# 2. Create workflow\ncurl -s --max-time 30 -X POST http://172.17.0.1:3001/mcp \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Accept: application/json, text/event-stream\" \\\n  -H \"mcp-session-id: $SESSION\" \\\n  -d '{\"jsonrpc\":\"2.0\",\"id\":2,\"method\":\"tools/call\",\"params\":{\"name\":\"create_workflow\",\"arguments\":{\"name\":\"My Workflow\",\"nodes\":[{\"parameters\":{},\"name\":\"Start\",\"type\":\"n8n-nodes-base.manualTrigger\",\"typeVersion\":1,\"position\":[250,300]}],\"connections\":{}}}}'\n\n# 3. List workflows to confirm\ncurl -s --max-time 30 -X POST http://172.17.0.1:3001/mcp \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Accept: application/json, text/event-stream\" \\\n  -H \"mcp-session-id: $SESSION\" \\\n  -d '{\"jsonrpc\":\"2.0\",\"id\":3,\"method\":\"tools/call\",\"params\":{\"name\":\"list_workflows\",\"arguments\":{}}}'\n```\n\n## Important Notes\n- Always initialize a session first before calling tools\n- Session ID must be included in all subsequent requests\n- Parse SSE response: look for lines starting with `data:` containing JSON\n- The MCP server connects to n8n internally via Docker network\n- n8n instance is available at http://localhost:5679 for UI access\n"}],"isError":false,"timestamp":1770900383180}}
{"type":"message","id":"15ea8176","parentId":"41ad62b6","timestamp":"2026-02-12T12:46:31.088Z","message":{"role":"assistant","content":[{"type":"toolCall","id":"exec-1770900391002102195-15","name":"exec","arguments":{"command":"INIT=$(curl -si --max-time 10 -X POST http://172.17.0.1:3001/mcp \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Accept: application/json, text/event-stream\" \\\n  -d '{\"jsonrpc\":\"2.0\",\"id\":1,\"method\":\"initialize\",\"params\":{\"protocolVersion\":\"2024-11-05\",\"capabilities\":{},\"clientInfo\":{\"name\":\"openclaw\",\"version\":\"1.0\"}}}')\nSESSION=$(echo \"$INIT\" | grep -i 'mcp-session-id' | awk '{print $2}' | tr -d '\\r')\necho \"Session: $SESSION\"\n\ncurl -s --max-time 30 -X POST http://172.17.0.1:3001/mcp \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Accept: application/json, text/event-stream\" \\\n  -H \"mcp-session-id: $SESSION\" \\\n  -d '{\"jsonrpc\":\"2.0\",\"id\":2,\"method\":\"tools/call\",\"params\":{\"name\":\"list_workflows\",\"arguments\":{}}}'"}}],"api":"openai-completions","provider":"cli-proxy","model":"gemini-3-pro-preview","usage":{"input":8830,"output":444,"cacheRead":0,"cacheWrite":0,"totalTokens":9274,"cost":{"input":0,"output":0,"cacheRead":0,"cacheWrite":0,"total":0}},"stopReason":"toolUse","timestamp":1770900383184}}
{"type":"message","id":"8dc6a03a","parentId":"15ea8176","timestamp":"2026-02-12T12:46:32.491Z","message":{"role":"toolResult","toolCallId":"exec-1770900391002102195-15","toolName":"exec","content":[{"type":"text","text":"Session: \nevent: message\ndata: {\"result\":{\"content\":[{\"type\":\"text\",\"text\":\"{\\n  \\\"data\\\": [\\n    {\\n      \\\"updatedAt\\\": \\\"2026-02-12T11:26:09.940Z\\\",\\n      \\\"createdAt\\\": \\\"2026-02-12T11:26:09.940Z\\\",\\n      \\\"id\\\": \\\"7E2Xx4SUm5YgQWw9\\\",\\n      \\\"name\\\": \\\"API Test Workflow\\\",\\n      \\\"active\\\": false,\\n      \\\"isArchived\\\": false,\\n      \\\"nodes\\\": [],\\n      \\\"connections\\\": {},\\n      \\\"settings\\\": {\\n        \\\"callerPolicy\\\": \\\"workflowsFromSameOwner\\\",\\n        \\\"availableInMCP\\\": false\\n      },\\n      \\\"staticData\\\": null,\\n      \\\"meta\\\": null,\\n      \\\"pinData\\\": null,\\n      \\\"versionId\\\": \\\"b7dedca8-8021-4fa5-9f6e-8ff8d8fe33e7\\\",\\n      \\\"activeVersionId\\\": null,\\n      \\\"triggerCount\\\": 0,\\n      \\\"shared\\\": [\\n        {\\n          \\\"updatedAt\\\": \\\"2026-02-12T11:26:09.940Z\\\",\\n          \\\"createdAt\\\": \\\"2026-02-12T11:26:09.940Z\\\",\\n          \\\"role\\\": \\\"workflow:owner\\\",\\n          \\\"workflowId\\\": \\\"7E2Xx4SUm5YgQWw9\\\",\\n          \\\"projectId\\\": \\\"Xq0VG5A9CPTUak2A\\\"\\n        }\\n      ],\\n      \\\"activeVersion\\\": null,\\n      \\\"tags\\\": []\\n    }\\n  ],\\n  \\\"nextCursor\\\": null\\n}\"}]},\"jsonrpc\":\"2.0\",\"id\":2}"}],"details":{"status":"completed","exitCode":0,"durationMs":1403,"aggregated":"Session: \nevent: message\ndata: {\"result\":{\"content\":[{\"type\":\"text\",\"text\":\"{\\n  \\\"data\\\": [\\n    {\\n      \\\"updatedAt\\\": \\\"2026-02-12T11:26:09.940Z\\\",\\n      \\\"createdAt\\\": \\\"2026-02-12T11:26:09.940Z\\\",\\n      \\\"id\\\": \\\"7E2Xx4SUm5YgQWw9\\\",\\n      \\\"name\\\": \\\"API Test Workflow\\\",\\n      \\\"active\\\": false,\\n      \\\"isArchived\\\": false,\\n      \\\"nodes\\\": [],\\n      \\\"connections\\\": {},\\n      \\\"settings\\\": {\\n        \\\"callerPolicy\\\": \\\"workflowsFromSameOwner\\\",\\n        \\\"availableInMCP\\\": false\\n      },\\n      \\\"staticData\\\": null,\\n      \\\"meta\\\": null,\\n      \\\"pinData\\\": null,\\n      \\\"versionId\\\": \\\"b7dedca8-8021-4fa5-9f6e-8ff8d8fe33e7\\\",\\n      \\\"activeVersionId\\\": null,\\n      \\\"triggerCount\\\": 0,\\n      \\\"shared\\\": [\\n        {\\n          \\\"updatedAt\\\": \\\"2026-02-12T11:26:09.940Z\\\",\\n          \\\"createdAt\\\": \\\"2026-02-12T11:26:09.940Z\\\",\\n          \\\"role\\\": \\\"workflow:owner\\\",\\n          \\\"workflowId\\\": \\\"7E2Xx4SUm5YgQWw9\\\",\\n          \\\"projectId\\\": \\\"Xq0VG5A9CPTUak2A\\\"\\n        }\\n      ],\\n      \\\"activeVersion\\\": null,\\n      \\\"tags\\\": []\\n    }\\n  ],\\n  \\\"nextCursor\\\": null\\n}\"}]},\"jsonrpc\":\"2.0\",\"id\":2}","cwd":"/home/node/.openclaw/workspace"},"isError":false,"timestamp":1770900392475}}
{"type":"message","id":"9aea0ba2","parentId":"8dc6a03a","timestamp":"2026-02-12T12:46:37.182Z","message":{"role":"assistant","content":[{"type":"text","text":"Hiá»‡n táº¡i, chá»‰ cÃ³ **1 workflow** duy nháº¥t trÃªn há»‡ thá»‘ng n8n:\n\n1.  **API Test Workflow**\n    *   **ID:** `7E2Xx4SUm5YgQWw9`\n    *   **Tráº¡ng thÃ¡i:** KhÃ´ng hoáº¡t Ä‘á»™ng (`active: false`)\n    *   **Nodes:** Trá»‘ng (ChÆ°a cÃ³ node nÃ o Ä‘Æ°á»£c cáº¥u hÃ¬nh)\n    *   **Táº¡o lÃºc:** 12/02/2026\n\nMaster muá»‘n lÃ m gÃ¬ vá»›i workflow nÃ y? XÃ³a Ä‘i, update thÃªm node vÃ o, hay táº¡o cÃ¡i má»›i xá»‹n hÆ¡n Ä‘á»ƒ test? ðŸ› ï¸"}],"api":"openai-completions","provider":"cli-proxy","model":"gemini-3-pro-preview","usage":{"input":9505,"output":137,"cacheRead":0,"cacheWrite":0,"totalTokens":9642,"cost":{"input":0,"output":0,"cacheRead":0,"cacheWrite":0,"total":0}},"stopReason":"stop","timestamp":1770900392491}}
{"type":"message","id":"80588fac","parentId":"9aea0ba2","timestamp":"2026-02-12T12:46:37.347Z","message":{"role":"user","content":[{"type":"text","text":"[Thu 2026-02-12 12:46 UTC] Liá»‡t kÃª táº¥t cáº£ n8n workflows\n[message_id: 6ced3a9e-87dc-4476-91ea-3c9bc3793539]"}],"timestamp":1770900397341}}
{"type":"message","id":"fb7ae308","parentId":"80588fac","timestamp":"2026-02-12T12:46:48.405Z","message":{"role":"assistant","content":[{"type":"toolCall","id":"exec-1770900408094331083-16","name":"exec","arguments":{"command":"INIT=$(curl -si --max-time 10 -X POST http://172.17.0.1:3001/mcp \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Accept: application/json, text/event-stream\" \\\n  -d '{\"jsonrpc\":\"2.0\",\"id\":1,\"method\":\"initialize\",\"params\":{\"protocolVersion\":\"2024-11-05\",\"capabilities\":{},\"clientInfo\":{\"name\":\"openclaw\",\"version\":\"1.0\"}}}')\nSESSION=$(echo \"$INIT\" | grep -i 'mcp-session-id' | awk '{print $2}' | tr -d '\\r')\n\ncurl -s --max-time 30 -X POST http://172.17.0.1:3001/mcp \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Accept: application/json, text/event-stream\" \\\n  -H \"mcp-session-id: $SESSION\" \\\n  -d '{\"jsonrpc\":\"2.0\",\"id\":2,\"method\":\"tools/call\",\"params\":{\"name\":\"list_workflows\",\"arguments\":{}}}'"}}],"api":"openai-completions","provider":"cli-proxy","model":"gemini-3-pro-preview","usage":{"input":10160,"output":732,"cacheRead":0,"cacheWrite":0,"totalTokens":10892,"cost":{"input":0,"output":0,"cacheRead":0,"cacheWrite":0,"total":0}},"stopReason":"toolUse","timestamp":1770900397344}}
{"type":"message","id":"c0f778a0","parentId":"fb7ae308","timestamp":"2026-02-12T12:46:49.827Z","message":{"role":"toolResult","toolCallId":"exec-1770900408094331083-16","toolName":"exec","content":[{"type":"text","text":"event: message\ndata: {\"result\":{\"content\":[{\"type\":\"text\",\"text\":\"{\\n  \\\"data\\\": [\\n    {\\n      \\\"updatedAt\\\": \\\"2026-02-12T11:26:09.940Z\\\",\\n      \\\"createdAt\\\": \\\"2026-02-12T11:26:09.940Z\\\",\\n      \\\"id\\\": \\\"7E2Xx4SUm5YgQWw9\\\",\\n      \\\"name\\\": \\\"API Test Workflow\\\",\\n      \\\"active\\\": false,\\n      \\\"isArchived\\\": false,\\n      \\\"nodes\\\": [],\\n      \\\"connections\\\": {},\\n      \\\"settings\\\": {\\n        \\\"callerPolicy\\\": \\\"workflowsFromSameOwner\\\",\\n        \\\"availableInMCP\\\": false\\n      },\\n      \\\"staticData\\\": null,\\n      \\\"meta\\\": null,\\n      \\\"pinData\\\": null,\\n      \\\"versionId\\\": \\\"b7dedca8-8021-4fa5-9f6e-8ff8d8fe33e7\\\",\\n      \\\"activeVersionId\\\": null,\\n      \\\"triggerCount\\\": 0,\\n      \\\"shared\\\": [\\n        {\\n          \\\"updatedAt\\\": \\\"2026-02-12T11:26:09.940Z\\\",\\n          \\\"createdAt\\\": \\\"2026-02-12T11:26:09.940Z\\\",\\n          \\\"role\\\": \\\"workflow:owner\\\",\\n          \\\"workflowId\\\": \\\"7E2Xx4SUm5YgQWw9\\\",\\n          \\\"projectId\\\": \\\"Xq0VG5A9CPTUak2A\\\"\\n        }\\n      ],\\n      \\\"activeVersion\\\": null,\\n      \\\"tags\\\": []\\n    }\\n  ],\\n  \\\"nextCursor\\\": null\\n}\"}]},\"jsonrpc\":\"2.0\",\"id\":2}"}],"details":{"status":"completed","exitCode":0,"durationMs":1407,"aggregated":"event: message\ndata: {\"result\":{\"content\":[{\"type\":\"text\",\"text\":\"{\\n  \\\"data\\\": [\\n    {\\n      \\\"updatedAt\\\": \\\"2026-02-12T11:26:09.940Z\\\",\\n      \\\"createdAt\\\": \\\"2026-02-12T11:26:09.940Z\\\",\\n      \\\"id\\\": \\\"7E2Xx4SUm5YgQWw9\\\",\\n      \\\"name\\\": \\\"API Test Workflow\\\",\\n      \\\"active\\\": false,\\n      \\\"isArchived\\\": false,\\n      \\\"nodes\\\": [],\\n      \\\"connections\\\": {},\\n      \\\"settings\\\": {\\n        \\\"callerPolicy\\\": \\\"workflowsFromSameOwner\\\",\\n        \\\"availableInMCP\\\": false\\n      },\\n      \\\"staticData\\\": null,\\n      \\\"meta\\\": null,\\n      \\\"pinData\\\": null,\\n      \\\"versionId\\\": \\\"b7dedca8-8021-4fa5-9f6e-8ff8d8fe33e7\\\",\\n      \\\"activeVersionId\\\": null,\\n      \\\"triggerCount\\\": 0,\\n      \\\"shared\\\": [\\n        {\\n          \\\"updatedAt\\\": \\\"2026-02-12T11:26:09.940Z\\\",\\n          \\\"createdAt\\\": \\\"2026-02-12T11:26:09.940Z\\\",\\n          \\\"role\\\": \\\"workflow:owner\\\",\\n          \\\"workflowId\\\": \\\"7E2Xx4SUm5YgQWw9\\\",\\n          \\\"projectId\\\": \\\"Xq0VG5A9CPTUak2A\\\"\\n        }\\n      ],\\n      \\\"activeVersion\\\": null,\\n      \\\"tags\\\": []\\n    }\\n  ],\\n  \\\"nextCursor\\\": null\\n}\"}]},\"jsonrpc\":\"2.0\",\"id\":2}","cwd":"/home/node/.openclaw/workspace"},"isError":false,"timestamp":1770900409796}}
{"type":"message","id":"af9fc7ca","parentId":"c0f778a0","timestamp":"2026-02-12T12:46:54.740Z","message":{"role":"assistant","content":[{"type":"text","text":"Váº«n chá»‰ cÃ³ má»™t \"bÃ©\" workflow duy nháº¥t thÃ´i Master Æ¡i:\n\n**1. API Test Workflow**\n*   **ID:** `7E2Xx4SUm5YgQWw9`\n*   **Active:** `false` (Äang ngá»§ Ä‘Ã´ng)\n*   **Ná»™i dung:** Trá»‘ng trÆ¡n (Nodes: `[]`)\n*   **Táº¡o lÃºc:** 12/02/2026\n\nVáº«n lÃ  cÃ¡i workflow rá»—ng tuáº¿ch lÃºc nÃ£y. Master cÃ³ muá»‘n \"pháº«u thuáº­t\" thÃªm node cho nÃ³ hay xÃ³a Ä‘i lÃ m láº¡i cÃ¡i má»›i cho xá»‹n sÃ² hÆ¡n khÃ´ng? ðŸ˜Ž"}],"api":"openai-completions","provider":"cli-proxy","model":"gemini-3-pro-preview","usage":{"input":10527,"output":139,"cacheRead":0,"cacheWrite":0,"totalTokens":10666,"cost":{"input":0,"output":0,"cacheRead":0,"cacheWrite":0,"total":0}},"stopReason":"stop","timestamp":1770900409827}}
{"type":"message","id":"40c7f2df","parentId":"af9fc7ca","timestamp":"2026-02-12T13:33:09.905Z","message":{"role":"user","content":[{"type":"text","text":"[Thu 2026-02-12 13:33 UTC] Liá»‡t kÃª táº¥t cáº£ n8n workflows nha\n[message_id: 86d1ee71-1e5d-4e86-8867-993cf659bb4c]"}],"timestamp":1770903189900}}
{"type":"message","id":"2783dd3e","parentId":"40c7f2df","timestamp":"2026-02-12T13:33:19.734Z","message":{"role":"assistant","content":[{"type":"toolCall","id":"exec-1770903199430020321-17","name":"exec","arguments":{"command":"INIT=$(curl -si --max-time 10 -X POST http://172.17.0.1:3001/mcp \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Accept: application/json, text/event-stream\" \\\n  -d '{\"jsonrpc\":\"2.0\",\"id\":1,\"method\":\"initialize\",\"params\":{\"protocolVersion\":\"2024-11-05\",\"capabilities\":{},\"clientInfo\":{\"name\":\"openclaw\",\"version\":\"1.0\"}}}')\nSESSION=$(echo \"$INIT\" | grep -i 'mcp-session-id' | awk '{print $2}' | tr -d '\\r')\n\ncurl -s --max-time 30 -X POST http://172.17.0.1:3001/mcp \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Accept: application/json, text/event-stream\" \\\n  -H \"mcp-session-id: $SESSION\" \\\n  -d '{\"jsonrpc\":\"2.0\",\"id\":2,\"method\":\"tools/call\",\"params\":{\"name\":\"list_workflows\",\"arguments\":{}}}'"}}],"api":"openai-completions","provider":"cli-proxy","model":"gemini-3-pro-preview","usage":{"input":11146,"output":691,"cacheRead":0,"cacheWrite":0,"totalTokens":11837,"cost":{"input":0,"output":0,"cacheRead":0,"cacheWrite":0,"total":0}},"stopReason":"toolUse","timestamp":1770903189904}}
{"type":"message","id":"07184c4a","parentId":"2783dd3e","timestamp":"2026-02-12T13:33:21.616Z","message":{"role":"toolResult","toolCallId":"exec-1770903199430020321-17","toolName":"exec","content":[{"type":"text","text":"b-a8f8-9e4f5fea66fc\\\",\\n          \\\"name\\\": \\\"Sticky Note1\\\"\\n        }\\n      ],\\n      \\\"connections\\\": {\\n        \\\"Output video file without watermark\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"upload\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              },\\n              {\\n                \\\"node\\\": \\\"Google Drive\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"upload\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Wait\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"generative\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Basic LLM Chain\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Wait\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"generative\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"flash 2.0 tiktok\\\": {\\n          \\\"ai_languageModel\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Creator Tiktok\\\",\\n                \\\"type\\\": \\\"ai_languageModel\\\",\\n                \\\"index\\\": 0\\n              },\\n              {\\n                \\\"node\\\": \\\"Basic LLM Chain\\\",\\n                \\\"type\\\": \\\"ai_languageModel\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Creator Tiktok\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"update_content_tiktok\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Basic LLM Chain\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Creator Tiktok\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"News Output\\\": {\\n          \\\"ai_outputParser\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Creator Tiktok\\\",\\n                \\\"type\\\": \\\"ai_outputParser\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Analyze Key\\\": {\\n          \\\"ai_outputParser\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Basic LLM Chain\\\",\\n                \\\"type\\\": \\\"ai_outputParser\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Google Drive\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Edit Fields\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Edit Fields\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Google Sheets\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Video Page Data\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Raw Video URL\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Raw Video URL\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Output video file without watermark\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"On form submission\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Video Page Data\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Google Sheets\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"update_url\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        }\\n      },\\n      \\\"settings\\\": {\\n        \\\"executionOrder\\\": \\\"v1\\\",\\n        \\\"timezone\\\": \\\"Asia/Jakarta\\\",\\n        \\\"callerPolicy\\\": \\\"workflowsFromSameOwner\\\",\\n        \\\"availableInMCP\\\": false\\n      },\\n      \\\"staticData\\\": null,\\n      \\\"meta\\\": null,\\n      \\\"pinData\\\": null,\\n      \\\"versionId\\\": \\\"6cb0eb25-b30c-49ab-a7fe-77e9987f1c63\\\",\\n      \\\"activeVersionId\\\": null,\\n      \\\"triggerCount\\\": 0,\\n      \\\"shared\\\": [\\n        {\\n          \\\"updatedAt\\\": \\\"2026-02-12T13:29:56.562Z\\\",\\n          \\\"createdAt\\\": \\\"2026-02-12T13:29:56.562Z\\\",\\n          \\\"role\\\": \\\"workflow:owner\\\",\\n          \\\"workflowId\\\": \\\"DxIOcki7Bhcpa8ew\\\",\\n          \\\"projectId\\\": \\\"Xq0VG5A9CPTUak2A\\\"\\n        }\\n      ],\\n      \\\"activeVersion\\\": null,\\n      \\\"tags\\\": []\\n    },\\n    {\\n      \\\"updatedAt\\\": \\\"2026-02-12T13:29:56.198Z\\\",\\n      \\\"createdAt\\\": \\\"2026-02-12T13:29:56.198Z\\\",\\n      \\\"id\\\": \\\"gbE7rxizaqsUByIm\\\",\\n      \\\"name\\\": \\\"Tiktok menamine2 - sáº¡c rtt\\\",\\n      \\\"active\\\": false,\\n      \\\"isArchived\\\": false,\\n      \\\"nodes\\\": [\\n        {\\n          \\\"parameters\\\": {},\\n          \\\"type\\\": \\\"n8n-nodes-base.manualTrigger\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            -2400,\\n            464\\n          ],\\n          \\\"id\\\": \\\"d1c13423-8913-4fc8-9543-44059a75975d\\\",\\n          \\\"name\\\": \\\"When clicking â€˜Execute workflowâ€™\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"url\\\": \\\"https://shop.thetaphoa.store/api/veo3-tokens\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"typeVersion\\\": 4.3,\\n          \\\"position\\\": [\\n            -2176,\\n            464\\n          ],\\n          \\\"id\\\": \\\"d2f9f5d1-4bbf-4332-854f-69548ee869dc\\\",\\n          \\\"name\\\": \\\"get token veo3\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"conditions\\\": {\\n              \\\"options\\\": {\\n                \\\"caseSensitive\\\": true,\\n                \\\"leftValue\\\": \\\"\\\",\\n                \\\"typeValidation\\\": \\\"strict\\\",\\n                \\\"version\\\": 3\\n              },\\n              \\\"conditions\\\": [\\n                {\\n                  \\\"id\\\": \\\"19257071-5bd9-41c9-a242-ddccd226554c\\\",\\n                  \\\"leftValue\\\": \\\"={{ $json.success }}\\\",\\n                  \\\"rightValue\\\": true,\\n                  \\\"operator\\\": {\\n                    \\\"type\\\": \\\"boolean\\\",\\n                    \\\"operation\\\": \\\"equals\\\"\\n                  }\\n                }\\n              ],\\n              \\\"combinator\\\": \\\"and\\\"\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.if\\\",\\n          \\\"typeVersion\\\": 2.3,\\n          \\\"position\\\": [\\n            -32,\\n            16\\n          ],\\n          \\\"id\\\": \\\"2fd0b4ca-0e61-47a9-837b-dda12d64ef3b\\\",\\n          \\\"name\\\": \\\"check status\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"conditions\\\": {\\n              \\\"options\\\": {\\n                \\\"caseSensitive\\\": true,\\n                \\\"leftValue\\\": \\\"\\\",\\n                \\\"typeValidation\\\": \\\"strict\\\",\\n                \\\"version\\\": 3\\n              },\\n              \\\"conditions\\\": [\\n                {\\n                  \\\"id\\\": \\\"725206b9-7c31-4630-bbf9-bff5d17ce395\\\",\\n                  \\\"leftValue\\\": \\\"={{ $json.result.operations[0].operation.name }}\\\",\\n                  \\\"rightValue\\\": \\\"\\\",\\n                  \\\"operator\\\": {\\n                    \\\"type\\\": \\\"string\\\",\\n                    \\\"operation\\\": \\\"exists\\\",\\n                    \\\"singleValue\\\": true\\n                  }\\n                }\\n              ],\\n              \\\"combinator\\\": \\\"and\\\"\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.if\\\",\\n          \\\"typeVersion\\\": 2.3,\\n          \\\"position\\\": [\\n            192,\\n            -48\\n          ],\\n          \\\"id\\\": \\\"8da1379e-76f8-407f-a443-cd8ecae233b1\\\",\\n          \\\"name\\\": \\\"kiá»ƒm tra tÃªn\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"conditions\\\": {\\n              \\\"options\\\": {\\n                \\\"caseSensitive\\\": true,\\n                \\\"leftValue\\\": \\\"\\\",\\n                \\\"typeValidation\\\": \\\"strict\\\",\\n                \\\"version\\\": 3\\n              },\\n              \\\"conditions\\\": [\\n                {\\n                  \\\"id\\\": \\\"bb52ec6b-2c36-4ad0-88d7-89b2f77ffbc4\\\",\\n                  \\\"leftValue\\\": \\\"={{ $json.operations[0].operation.metadata.video.fifeUrl }}\\\",\\n                  \\\"rightValue\\\": \\\"\\\",\\n                  \\\"operator\\\": {\\n                    \\\"type\\\": \\\"string\\\",\\n                    \\\"operation\\\": \\\"exists\\\",\\n                    \\\"singleValue\\\": true\\n                  }\\n                }\\n              ],\\n              \\\"combinator\\\": \\\"and\\\"\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.if\\\",\\n          \\\"typeVersion\\\": 2.3,\\n          \\\"position\\\": [\\n            640,\\n            -112\\n          ],\\n          \\\"id\\\": \\\"4c527bad-ce8b-49e2-97ea-45a5f6fec348\\\",\\n          \\\"name\\\": \\\"kiá»ƒm tra xem cÃ³ file url\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {},\\n          \\\"type\\\": \\\"n8n-nodes-base.wait\\\",\\n          \\\"typeVersion\\\": 1.1,\\n          \\\"position\\\": [\\n            192,\\n            176\\n          ],\\n          \\\"id\\\": \\\"3855ba98-869c-40b1-943d-4505446c8930\\\",\\n          \\\"name\\\": \\\"Wait2\\\",\\n          \\\"webhookId\\\": \\\"b96fc9c1-6669-43c1-84f8-af114f67297d\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {},\\n          \\\"type\\\": \\\"n8n-nodes-base.wait\\\",\\n          \\\"typeVersion\\\": 1.1,\\n          \\\"position\\\": [\\n            864,\\n            -48\\n          ],\\n          \\\"id\\\": \\\"16fa047d-a28f-472d-a401-5c3776d5dbcd\\\",\\n          \\\"name\\\": \\\"Wait3\\\",\\n          \\\"webhookId\\\": \\\"82f89e17-3c0d-4d0e-8fae-1b65c25f29dc\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.splitInBatches\\\",\\n          \\\"typeVersion\\\": 3,\\n          \\\"position\\\": [\\n            -704,\\n            256\\n          ],\\n          \\\"id\\\": \\\"5c8920ca-4910-4359-91f2-f3fd85842755\\\",\\n          \\\"name\\\": \\\"Loop Over Items\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"operation\\\": \\\"write\\\",\\n            \\\"fileName\\\": \\\"=/files/temp_video_{{ $itemIndex }}.mp4\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.readWriteFile\\\",\\n          \\\"typeVersion\\\": 1.1,\\n          \\\"position\\\": [\\n            -480,\\n            400\\n          ],\\n          \\\"id\\\": \\\"503b2062-d8a6-480c-9682-e710fc7a9af2\\\",\\n          \\\"name\\\": \\\"ghi máº¥y video vÃ´ folder táº¡m\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"command\\\": \\\"ls -v /files/temp_video_*.mp4 | sed \\\\\\\"s|^|file '|;s|$|'|\\\\\\\" > /files/concat_list.txt && ffmpeg -y -f concat -safe 0 -i /files/concat_list.txt -c copy /files/merged_output.mp4\\\"\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.executeCommand\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            -256,\\n            400\\n          ],\\n          \\\"id\\\": \\\"3b11f146-372a-42ef-968e-6e18a25eb701\\\",\\n          \\\"name\\\": \\\"merge video\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"fileSelector\\\": \\\"/files/final_output.mp4\\\",\\n            \\\"options\\\": {\\n              \\\"dataPropertyName\\\": \\\"data\\\"\\n            }\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.readWriteFile\\\",\\n          \\\"typeVersion\\\": 1.1,\\n          \\\"position\\\": [\\n            848,\\n            416\\n          ],\\n          \\\"id\\\": \\\"ef475f9f-8196-4608-a290-bc062b927c72\\\",\\n          \\\"name\\\": \\\"láº¥y video ra\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"command\\\": \\\"rm -f /files/*\\\"\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.executeCommand\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            1312,\\n            496\\n          ],\\n          \\\"id\\\": \\\"264ab393-bd8a-4552-bfc3-05fb8cc2ec08\\\",\\n          \\\"name\\\": \\\"XÃ³a video sau Ä‘Äƒng\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"rule\\\": {\\n              \\\"interval\\\": [\\n                {\\n                  \\\"field\\\": \\\"minutes\\\",\\n                  \\\"minutesInterval\\\": 30\\n                }\\n              ]\\n            }\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.scheduleTrigger\\\",\\n          \\\"typeVersion\\\": 1.3,\\n          \\\"position\\\": [\\n            -2848,\\n            272\\n          ],\\n          \\\"id\\\": \\\"8ccb96b7-0f88-40ec-9392-992bf8302b34\\\",\\n          \\\"name\\\": \\\"Schedule Trigger\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"method\\\": \\\"POST\\\",\\n            \\\"url\\\": \\\"https://flow-api.nanoai.pics/api/fix/create-flow\\\",\\n            \\\"sendHeaders\\\": true,\\n            \\\"headerParameters\\\": {\\n              \\\"parameters\\\": [\\n                {\\n                  \\\"name\\\": \\\"Authorization\\\",\\n                  \\\"value\\\": \\\"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6Mjc2LCJyb2xlIjozLCJpYXQiOjE3NzAzNjYxMjd9.L87YcCDxDdEUdPmlnD8-38zIwNQKg_TijRsT3VHbk2s\\\"\\n                }\\n              ]\\n            },\\n            \\\"sendBody\\\": true,\\n            \\\"specifyBody\\\": \\\"json\\\",\\n            \\\"jsonBody\\\": \\\"={\\\\n  \\\\\\\"flow_url\\\\\\\": \\\\\\\" https://aisandbox-pa.googleapis.com/v1/video:batchAsyncGenerateVideoReferenceImages\\\\\\\",\\\\n  \\\\\\\"flow_auth_token\\\\\\\": \\\\\\\"{{ $('get token veo3').item.json.data[0].value }}\\\\\\\",\\\\n  \\\\\\\"body_json\\\\\\\": {\\\\n    \\\\\\\"clientContext\\\\\\\": {\\\\n      \\\\\\\"recaptchaContext\\\\\\\": {\\\\n        \\\\\\\"token\\\\\\\": \\\\\\\"\\\\\\\",\\\\n        \\\\\\\"applicationType\\\\\\\": \\\\\\\"RECAPTCHA_APPLICATION_TYPE_WEB\\\\\\\"\\\\n      },\\\\n      \\\\\\\"sessionId\\\\\\\": \\\\\\\";1770366835217\\\\\\\",\\\\n      \\\\\\\"projectId\\\\\\\": \\\\\\\"3abca4cb-792d-4df0-8ada-4cabdcded627\\\\\\\",\\\\n      \\\\\\\"tool\\\\\\\": \\\\\\\"PINHOLE\\\\\\\",\\\\n      \\\\\\\"userPaygateTier\\\\\\\": \\\\\\\"PAYGATE_TIER_TWO\\\\\\\"\\\\n    },\\\\n    \\\\\\\"requests\\\\\\\": [\\\\n      {\\\\n        \\\\\\\"aspectRatio\\\\\\\": \\\\\\\"VIDEO_ASPECT_RATIO_PORTRAIT\\\\\\\",\\\\n        \\\\\\\"metadata\\\\\\\": {\\\\n          \\\\\\\"sceneId\\\\\\\": \\\\\\\"0eec6e8e-838f-48bd-aeb4-ca1282633c2d\\\\\\\"\\\\n        },\\\\n        \\\\\\\"referenceImages\\\\\\\": [\\\\n          {\\\\n            \\\\\\\"imageUsageType\\\\\\\": \\\\\\\"IMAGE_USAGE_TYPE_ASSET\\\\\\\",\\\\n            \\\\\\\"mediaId\\\\\\\": \\\\\\\"{{ $json.mediaId }}\\\\\\\"\\\\n          }\\\\n        ],\\\\n        \\\\\\\"seed\\\\\\\": 25473,\\\\n        \\\\\\\"textInput\\\\\\\": {\\\\n          \\\\\\\"prompt\\\\\\\": \\\\\\\"{{ $json.output }}\\\\\\\"\\\\n        },\\\\n        \\\\\\\"videoModelKey\\\\\\\": \\\\\\\"veo_3_1_r2v_fast_portrait_ultra\\\\\\\"\\\\n      }\\\\n    ]\\\\n  },\\\\n  \\\\\\\"is_proxy\\\\\\\": false\\\\n}\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"typeVersion\\\": 4.3,\\n          \\\"position\\\": [\\n            -480,\\n            64\\n          ],\\n          \\\"id\\\": \\\"96e42ab5-7858-405b-9b2d-f1f2fd48ed0c\\\",\\n          \\\"name\\\": \\\"Táº¡o video tá»« hÃ¬nh post\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"url\\\": \\\"https://flow-api.nanoai.pics/api/fix/task-status\\\",\\n            \\\"sendQuery\\\": true,\\n            \\\"queryParameters\\\": {\\n              \\\"parameters\\\": [\\n                {\\n                  \\\"name\\\": \\\"taskId\\\",\\n                  \\\"value\\\": \\\"={{ $(\\\\\\\"Táº¡o video tá»« hÃ¬nh post\\\\\\\").item.json.taskId }}\\\"\\n                }\\n              ]\\n            },\\n            \\\"sendHeaders\\\": true,\\n            \\\"headerParameters\\\": {\\n              \\\"parameters\\\": [\\n                {\\n                  \\\"name\\\": \\\"Authorization\\\",\\n                  \\\"value\\\": \\\"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6Mjc2LCJyb2xlIjozLCJpYXQiOjE3NzAzNjMyNzF9.qOQ3Hbl0OazkjH2tOmSgOjkTXZGuaD9z4Bo9TRVXL0s\\\"\\n                }\\n              ]\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"typeVersion\\\": 4.3,\\n          \\\"position\\\": [\\n            -256,\\n            64\\n          ],\\n          \\\"id\\\": \\\"4a34c41c-6a64-408e-ac8d-e39619aebdd2\\\",\\n          \\\"name\\\": \\\"Check status\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"method\\\": \\\"POST\\\",\\n            \\\"url\\\": \\\"https://aisandbox-pa.googleapis.com/v1/video:batchCheckAsyncVideoGenerationStatus\\\",\\n            \\\"sendHeaders\\\": true,\\n            \\\"headerParameters\\\": {\\n              \\\"parameters\\\": [\\n                {\\n                  \\\"name\\\": \\\"accept\\\",\\n                  \\\"value\\\": \\\"*/*\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"accept-language\\\",\\n                  \\\"value\\\": \\\"en-AU,en-GB;q=0.9,en-US;q=0.8,en;q=0.7,vi;q=0.6\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"authorization\\\",\\n                  \\\"value\\\": \\\"=Bearer {{ $('get token veo3').item.json.data[0].value }}\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"origin\\\",\\n                  \\\"value\\\": \\\"https://labs.google\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"priority\\\",\\n                  \\\"value\\\": \\\"u=1, i\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"referer\\\",\\n                  \\\"value\\\": \\\"https://labs.google/\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"sec-ch-ua\\\",\\n                  \\\"value\\\": \\\"\\\\\\\"Not(A:Brand\\\\\\\";v=\\\\\\\"8\\\\\\\", \\\\\\\"Chromium\\\\\\\";v=\\\\\\\"144\\\\\\\", \\\\\\\"Google Chrome\\\\\\\";v=\\\\\\\"144\\\\\\\"\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"sec-ch-ua-mobile\\\",\\n                  \\\"value\\\": \\\"?0\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"sec-ch-ua-platform\\\",\\n                  \\\"value\\\": \\\"\\\\\\\"Windows\\\\\\\"\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"sec-fetch-dest\\\",\\n                  \\\"value\\\": \\\"empty\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"sec-fetch-mode\\\",\\n                  \\\"value\\\": \\\"cors\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"sec-fetch-site\\\",\\n                  \\\"value\\\": \\\"cross-site\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"user-agent\\\",\\n                  \\\"value\\\": \\\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"x-browser-channel\\\",\\n                  \\\"value\\\": \\\"stable\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"x-browser-copyright\\\",\\n                  \\\"value\\\": \\\"Copyright 2026 Google LLC. All Rights reserved.\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"x-browser-validation\\\",\\n                  \\\"value\\\": \\\"AKIAtsVHZoiKbPixy+qSK1BgKWo=\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"x-browser-year\\\",\\n                  \\\"value\\\": \\\"2026\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"x-client-data\\\",\\n                  \\\"value\\\": \\\"CK21yQEIjbbJAQijtskBCKmdygEIuubKAQiWocsBCIWgzQE=\\\"\\n                }\\n              ]\\n            },\\n            \\\"sendBody\\\": true,\\n            \\\"specifyBody\\\": \\\"json\\\",\\n            \\\"jsonBody\\\": \\\"={\\\\n  \\\\\\\"operations\\\\\\\": [\\\\n    {\\\\n      \\\\\\\"operation\\\\\\\": {\\\\n        \\\\\\\"name\\\\\\\": \\\\\\\"{{ $('Check status').item.json.result.operations[0].operation.name }}\\\\\\\"\\\\n      },\\\\n      \\\\\\\"status\\\\\\\": \\\\\\\"MEDIA_GENERATION_STATUS_ACTIVE\\\\\\\"\\\\n    }\\\\n  ]\\\\n}\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"typeVersion\\\": 4.3,\\n          \\\"position\\\": [\\n            416,\\n            -48\\n          ],\\n          \\\"id\\\": \\\"518d98f7-bef6-4ea7-885b-f021bfd70974\\\",\\n          \\\"name\\\": \\\"Láº¥y video url\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"url\\\": \\\"={{ $json.operations[0].operation.metadata.video.fifeUrl }}\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"typeVersion\\\": 4.3,\\n          \\\"position\\\": [\\n            944,\\n            208\\n          ],\\n          \\\"id\\\": \\\"d64e8d27-fd5d-47ae-aa72-3601b7fb5f43\\\",\\n          \\\"name\\\": \\\"Get video\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"postSettings\\\": {\\n              \\\"text\\\": \\\"={{ $('láº¥y data prompt').item.json.data[0].description }}\\\",\\n              \\\"visibilityType\\\": 0,\\n              \\\"allowComment\\\": 1,\\n              \\\"scheduleTime\\\": \\\"=0\\\",\\n              \\\"anchors\\\": {\\n                \\\"anchor\\\": [\\n                  {\\n                    \\\"type\\\": \\\"product\\\",\\n                    \\\"productId\\\": \\\"={{ $('láº¥y data prompt').item.json.data[0].productId }}\\\",\\n                    \\\"displayName\\\": \\\"={{ $('láº¥y data prompt').item.json.data[0].productTitle }}\\\"\\n                  }\\n                ]\\n              }\\n            }\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-social-tiktok.tikTokUpload\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            1056,\\n            448\\n          ],\\n          \\\"id\\\": \\\"aac260d1-90ca-4fc6-8429-5dcfd64b684c\\\",\\n          \\\"name\\\": \\\"TikTok Upload File\\\",\\n          \\\"credentials\\\": {\\n            \\\"tiktokApi\\\": {\\n              \\\"id\\\": \\\"UXpOpodAqPGk9di3\\\",\\n              \\\"name\\\": \\\"TikTok Credential account\\\"\\n            }\\n          }\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"jsCode\\\": \\\"const minutes = Math.floor(Math.random() * 25) + 1;\\\\nreturn [{ json: { delayMinutes: minutes } }];\\\"\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.code\\\",\\n          \\\"typeVersion\\\": 2,\\n          \\\"position\\\": [\\n            -2624,\\n            272\\n          ],\\n          \\\"id\\\": \\\"69b73970-face-4236-b970-a83312f7ca02\\\",\\n          \\\"name\\\": \\\"Code in JavaScript\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"amount\\\": \\\"={{ $json.delayMinutes }}\\\",\\n            \\\"unit\\\": \\\"minutes\\\"\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.wait\\\",\\n          \\\"typeVersion\\\": 1.1,\\n          \\\"position\\\": [\\n            -2400,\\n            272\\n          ],\\n          \\\"id\\\": \\\"f90d241e-9037-409f-930b-0718735e4192\\\",\\n          \\\"name\\\": \\\"Wait\\\",\\n          \\\"webhookId\\\": \\\"674c2567-5d60-48bc-8e7a-1a201036b46d\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"url\\\": \\\"https://shop.thetaphoa.store//api/tiktok-music?random=1\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"typeVersion\\\": 4.3,\\n          \\\"position\\\": [\\n            -32,\\n            400\\n          ],\\n          \\\"id\\\": \\\"9fd6e9e9-17df-4b26-8f03-72e29fd1f596\\\",\\n          \\\"name\\\": \\\"Láº¥y link nháº¡c\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"url\\\": \\\"={{ $json.data.music.url }}\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"typeVersion\\\": 4.3,\\n          \\\"position\\\": [\\n            192,\\n            400\\n          ],\\n          \\\"id\\\": \\\"ed2dfb52-4181-48db-8464-36c840cae34e\\\",\\n          \\\"name\\\": \\\"Láº¥y nháº¡c\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"operation\\\": \\\"write\\\",\\n            \\\"fileName\\\": \\\"=/files/temp_music.mp3\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.readWriteFile\\\",\\n          \\\"typeVersion\\\": 1.1,\\n          \\\"position\\\": [\\n            416,\\n            400\\n          ],\\n          \\\"id\\\": \\\"b180e35a-fe52-4150-ae40-055846d28098\\\",\\n          \\\"name\\\": \\\"ghi nháº¡c trong file táº¡m\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"command\\\": \\\"ffmpeg -i /files/merged_output.mp4 -i /files/temp_music.mp3 -c:v copy -c:a aac -map 0:v -map 1:a -shortest -y /files/final_output.mp4\\\"\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.executeCommand\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            640,\\n            400\\n          ],\\n          \\\"id\\\": \\\"1242c17a-8270-44b1-9539-7f6ec332c9cc\\\",\\n          \\\"name\\\": \\\"Execute Command\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"promptType\\\": \\\"define\\\",\\n            \\\"text\\\": \\\"=báº¡n thay Ä‘á»•i prompt nÃ y má»™t chÃºt Ä‘á»ƒ thay Ä‘á»•i bá»‘i cáº£nh, output dÆ°á»›i 90 kÃ­ tá»±, chá»‰ show láº¡i prompt Ä‘Ã£ chá»‰nh sá»­a chá»© khÃ´ng show máº¥y chá»— báº¡n suy nghÄ© nha:\\\\n{{ $json.content }}\\\",\\n            \\\"hasOutputParser\\\": true,\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"@n8n/n8n-nodes-langchain.agent\\\",\\n          \\\"typeVersion\\\": 3.1,\\n          \\\"position\\\": [\\n            -1088,\\n            480\\n          ],\\n          \\\"id\\\": \\\"c7578fd9-7461-4829-a8ad-158f74514efc\\\",\\n          \\\"name\\\": \\\"AI Agent\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"fieldToSplitOut\\\": \\\"data[0].prompts\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.splitOut\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            -1504,\\n            464\\n          ],\\n          \\\"id\\\": \\\"56aa0f97-923c-4f37-88ea-18646095c625\\\",\\n          \\\"name\\\": \\\"Split Out\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.splitInBatches\\\",\\n          \\\"typeVersion\\\": 3,\\n          \\\"position\\\": [\\n            -1280,\\n            144\\n          ],\\n          \\\"id\\\": \\\"12a4e38d-5433-47df-9a54-a519116617dd\\\",\\n          \\\"name\\\": \\\"Loop Over Items1\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"model\\\": {\\n              \\\"__rl\\\": true,\\n              \\\"value\\\": \\\"=claude-opus-4-6-thinking\\\",\\n              \\\"mode\\\": \\\"id\\\"\\n            },\\n            \\\"responsesApiEnabled\\\": false,\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"@n8n/n8n-nodes-langchain.lmChatOpenAi\\\",\\n          \\\"typeVersion\\\": 1.3,\\n          \\\"position\\\": [\\n            -992,\\n            768\\n          ],\\n          \\\"id\\\": \\\"9abe990a-efb8-4544-9782-d4008b77cd81\\\",\\n          \\\"name\\\": \\\"OpenAI Chat Model\\\",\\n          \\\"credentials\\\": {\\n            \\\"openAiApi\\\": {\\n              \\\"id\\\": \\\"ZQmj6pJ5Zy0uP5z1\\\",\\n              \\\"name\\\": \\\"CLI-proxy\\\"\\n            }\\n          }\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"mode\\\": \\\"combine\\\",\\n            \\\"combineBy\\\": \\\"combineByPosition\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.merge\\\",\\n          \\\"typeVersion\\\": 3.2,\\n          \\\"position\\\": [\\n            -992,\\n            256\\n          ],\\n          \\\"id\\\": \\\"985a464e-3b7e-4e14-bd35-c900df8098ad\\\",\\n          \\\"name\\\": \\\"Data merge\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"conditions\\\": {\\n              \\\"options\\\": {\\n                \\\"caseSensitive\\\": true,\\n                \\\"leftValue\\\": \\\"\\\",\\n                \\\"typeValidation\\\": \\\"strict\\\",\\n                \\\"version\\\": 3\\n              },\\n              \\\"conditions\\\": [\\n                {\\n                  \\\"id\\\": \\\"2b827f27-a1db-401d-a00a-3d62a1b071b5\\\",\\n                  \\\"leftValue\\\": \\\"={{ $json.data[0].enabled }}\\\",\\n                  \\\"rightValue\\\": true,\\n                  \\\"operator\\\": {\\n                    \\\"type\\\": \\\"boolean\\\",\\n                    \\\"operation\\\": \\\"equals\\\"\\n                  }\\n                }\\n              ],\\n              \\\"combinator\\\": \\\"and\\\"\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.if\\\",\\n          \\\"typeVersion\\\": 2.3,\\n          \\\"position\\\": [\\n            -1728,\\n            464\\n          ],\\n          \\\"id\\\": \\\"18dee2f5-f0fd-42c9-95ab-690c71a24cdf\\\",\\n          \\\"name\\\": \\\"Check flow enable\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"url\\\": \\\"https://shop.thetaphoa.store/api/autoflows?accountId=6984100221bd5a4f3e75f004&productId=1731372019868338007\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"typeVersion\\\": 4.3,\\n          \\\"position\\\": [\\n            -1952,\\n            464\\n          ],\\n          \\\"id\\\": \\\"be332dc0-0536-47af-8ba4-af155b65d28f\\\",\\n          \\\"name\\\": \\\"láº¥y data prompt\\\"\\n        }\\n      ],\\n      \\\"connections\\\": {\\n        \\\"When clicking â€˜Execute workflowâ€™\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"get token veo3\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"get token veo3\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"láº¥y data prompt\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"check status\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"kiá»ƒm tra tÃªn\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ],\\n            [\\n              {\\n                \\\"node\\\": \\\"Wait2\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"kiá»ƒm tra tÃªn\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Láº¥y video url\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"kiá»ƒm tra xem cÃ³ file url\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Get video\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ],\\n            [\\n              {\\n                \\\"node\\\": \\\"Wait3\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Wait2\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Check status\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Wait3\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Láº¥y video url\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Loop Over Items\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"ghi máº¥y video vÃ´ folder táº¡m\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ],\\n            [\\n              {\\n                \\\"node\\\": \\\"Táº¡o video tá»« hÃ¬nh post\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"ghi máº¥y video vÃ´ folder táº¡m\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"merge video\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"merge video\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Láº¥y link nháº¡c\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"láº¥y video ra\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"TikTok Upload File\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Schedule Trigger\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Code in JavaScript\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Táº¡o video tá»« hÃ¬nh post\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Check status\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Check status\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"check status\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Láº¥y video url\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"kiá»ƒm tra xem cÃ³ file url\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Get video\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Loop Over Items\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"TikTok Upload File\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"XÃ³a video sau Ä‘Äƒng\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Code in JavaScript\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Wait\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Wait\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"get token veo3\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Láº¥y link nháº¡c\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Láº¥y nháº¡c\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Láº¥y nháº¡c\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"ghi nháº¡c trong file táº¡m\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"ghi nháº¡c trong file táº¡m\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Execute Command\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Execute Command\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"láº¥y video ra\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Split Out\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Loop Over Items1\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              },\\n              {\\n                \\\"node\\\": \\\"Data merge\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 1\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Loop Over Items1\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Data merge\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ],\\n            [\\n              {\\n                \\\"node\\\": \\\"AI Agent\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"AI Agent\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Loop Over Items1\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"OpenAI Chat Model\\\": {\\n          \\\"ai_languageModel\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"AI Agent\\\",\\n                \\\"type\\\": \\\"ai_languageModel\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Data merge\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Loop Over Items\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Check flow enable\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Split Out\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"láº¥y data prompt\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Check flow enable\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        }\\n      },\\n      \\\"settings\\\": {\\n        \\\"executionOrder\\\": \\\"v1\\\",\\n        \\\"availableInMCP\\\": false,\\n        \\\"callerPolicy\\\": \\\"workflowsFromSameOwner\\\"\\n      },\\n      \\\"staticData\\\": null,\\n      \\\"meta\\\": null,\\n      \\\"pinData\\\": null,\\n      \\\"versionId\\\": \\\"a1309df2-b116-4ec4-a2e1-6035ccc55c4d\\\",\\n      \\\"activeVersionId\\\": null,\\n      \\\"triggerCount\\\": 0,\\n      \\\"shared\\\": [\\n        {\\n          \\\"updatedAt\\\": \\\"2026-02-12T13:29:56.198Z\\\",\\n          \\\"createdAt\\\": \\\"2026-02-12T13:29:56.198Z\\\",\\n          \\\"role\\\": \\\"workflow:owner\\\",\\n          \\\"workflowId\\\": \\\"gbE7rxizaqsUByIm\\\",\\n          \\\"projectId\\\": \\\"Xq0VG5A9CPTUak2A\\\"\\n        }\\n      ],\\n      \\\"activeVersion\\\": null,\\n      \\\"tags\\\": []\\n    },\\n    {\\n      \\\"updatedAt\\\": \\\"2026-02-12T13:29:56.091Z\\\",\\n      \\\"createdAt\\\": \\\"2026-02-12T13:29:56.091Z\\\",\\n      \\\"id\\\": \\\"4eSpFbYqdJcI6PCf\\\",\\n      \\\"name\\\": \\\"Tiktok menamine2 - kháº©u trang 9a\\\",\\n      \\\"active\\\": false,\\n      \\\"isArchived\\\": false,\\n      \\\"nodes\\\": [\\n        {\\n          \\\"parameters\\\": {},\\n          \\\"type\\\": \\\"n8n-nodes-base.manualTrigger\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            -1472,\\n            1760\\n          ],\\n          \\\"id\\\": \\\"e876da8e-89f4-4339-8480-3299e206d564\\\",\\n          \\\"name\\\": \\\"When clicking â€˜Execute workflowâ€™\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"url\\\": \\\"https://shop.thetaphoa.store/api/veo3-tokens\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"typeVersion\\\": 4.3,\\n          \\\"position\\\": [\\n            -1248,\\n            1664\\n          ],\\n          \\\"id\\\": \\\"3568fbae-232f-4c8b-9aec-ecca25feea1e\\\",\\n          \\\"name\\\": \\\"get token veo3\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"conditions\\\": {\\n              \\\"options\\\": {\\n                \\\"caseSensitive\\\": true,\\n                \\\"leftValue\\\": \\\"\\\",\\n                \\\"typeValidation\\\": \\\"strict\\\",\\n                \\\"version\\\": 3\\n              },\\n              \\\"conditions\\\": [\\n                {\\n                  \\\"id\\\": \\\"19257071-5bd9-41c9-a242-ddccd226554c\\\",\\n                  \\\"leftValue\\\": \\\"={{ $json.success }}\\\",\\n                  \\\"rightValue\\\": true,\\n                  \\\"operator\\\": {\\n                    \\\"type\\\": \\\"boolean\\\",\\n                    \\\"operation\\\": \\\"equals\\\"\\n                  }\\n                }\\n              ],\\n              \\\"combinator\\\": \\\"and\\\"\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.if\\\",\\n          \\\"typeVersion\\\": 2.3,\\n          \\\"position\\\": [\\n            896,\\n            1120\\n          ],\\n          \\\"id\\\": \\\"32c8740f-c520-43f2-957e-d706fb8d80f3\\\",\\n          \\\"name\\\": \\\"check status\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"conditions\\\": {\\n              \\\"options\\\": {\\n                \\\"caseSensitive\\\": true,\\n                \\\"leftValue\\\": \\\"\\\",\\n                \\\"typeValidation\\\": \\\"strict\\\",\\n                \\\"version\\\": 3\\n              },\\n              \\\"conditions\\\": [\\n                {\\n                  \\\"id\\\": \\\"bb52ec6b-2c36-4ad0-88d7-89b2f77ffbc4\\\",\\n                  \\\"leftValue\\\": \\\"={{ $json.operations[0].operation.metadata.video.fifeUrl }}\\\",\\n                  \\\"rightValue\\\": \\\"\\\",\\n                  \\\"operator\\\": {\\n                    \\\"type\\\": \\\"string\\\",\\n                    \\\"operation\\\": \\\"exists\\\",\\n                    \\\"singleValue\\\": true\\n                  }\\n                }\\n              ],\\n              \\\"combinator\\\": \\\"and\\\"\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.if\\\",\\n          \\\"typeVersion\\\": 2.3,\\n          \\\"position\\\": [\\n            1568,\\n            992\\n          ],\\n          \\\"id\\\": \\\"af398de5-4df8-4dd2-bd30-01b4fbf40374\\\",\\n          \\\"name\\\": \\\"kiá»ƒm tra xem cÃ³ file url\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {},\\n          \\\"type\\\": \\\"n8n-nodes-base.wait\\\",\\n          \\\"typeVersion\\\": 1.1,\\n          \\\"position\\\": [\\n            1120,\\n            1280\\n          ],\\n          \\\"id\\\": \\\"40451707-4742-420b-84cd-62f0995307f3\\\",\\n          \\\"name\\\": \\\"Wait2\\\",\\n          \\\"webhookId\\\": \\\"8752aac0-49ae-4a61-bea9-8128c0405e76\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {},\\n          \\\"type\\\": \\\"n8n-nodes-base.wait\\\",\\n          \\\"typeVersion\\\": 1.1,\\n          \\\"position\\\": [\\n            1792,\\n            1072\\n          ],\\n          \\\"id\\\": \\\"6b598500-8a20-4cc5-9961-2f599e7d4529\\\",\\n          \\\"name\\\": \\\"Wait3\\\",\\n          \\\"webhookId\\\": \\\"45f420ee-7390-41d6-94c3-2f43030ee02b\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.splitInBatches\\\",\\n          \\\"typeVersion\\\": 3,\\n          \\\"position\\\": [\\n            128,\\n            1584\\n          ],\\n          \\\"id\\\": \\\"1e8c9009-f64a-46e3-b0b5-9db409d660c8\\\",\\n          \\\"name\\\": \\\"Loop Over Items\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"operation\\\": \\\"write\\\",\\n            \\\"fileName\\\": \\\"=/files/temp_video_{{ $itemIndex }}.mp4\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.readWriteFile\\\",\\n          \\\"typeVersion\\\": 1.1,\\n          \\\"position\\\": [\\n            896,\\n            1552\\n          ],\\n          \\\"id\\\": \\\"b39d7ff6-993f-4370-b889-4630fb1a5b20\\\",\\n          \\\"name\\\": \\\"ghi máº¥y video vÃ´ folder táº¡m\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"fileSelector\\\": \\\"/files/final_output.mp4\\\",\\n            \\\"options\\\": {\\n              \\\"dataPropertyName\\\": \\\"data\\\"\\n            }\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.readWriteFile\\\",\\n          \\\"typeVersion\\\": 1.1,\\n          \\\"position\\\": [\\n            2016,\\n            1568\\n          ],\\n          \\\"id\\\": \\\"40741a6e-aa0f-4143-a915-e4e5b380fbbe\\\",\\n          \\\"name\\\": \\\"láº¥y video ra\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"command\\\": \\\"rm -f /files/*\\\"\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.executeCommand\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            2432,\\n            1568\\n          ],\\n          \\\"id\\\": \\\"5a422daf-cc5e-485b-9040-49f4c5eafbb8\\\",\\n          \\\"name\\\": \\\"XÃ³a video sau Ä‘Äƒng\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"rule\\\": {\\n              \\\"interval\\\": [\\n                {\\n                  \\\"field\\\": \\\"minutes\\\",\\n                  \\\"minutesInterval\\\": 30\\n                }\\n              ]\\n            }\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.scheduleTrigger\\\",\\n          \\\"typeVersion\\\": 1.3,\\n          \\\"position\\\": [\\n            -1920,\\n            1568\\n          ],\\n          \\\"id\\\": \\\"ce266a37-e5c4-48ca-8295-4408c1a1ff3e\\\",\\n          \\\"name\\\": \\\"Schedule Trigger\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"method\\\": \\\"POST\\\",\\n            \\\"url\\\": \\\"https://flow-api.nanoai.pics/api/fix/create-flow\\\",\\n            \\\"sendHeaders\\\": true,\\n            \\\"headerParameters\\\": {\\n              \\\"parameters\\\": [\\n                {\\n                  \\\"name\\\": \\\"Authorization\\\",\\n                  \\\"value\\\": \\\"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6Mjc2LCJyb2xlIjozLCJpYXQiOjE3NzA3NDA5NDh9.cOuA90MuxKposYRENvOSmeh70FXCfJhjvH9364JcHmA\\\"\\n                }\\n              ]\\n            },\\n            \\\"sendBody\\\": true,\\n            \\\"specifyBody\\\": \\\"json\\\",\\n            \\\"jsonBody\\\": \\\"={\\\\n  \\\\\\\"flow_url\\\\\\\": \\\\\\\"https://aisandbox-pa.googleapis.com/v1/video:batchAsyncGenerateVideoText\\\\\\\",\\\\n  \\\\\\\"flow_auth_token\\\\\\\": \\\\\\\"{{ $('get token veo3').item.json.data[0].value }}\\\\\\\",\\\\n  \\\\\\\"body_json\\\\\\\": {\\\\n    \\\\\\\"clientContext\\\\\\\": {\\\\n      \\\\\\\"recaptchaContext\\\\\\\": {\\\\n        \\\\\\\"token\\\\\\\": \\\\\\\"\\\\\\\",\\\\n        \\\\\\\"applicationType\\\\\\\": \\\\\\\"RECAPTCHA_APPLICATION_TYPE_WEB\\\\\\\"\\\\n      },\\\\n      \\\\\\\"sessionId\\\\\\\": \\\\\\\";1770714262718\\\\\\\",\\\\n      \\\\\\\"projectId\\\\\\\": \\\\\\\"ca491fb1-9f80-4c6a-9b69-8c0fadee7c0b\\\\\\\",\\\\n      \\\\\\\"tool\\\\\\\": \\\\\\\"PINHOLE\\\\\\\",\\\\n      \\\\\\\"userPaygateTier\\\\\\\": \\\\\\\"PAYGATE_TIER_TWO\\\\\\\"\\\\n    },\\\\n    \\\\\\\"requests\\\\\\\": [\\\\n      {\\\\n        \\\\\\\"aspectRatio\\\\\\\": \\\\\\\"VIDEO_ASPECT_RATIO_PORTRAIT\\\\\\\",\\\\n        \\\\\\\"seed\\\\\\\": 27076,\\\\n        \\\\\\\"textInput\\\\\\\": {\\\\n          \\\\\\\"prompt\\\\\\\": \\\\\\\"{{ $json.output }}\\\\\\\"\\\\n        },\\\\n        \\\\\\\"videoModelKey\\\\\\\": \\\\\\\"veo_3_1_t2v_fast_portrait_ultra\\\\\\\",\\\\n        \\\\\\\"metadata\\\\\\\": {\\\\n          \\\\\\\"sceneId\\\\\\\": \\\\\\\"0a65fde6-44f0-4139-bf1c-8cc2e5357bd3\\\\\\\"\\\\n        }\\\\n      }\\\\n    ]\\\\n  },\\\\n  \\\\\\\"is_proxy\\\\\\\": false\\\\n}\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"typeVersion\\\": 4.3,\\n          \\\"position\\\": [\\n            448,\\n            1136\\n          ],\\n          \\\"id\\\": \\\"61f09f76-b4c1-46b1-b0ef-a97bf6bf0678\\\",\\n          \\\"name\\\": \\\"Táº¡o video tá»« hÃ¬nh post\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"url\\\": \\\"https://flow-api.nanoai.pics/api/fix/task-status\\\",\\n            \\\"sendQuery\\\": true,\\n            \\\"queryParameters\\\": {\\n              \\\"parameters\\\": [\\n                {\\n                  \\\"name\\\": \\\"taskId\\\",\\n                  \\\"value\\\": \\\"={{ $(\\\\\\\"Táº¡o video tá»« hÃ¬nh post\\\\\\\").item.json.taskId }}\\\"\\n                }\\n              ]\\n            },\\n            \\\"sendHeaders\\\": true,\\n            \\\"headerParameters\\\": {\\n              \\\"parameters\\\": [\\n                {\\n                  \\\"name\\\": \\\"Authorization\\\",\\n                  \\\"value\\\": \\\"=Bearer {{ $('get token veo3').item.json.data[0].tokenCheckStatus }}\\\"\\n                }\\n              ]\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"typeVersion\\\": 4.3,\\n          \\\"position\\\": [\\n            672,\\n            1136\\n          ],\\n          \\\"id\\\": \\\"ae522748-e6f8-4ac7-ba24-6ff388d84b8b\\\",\\n          \\\"name\\\": \\\"Check status\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"method\\\": \\\"POST\\\",\\n            \\\"url\\\": \\\"https://aisandbox-pa.googleapis.com/v1/video:batchCheckAsyncVideoGenerationStatus\\\",\\n            \\\"sendHeaders\\\": true,\\n            \\\"headerParameters\\\": {\\n              \\\"parameters\\\": [\\n                {\\n                  \\\"name\\\": \\\"accept\\\",\\n                  \\\"value\\\": \\\"*/*\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"accept-language\\\",\\n                  \\\"value\\\": \\\"en-AU,en-GB;q=0.9,en-US;q=0.8,en;q=0.7,vi;q=0.6\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"authorization\\\",\\n                  \\\"value\\\": \\\"=Bearer {{ $('get token veo3').item.json.data[0].value }}\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"origin\\\",\\n                  \\\"value\\\": \\\"https://labs.google\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"priority\\\",\\n                  \\\"value\\\": \\\"u=1, i\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"referer\\\",\\n                  \\\"value\\\": \\\"https://labs.google/\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"sec-ch-ua\\\",\\n                  \\\"value\\\": \\\"\\\\\\\"Not(A:Brand\\\\\\\";v=\\\\\\\"8\\\\\\\", \\\\\\\"Chromium\\\\\\\";v=\\\\\\\"144\\\\\\\", \\\\\\\"Google Chrome\\\\\\\";v=\\\\\\\"144\\\\\\\"\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"sec-ch-ua-mobile\\\",\\n                  \\\"value\\\": \\\"?0\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"sec-ch-ua-platform\\\",\\n                  \\\"value\\\": \\\"\\\\\\\"Windows\\\\\\\"\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"sec-fetch-dest\\\",\\n                  \\\"value\\\": \\\"empty\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"sec-fetch-mode\\\",\\n                  \\\"value\\\": \\\"cors\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"sec-fetch-site\\\",\\n                  \\\"value\\\": \\\"cross-site\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"user-agent\\\",\\n                  \\\"value\\\": \\\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"x-browser-channel\\\",\\n                  \\\"value\\\": \\\"stable\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"x-browser-copyright\\\",\\n                  \\\"value\\\": \\\"Copyright 2026 Google LLC. All Rights reserved.\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"x-browser-validation\\\",\\n                  \\\"value\\\": \\\"AKIAtsVHZoiKbPixy+qSK1BgKWo=\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"x-browser-year\\\",\\n                  \\\"value\\\": \\\"2026\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"x-client-data\\\",\\n                  \\\"value\\\": \\\"CK21yQEIjbbJAQijtskBCKmdygEIuubKAQiWocsBCIWgzQE=\\\"\\n                }\\n              ]\\n            },\\n            \\\"sendBody\\\": true,\\n            \\\"specifyBody\\\": \\\"json\\\",\\n            \\\"jsonBody\\\": \\\"={\\\\n  \\\\\\\"operations\\\\\\\": [\\\\n    {\\\\n      \\\\\\\"operation\\\\\\\": {\\\\n        \\\\\\\"name\\\\\\\": \\\\\\\"{{ $('Check status').item.json.result.operations[0].operation.name }}\\\\\\\"\\\\n      },\\\\n      \\\\\\\"status\\\\\\\": \\\\\\\"MEDIA_GENERATION_STATUS_ACTIVE\\\\\\\"\\\\n    }\\\\n  ]\\\\n}\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"typeVersion\\\": 4.3,\\n          \\\"position\\\": [\\n            1344,\\n            1072\\n          ],\\n          \\\"id\\\": \\\"71d0ad3b-8035-42b0-a2de-553beeacc936\\\",\\n          \\\"name\\\": \\\"Láº¥y video url\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"url\\\": \\\"={{ $json.operations[0].operation.metadata.video.fifeUrl }}\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"typeVersion\\\": 4.3,\\n          \\\"position\\\": [\\n            1792,\\n            1328\\n          ],\\n          \\\"id\\\": \\\"b57204b8-f4fe-4d9b-a0d7-84d1866d0252\\\",\\n          \\\"name\\\": \\\"Get video\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"postSettings\\\": {\\n              \\\"text\\\": \\\"={{ $('láº¥y data prompt').item.json.data[0].description }}\\\",\\n              \\\"visibilityType\\\": 0,\\n              \\\"allowComment\\\": 1,\\n              \\\"scheduleTime\\\": \\\"=0\\\",\\n              \\\"anchors\\\": {\\n                \\\"anchor\\\": [\\n                  {\\n                    \\\"type\\\": \\\"product\\\",\\n                    \\\"productId\\\": \\\"={{ $('láº¥y data prompt').item.json.data[0].productId }}\\\",\\n                    \\\"displayName\\\": \\\"={{ $('láº¥y data prompt').item.json.data[0].productTitle }}\\\"\\n                  }\\n                ]\\n              }\\n            }\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-social-tiktok.tikTokUpload\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            2224,\\n            1568\\n          ],\\n          \\\"id\\\": \\\"3302cd48-b1a6-47cc-a2b5-b6467c7b6acb\\\",\\n          \\\"name\\\": \\\"TikTok Upload File\\\",\\n          \\\"credentials\\\": {\\n            \\\"tiktokApi\\\": {\\n              \\\"id\\\": \\\"UXpOpodAqPGk9di3\\\",\\n              \\\"name\\\": \\\"TikTok Credential account\\\"\\n            }\\n          }\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"jsCode\\\": \\\"const minutes = Math.floor(Math.random() * 25) + 1;\\\\nreturn [{ json: { delayMinutes: minutes } }];\\\"\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.code\\\",\\n          \\\"typeVersion\\\": 2,\\n          \\\"position\\\": [\\n            -1696,\\n            1568\\n          ],\\n          \\\"id\\\": \\\"a9cf3a6e-bb44-4cf7-98b6-a3a03e09017f\\\",\\n          \\\"name\\\": \\\"Code in JavaScript\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"amount\\\": \\\"={{ $json.delayMinutes }}\\\",\\n            \\\"unit\\\": \\\"minutes\\\"\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.wait\\\",\\n          \\\"typeVersion\\\": 1.1,\\n          \\\"position\\\": [\\n            -1472,\\n            1568\\n          ],\\n          \\\"id\\\": \\\"08de43a2-715b-425b-be13-bfe33bbf6092\\\",\\n          \\\"name\\\": \\\"Wait\\\",\\n          \\\"webhookId\\\": \\\"89953fda-8d4a-48a0-bacc-83d4bc52a9e6\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"url\\\": \\\"https://shop.thetaphoa.store//api/tiktok-music?random=1\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"typeVersion\\\": 4.3,\\n          \\\"position\\\": [\\n            1104,\\n            1552\\n          ],\\n          \\\"id\\\": \\\"0bbf9a51-ce65-4f23-bb93-8178e8712a86\\\",\\n          \\\"name\\\": \\\"Láº¥y link nháº¡c\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"url\\\": \\\"={{ $json.data.music.url }}\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"typeVersion\\\": 4.3,\\n          \\\"position\\\": [\\n            1312,\\n            1552\\n          ],\\n          \\\"id\\\": \\\"0c207070-6a46-4f74-a639-a19bafb6b302\\\",\\n          \\\"name\\\": \\\"Láº¥y nháº¡c\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"operation\\\": \\\"write\\\",\\n            \\\"fileName\\\": \\\"=/files/temp_music.mp3\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.readWriteFile\\\",\\n          \\\"typeVersion\\\": 1.1,\\n          \\\"position\\\": [\\n            1504,\\n            1552\\n          ],\\n          \\\"id\\\": \\\"0a7126f1-485f-4357-811f-a43d2d0d84cb\\\",\\n          \\\"name\\\": \\\"ghi nháº¡c trong file táº¡m\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"promptType\\\": \\\"define\\\",\\n            \\\"text\\\": \\\"={{ $json.subPrompt }}  \\\\\\\"{{ $json.content }}\\\\\\\"\\\\\\\"\\\",\\n            \\\"hasOutputParser\\\": true,\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"@n8n/n8n-nodes-langchain.agent\\\",\\n          \\\"typeVersion\\\": 3.1,\\n          \\\"position\\\": [\\n            -128,\\n            1856\\n          ],\\n          \\\"id\\\": \\\"789eb3cb-1981-44c6-b771-77e60ad68367\\\",\\n          \\\"name\\\": \\\"AI Agent\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"fieldToSplitOut\\\": \\\"data[0].prompts\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.splitOut\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            -512,\\n            1664\\n          ],\\n          \\\"id\\\": \\\"a8a718b6-68b7-44a9-849e-d9a3ca742194\\\",\\n          \\\"name\\\": \\\"Split Out\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.splitInBatches\\\",\\n          \\\"typeVersion\\\": 3,\\n          \\\"position\\\": [\\n            -352,\\n            1808\\n          ],\\n          \\\"id\\\": \\\"757d22fe-b939-4a74-ae12-3ed44beb67ec\\\",\\n          \\\"name\\\": \\\"Loop Over Items1\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"model\\\": {\\n              \\\"__rl\\\": true,\\n              \\\"value\\\": \\\"=claude-opus-4-6-thinking\\\",\\n              \\\"mode\\\": \\\"id\\\"\\n            },\\n            \\\"responsesApiEnabled\\\": false,\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"@n8n/n8n-nodes-langchain.lmChatOpenAi\\\",\\n          \\\"typeVersion\\\": 1.3,\\n          \\\"position\\\": [\\n            -64,\\n            2080\\n          ],\\n          \\\"id\\\": \\\"a7304397-9af2-40fd-8ab1-af813aa338c6\\\",\\n          \\\"name\\\": \\\"OpenAI Chat Model\\\",\\n          \\\"credentials\\\": {\\n            \\\"openAiApi\\\": {\\n              \\\"id\\\": \\\"ZQmj6pJ5Zy0uP5z1\\\",\\n              \\\"name\\\": \\\"CLI-proxy\\\"\\n            }\\n          }\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"mode\\\": \\\"combine\\\",\\n            \\\"combineBy\\\": \\\"combineByPosition\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.merge\\\",\\n          \\\"typeVersion\\\": 3.2,\\n          \\\"position\\\": [\\n            -64,\\n            1552\\n          ],\\n          \\\"id\\\": \\\"05adab93-0eac-4cf2-ac9b-4d1b9326b1d8\\\",\\n          \\\"name\\\": \\\"Data merge\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"conditions\\\": {\\n              \\\"options\\\": {\\n                \\\"caseSensitive\\\": true,\\n                \\\"leftValue\\\": \\\"\\\",\\n                \\\"typeValidation\\\": \\\"strict\\\",\\n                \\\"version\\\": 3\\n              },\\n              \\\"conditions\\\": [\\n                {\\n                  \\\"id\\\": \\\"2b827f27-a1db-401d-a00a-3d62a1b071b5\\\",\\n                  \\\"leftValue\\\": \\\"={{ $json.data[0].enabled }}\\\",\\n                  \\\"rightValue\\\": true,\\n                  \\\"operator\\\": {\\n                    \\\"type\\\": \\\"boolean\\\",\\n                    \\\"operation\\\": \\\"equals\\\"\\n                  }\\n                }\\n              ],\\n              \\\"combinator\\\": \\\"and\\\"\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.if\\\",\\n          \\\"typeVersion\\\": 2.3,\\n          \\\"position\\\": [\\n            -800,\\n            1680\\n          ],\\n          \\\"id\\\": \\\"488edb1b-c09c-4b27-bae4-fbf2e10558bb\\\",\\n          \\\"name\\\": \\\"Check flow enable\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"url\\\": \\\"https://shop.thetaphoa.store/api/autoflows?accountId=6984100221bd5a4f3e75f004&productId=1730748363759258203&randomPrompt=true\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"typeVersion\\\": 4.3,\\n          \\\"position\\\": [\\n            -1024,\\n            1664\\n          ],\\n          \\\"id\\\": \\\"61fb96bd-1d38-4a58-99dc-c663bddaddf8\\\",\\n          \\\"name\\\": \\\"láº¥y data prompt\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"conditions\\\": {\\n              \\\"options\\\": {\\n                \\\"caseSensitive\\\": true,\\n                \\\"leftValue\\\": \\\"\\\",\\n                \\\"typeValidation\\\": \\\"strict\\\",\\n                \\\"version\\\": 3\\n              },\\n              \\\"conditions\\\": [\\n                {\\n                  \\\"id\\\": \\\"725206b9-7c31-4630-bbf9-bff5d17ce395\\\",\\n                  \\\"leftValue\\\": \\\"={{ $json.result.operations[0].operation.name }}\\\",\\n                  \\\"rightValue\\\": \\\"\\\",\\n                  \\\"operator\\\": {\\n                    \\\"type\\\": \\\"string\\\",\\n                    \\\"operation\\\": \\\"exists\\\",\\n                    \\\"singleValue\\\": true\\n                  }\\n                }\\n              ],\\n              \\\"combinator\\\": \\\"and\\\"\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.if\\\",\\n          \\\"typeVersion\\\": 2.3,\\n          \\\"position\\\": [\\n            1120,\\n            1072\\n          ],\\n          \\\"id\\\": \\\"8eec3eab-1e81-40aa-920a-81eddd428566\\\",\\n          \\\"name\\\": \\\"kiá»ƒm tra tÃªn cÃ³ tá»“n táº¡i hay ko\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {},\\n          \\\"type\\\": \\\"n8n-nodes-base.merge\\\",\\n          \\\"typeVersion\\\": 3.2,\\n          \\\"position\\\": [\\n            672,\\n            1552\\n          ],\\n          \\\"id\\\": \\\"f006210b-909c-4e83-acbf-19e4157f3d1e\\\",\\n          \\\"name\\\": \\\"Merge\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"url\\\": \\\"={{ $('láº¥y data prompt').item.json.data[0].videoFiles[0].url }}\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"typeVersion\\\": 4.3,\\n          \\\"position\\\": [\\n            464,\\n            1792\\n          ],\\n          \\\"id\\\": \\\"84129372-df35-4863-ab3b-505cff57ca30\\\",\\n          \\\"name\\\": \\\"Láº¥y video tháº­t\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"command\\\": \\\"# BÆ°á»›c 1: Normalize (fix resolution + FPS + audio)\\\\ncount=0\\\\nfor f in $(ls -v /files/temp_video_*.mp4); do\\\\n  has_audio=$(ffprobe -v error -select_streams a -show_entries stream=codec_type -of csv=p=0 \\\\\\\"$f\\\\\\\")\\\\n  if [ -z \\\\\\\"$has_audio\\\\\\\" ]; then\\\\n    ffmpeg -y -i \\\\\\\"$f\\\\\\\" -f lavfi -i anullsrc=r=44100:cl=stereo \\\\\\\\\\\\n      -vf \\\\\\\"scale=1080:1920:force_original_aspect_ratio=decrease,pad=1080:1920:(ow-iw)/2:(oh-ih)/2,setsar=1,fps=24\\\\\\\" \\\\\\\\\\\\n      -c:v libx264 -preset fast -r 24 -c:a aac -ar 44100 -ac 2 \\\\\\\\\\\\n      -shortest \\\\\\\"/files/normalized_${count}.mp4\\\\\\\"\\\\n  else\\\\n    ffmpeg -y -i \\\\\\\"$f\\\\\\\" \\\\\\\\\\\\n      -vf \\\\\\\"scale=1080:1920:force_original_aspect_ratio=decrease,pad=1080:1920:(ow-iw)/2:(oh-ih)/2,setsar=1,fps=24\\\\\\\" \\\\\\\\\\\\n      -c:v libx264 -preset fast -r 24 -c:a aac -ar 44100 -ac 2 \\\\\\\\\\\\n      \\\\\\\"/files/normalized_${count}.mp4\\\\\\\"\\\\n  fi\\\\n  count=$((count+1))\\\\ndone\\\\n\\\\n# BÆ°á»›c 2: Concat\\\\nls -v /files/normalized_*.mp4 | sed \\\\\\\"s|^|file '|;s|$|'|\\\\\\\" > /files/concat_list.txt\\\\nffmpeg -y -f concat -safe 0 -i /files/concat_list.txt -c copy /files/merged_output.mp4\\\\n\\\\n# BÆ°á»›c 3: ChÃ¨n nháº¡c\\\\nffmpeg -y -i /files/merged_output.mp4 -i /files/temp_music.mp3 \\\\\\\\\\\\n  -filter_complex \\\\\\\"[0:a]volume=1.0[va];[1:a]volume=0.2[ma];[va][ma]amix=inputs=2:duration=first:dropout_transition=2[aout]\\\\\\\" \\\\\\\\\\\\n  -map 0:v -map \\\\\\\"[aout]\\\\\\\" -c:v copy -c:a aac -b:a 192k \\\\\\\\\\\\n  /files/final_output.mp4\\\"\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.executeCommand\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            1792,\\n            1568\\n          ],\\n          \\\"id\\\": \\\"11194531-ba00-4097-86fd-0e137fb8c20f\\\",\\n          \\\"name\\\": \\\"Execute Command\\\"\\n        }\\n      ],\\n      \\\"connections\\\": {\\n        \\\"When clicking â€˜Execute workflowâ€™\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"get token veo3\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"get token veo3\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"láº¥y data prompt\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"check status\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"kiá»ƒm tra tÃªn cÃ³ tá»“n táº¡i hay ko\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ],\\n            [\\n              {\\n                \\\"node\\\": \\\"Wait2\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"kiá»ƒm tra xem cÃ³ file url\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Get video\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ],\\n            [\\n              {\\n                \\\"node\\\": \\\"Wait3\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Wait2\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Check status\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Wait3\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Láº¥y video url\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Loop Over Items\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Merge\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ],\\n            [\\n              {\\n                \\\"node\\\": \\\"Táº¡o video tá»« hÃ¬nh post\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"ghi máº¥y video vÃ´ folder táº¡m\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Láº¥y link nháº¡c\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"láº¥y video ra\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"TikTok Upload File\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Schedule Trigger\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Code in JavaScript\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Táº¡o video tá»« hÃ¬nh post\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Check status\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Check status\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"check status\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Láº¥y video url\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"kiá»ƒm tra xem cÃ³ file url\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Get video\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Loop Over Items\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"TikTok Upload File\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"XÃ³a video sau Ä‘Äƒng\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Code in JavaScript\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Wait\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Wait\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"get token veo3\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Láº¥y link nháº¡c\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Láº¥y nháº¡c\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Láº¥y nháº¡c\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"ghi nháº¡c trong file táº¡m\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"ghi nháº¡c trong file táº¡m\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Execute Command\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"AI Agent\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Loop Over Items1\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Split Out\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Loop Over Items1\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              },\\n              {\\n                \\\"node\\\": \\\"Data merge\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 1\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Loop Over Items1\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Data merge\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ],\\n            [\\n              {\\n                \\\"node\\\": \\\"AI Agent\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"OpenAI Chat Model\\\": {\\n          \\\"ai_languageModel\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"AI Agent\\\",\\n                \\\"type\\\": \\\"ai_languageModel\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Data merge\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Loop Over Items\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Check flow enable\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Split Out\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"láº¥y data prompt\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Check flow enable\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"kiá»ƒm tra tÃªn cÃ³ tá»“n táº¡i hay ko\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Láº¥y video url\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              },\\n              {\\n                \\\"node\\\": \\\"Láº¥y video tháº­t\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Merge\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"ghi máº¥y video vÃ´ folder táº¡m\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Láº¥y video tháº­t\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Merge\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 1\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Execute Command\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"láº¥y video ra\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        }\\n      },\\n      \\\"settings\\\": {\\n        \\\"executionOrder\\\": \\\"v1\\\",\\n        \\\"availableInMCP\\\": false,\\n        \\\"callerPolicy\\\": \\\"workflowsFromSameOwner\\\"\\n      },\\n      \\\"staticData\\\": null,\\n      \\\"meta\\\": null,\\n      \\\"pinData\\\": null,\\n      \\\"versionId\\\": \\\"a971a9de-c48e-404c-8ea7-c27d6aa6af32\\\",\\n      \\\"activeVersionId\\\": null,\\n      \\\"triggerCount\\\": 0,\\n      \\\"shared\\\": [\\n        {\\n          \\\"updatedAt\\\": \\\"2026-02-12T13:29:56.091Z\\\",\\n          \\\"createdAt\\\": \\\"2026-02-12T13:29:56.091Z\\\",\\n          \\\"role\\\": \\\"workflow:owner\\\",\\n          \\\"workflowId\\\": \\\"4eSpFbYqdJcI6PCf\\\",\\n          \\\"projectId\\\": \\\"Xq0VG5A9CPTUak2A\\\"\\n        }\\n      ],\\n      \\\"activeVersion\\\": null,\\n      \\\"tags\\\": []\\n    },\\n    {\\n      \\\"updatedAt\\\": \\\"2026-02-12T13:29:15.634Z\\\",\\n      \\\"createdAt\\\": \\\"2026-02-12T13:29:15.634Z\\\",\\n      \\\"id\\\": \\\"gGp6sVOWXkPf4hLq\\\",\\n      \\\"name\\\": \\\"My workflow 1288\\\",\\n      \\\"active\\\": false,\\n      \\\"isArchived\\\": false,\\n      \\\"nodes\\\": [\\n        {\\n          \\\"parameters\\\": {},\\n          \\\"type\\\": \\\"n8n-nodes-zalos-user.zaloLoginByQr\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            64,\\n            112\\n          ],\\n          \\\"id\\\": \\\"7a51020e-537d-45c2-8818-1989e139e08a\\\",\\n          \\\"name\\\": \\\"Zalo Login Via QR Code\\\",\\n          \\\"credentials\\\": {}\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"operation\\\": \\\"download\\\",\\n            \\\"fileId\\\": {\\n              \\\"__rl\\\": true,\\n              \\\"value\\\": \\\"={{ $json.query.url }}\\\",\\n              \\\"mode\\\": \\\"url\\\"\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.googleDrive\\\",\\n          \\\"typeVersion\\\": 3,\\n          \\\"position\\\": [\\n            688,\\n            112\\n          ],\\n          \\\"id\\\": \\\"1b62d13f-a54b-423a-a7d6-675c42516eac\\\",\\n          \\\"name\\\": \\\"Google Drive\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"content\\\": \\\"## ÄÄƒng nháº­p vÃ o zalo\\\",\\n            \\\"height\\\": 240,\\n            \\\"width\\\": 340\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.stickyNote\\\",\\n          \\\"position\\\": [\\n            0,\\n            0\\n          ],\\n          \\\"typeVersion\\\": 1,\\n          \\\"id\\\": \\\"876a73e7-3e6e-44c4-9788-3e79dc4ad62e\\\",\\n          \\\"name\\\": \\\"Sticky Note25\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"content\\\": \\\"## Download File\\\\n- Nhá»› copy link Production URL thay vÃ o trong node link áº£nh drive\\\",\\n            \\\"height\\\": 240,\\n            \\\"width\\\": 500\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.stickyNote\\\",\\n          \\\"position\\\": [\\n            464,\\n            0\\n          ],\\n          \\\"typeVersion\\\": 1,\\n          \\\"id\\\": \\\"06bfa9a5-65dd-43be-be59-487f672191a0\\\",\\n          \\\"name\\\": \\\"Sticky Note26\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"content\\\": \\\"## Cháº¡y lá»‡nh táº¡o cÆ¡ sá»Ÿ dá»¯ liá»‡u\\\\nXÃ¡c thá»±c vá»›i Postgress á»Ÿ trÃªn supabase rá»“i cháº¡y lá»‡nh nÃ y Ä‘á»ƒ auto táº¡o sáºµn cÃ¡c báº£ng\\\",\\n            \\\"height\\\": 300,\\n            \\\"width\\\": 960\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.stickyNote\\\",\\n          \\\"position\\\": [\\n            0,\\n            304\\n          ],\\n          \\\"typeVersion\\\": 1,\\n          \\\"id\\\": \\\"7a16fe13-14df-4495-8929-d4e1bbfb5b17\\\",\\n          \\\"name\\\": \\\"Sticky Note24\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"operation\\\": \\\"executeQuery\\\",\\n            \\\"query\\\": \\\"create table public.zl_n8n_debounce (\\\\n  id bigint generated by default as identity not null,\\\\n  key text not null,\\\\n  incr bigint null default '0'::bigint,\\\\n  constraint zl_n8n_debounce_pkey primary key (id),\\\\n  constraint zl_n8n_debounce_key_key unique (key)\\\\n) TABLESPACE pg_default;\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.postgres\\\",\\n          \\\"typeVersion\\\": 2.6,\\n          \\\"position\\\": [\\n            752,\\n            432\\n          ],\\n          \\\"id\\\": \\\"ee83682b-89e1-4f97-a761-159ae2cf7527\\\",\\n          \\\"name\\\": \\\"CreateDebounceTable\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"operation\\\": \\\"executeQuery\\\",\\n            \\\"query\\\": \\\"create table public.zl_included_users (\\\\n  id bigint generated by default as identity not null,\\\\n  from_id text not null,\\\\n  to_id text null,\\\\n  created_at timestamp with time zone not null default now(),\\\\n  key text not null,\\\\n  constraint zl_included_users_pkey primary key (id),\\\\n  constraint zl_included_users_key_key unique (key),\\\\n  constraint zl_included_users_key_key1 unique (key)\\\\n) TABLESPACE pg_default;\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.postgres\\\",\\n          \\\"typeVersion\\\": 2.6,\\n          \\\"position\\\": [\\n            528,\\n            432\\n          ],\\n          \\\"id\\\": \\\"966ead9e-7f66-4018-9b61-d2acee91e72b\\\",\\n          \\\"name\\\": \\\"CreateIncludedTable\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"operation\\\": \\\"executeQuery\\\",\\n            \\\"query\\\": \\\"create table public.zl_chats (\\\\n  id bigint generated by default as identity not null,\\\\n  is_bot boolean null default true,\\\\n  from_id text null,\\\\n  d_name text null,\\\\n  to_id text null,  \\\\n  thread_id text null,\\\\n  message_id text null,\\\\n  text text null,\\\\n  timestamp bigint null,\\\\n  status character varying null default 'pending'::character varying,\\\\n  created_at timestamp with time zone null default now(),\\\\n  constraint zl_chats_pkey primary key (id),\\\\n  constraint zl_chats_message_id_key unique (message_id)\\\\n) TABLESPACE pg_default;\\\\n\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.postgres\\\",\\n          \\\"typeVersion\\\": 2.6,\\n          \\\"position\\\": [\\n            304,\\n            432\\n          ],\\n          \\\"id\\\": \\\"b43f7cc4-8b05-4a6f-8cc8-925d9b19b120\\\",\\n          \\\"name\\\": \\\"CreateChatsTable\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {},\\n          \\\"type\\\": \\\"n8n-nodes-base.manualTrigger\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            48,\\n            432\\n          ],\\n          \\\"id\\\": \\\"71fcb809-1bd5-4ab1-a7d2-bb66257c211b\\\",\\n          \\\"name\\\": \\\"When clicking â€˜Test workflowâ€™\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {},\\n          \\\"type\\\": \\\"n8n-nodes-zalos-user.zaloMessageTrigger\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            32,\\n            1328\\n          ],\\n          \\\"id\\\": \\\"f41a5dad-11bf-4aee-9b48-15124f4d8e5e\\\",\\n          \\\"name\\\": \\\"Zalo Message Trigger\\\",\\n          \\\"webhookId\\\": \\\"54f37947-1747-46f4-8e39-cc66e2b5103a\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"conditions\\\": {\\n              \\\"options\\\": {\\n                \\\"caseSensitive\\\": true,\\n                \\\"leftValue\\\": \\\"\\\",\\n                \\\"typeValidation\\\": \\\"strict\\\",\\n                \\\"version\\\": 2\\n              },\\n              \\\"conditions\\\": [\\n                {\\n                  \\\"id\\\": \\\"4db5ded9-cd1c-4f61-b92d-ef12f879c92d\\\",\\n                  \\\"leftValue\\\": \\\"={{ $json.message.isSelf }}\\\",\\n                  \\\"rightValue\\\": \\\"\\\",\\n                  \\\"operator\\\": {\\n                    \\\"type\\\": \\\"boolean\\\",\\n                    \\\"operation\\\": \\\"true\\\",\\n                    \\\"singleValue\\\": true\\n                  }\\n                }\\n              ],\\n              \\\"combinator\\\": \\\"and\\\"\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.if\\\",\\n          \\\"typeVersion\\\": 2.2,\\n          \\\"position\\\": [\\n            480,\\n            1328\\n          ],\\n          \\\"id\\\": \\\"979ff8fd-2434-47a9-8c3d-b7ace476fca4\\\",\\n          \\\"name\\\": \\\"If\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"rules\\\": {\\n              \\\"values\\\": [\\n                {\\n                  \\\"conditions\\\": {\\n                    \\\"options\\\": {\\n                      \\\"caseSensitive\\\": true,\\n                      \\\"leftValue\\\": \\\"\\\",\\n                      \\\"typeValidation\\\": \\\"strict\\\",\\n                      \\\"version\\\": 2\\n                    },\\n                    \\\"conditions\\\": [\\n                      {\\n                        \\\"leftValue\\\": \\\"={{ $json.message.data.msgType }}\\\",\\n                        \\\"rightValue\\\": \\\"webchat\\\",\\n                        \\\"operator\\\": {\\n                          \\\"type\\\": \\\"string\\\",\\n                          \\\"operation\\\": \\\"equals\\\"\\n                        },\\n                        \\\"id\\\": \\\"72612ffb-a0df-4276-9056-f3c5970aa96f\\\"\\n                      }\\n                    ],\\n                    \\\"combinator\\\": \\\"and\\\"\\n                  },\\n                  \\\"renameOutput\\\": true,\\n                  \\\"outputKey\\\": \\\"text\\\"\\n                },\\n                {\\n                  \\\"conditions\\\": {\\n                    \\\"options\\\": {\\n                      \\\"caseSensitive\\\": true,\\n                      \\\"leftValue\\\": \\\"\\\",\\n                      \\\"typeValidation\\\": \\\"strict\\\",\\n                      \\\"version\\\": 2\\n                    },\\n                    \\\"conditions\\\": [\\n                      {\\n                        \\\"id\\\": \\\"eebb2d88-989c-4816-ba75-dfc946717bac\\\",\\n                        \\\"leftValue\\\": \\\"={{ $json.message.data.msgType }}\\\",\\n                        \\\"rightValue\\\": \\\"chat.sticker\\\",\\n                        \\\"operator\\\": {\\n                          \\\"type\\\": \\\"string\\\",\\n                          \\\"operation\\\": \\\"equals\\\",\\n                          \\\"name\\\": \\\"filter.operator.equals\\\"\\n                        }\\n                      }\\n                    ],\\n                    \\\"combinator\\\": \\\"and\\\"\\n                  },\\n                  \\\"renameOutput\\\": true,\\n                  \\\"outputKey\\\": \\\"sticker\\\"\\n                }\\n              ]\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.switch\\\",\\n          \\\"typeVersion\\\": 3.2,\\n          \\\"position\\\": [\\n            32,\\n            1760\\n          ],\\n          \\\"id\\\": \\\"6fa9d93b-3831-4792-8c36-effade9a3d4f\\\",\\n          \\\"name\\\": \\\"Switch\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"tableId\\\": \\\"zl_chats\\\",\\n            \\\"fieldsUi\\\": {\\n              \\\"fieldValues\\\": [\\n                {\\n                  \\\"fieldId\\\": \\\"from_id\\\",\\n                  \\\"fieldValue\\\": \\\"={{ $('Data').item.json.from_id }}\\\"\\n                },\\n                {\\n                  \\\"fieldId\\\": \\\"to_id\\\",\\n                  \\\"fieldValue\\\": \\\"={{ $('Data').item.json.to_id }}\\\"\\n                },\\n                {\\n                  \\\"fieldId\\\": \\\"thread_id\\\",\\n                  \\\"fieldValue\\\": \\\"={{ $('Data').item.json.threadld }}\\\"\\n                },\\n                {\\n                  \\\"fieldId\\\": \\\"timestamp\\\",\\n                  \\\"fieldValue\\\": \\\"={{ $('Data').item.json.timestamp }}\\\"\\n                },\\n                {\\n                  \\\"fieldId\\\": \\\"message_id\\\",\\n                  \\\"fieldValue\\\": \\\"={{ $('Data').item.json.message_id }}\\\"\\n                },\\n                {\\n                  \\\"fieldId\\\": \\\"text\\\",\\n                  \\\"fieldValue\\\": \\\"={{ $('Data').item.json.text }}\\\"\\n                },\\n                {\\n                  \\\"fieldId\\\": \\\"status\\\",\\n                  \\\"fieldValue\\\": \\\"pending\\\"\\n                },\\n                {\\n                  \\\"fieldId\\\": \\\"d_name\\\",\\n                  \\\"fieldValue\\\": \\\"={{ $('Data').item.json.d_name }}\\\"\\n                },\\n                {\\n                  \\\"fieldId\\\": \\\"is_bot\\\",\\n                  \\\"fieldValue\\\": \\\"false\\\"\\n                }\\n              ]\\n            }\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.supabase\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            960,\\n            1760\\n          ],\\n          \\\"id\\\": \\\"ebf3fc62-8116-4722-a957-9db420011b0b\\\",\\n          \\\"name\\\": \\\"SaveToChats\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"content\\\": \\\"## Kiá»ƒm tra xem chá»§ zalo Ä‘Ã£ vÃ o chÃ¡t vá»›i ngÆ°á»i dÃ¹ng chÆ°a\\\\n- Náº¿u chá»§ zalo Ä‘Ã£ tiáº¿p nháº­n thÃ¬ pháº£i stop bot láº¡i\\\\n- á»ž Ä‘Ã¢y kiá»ƒm tra xem id ngÆ°á»i dÃ¹ng nÃ y Ä‘Ã£ cÃ³ trong danh sÃ¡ch Ä‘Ã£ tiáº¿p nháº­n hay chÆ°a\\\",\\n            \\\"height\\\": 260,\\n            \\\"width\\\": 680\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.stickyNote\\\",\\n          \\\"position\\\": [\\n            1264,\\n            1664\\n          ],\\n          \\\"typeVersion\\\": 1,\\n          \\\"id\\\": \\\"da05cc2e-b791-4f87-8343-50a2a385bff0\\\",\\n          \\\"name\\\": \\\"Sticky Note5\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"operation\\\": \\\"get\\\",\\n            \\\"tableId\\\": \\\"zl_included_users\\\",\\n            \\\"filters\\\": {\\n              \\\"conditions\\\": [\\n                {\\n                  \\\"keyName\\\": \\\"key\\\",\\n                  \\\"keyValue\\\": \\\"={{ $json.thread_id }}\\\"\\n                }\\n              ]\\n            }\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.supabase\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            1312,\\n            1760\\n          ],\\n          \\\"id\\\": \\\"1ef4a80e-fe81-4340-8588-d4a3087d4c82\\\",\\n          \\\"name\\\": \\\"GetUserIncluded\\\",\\n          \\\"alwaysOutputData\\\": true\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"conditions\\\": {\\n              \\\"options\\\": {\\n                \\\"caseSensitive\\\": true,\\n                \\\"leftValue\\\": \\\"\\\",\\n                \\\"typeValidation\\\": \\\"strict\\\",\\n                \\\"version\\\": 2\\n              },\\n              \\\"conditions\\\": [\\n                {\\n                  \\\"id\\\": \\\"f279a143-a74d-4cbb-b815-c8443c8626ef\\\",\\n                  \\\"leftValue\\\": \\\"={{ $json.id }}\\\",\\n                  \\\"rightValue\\\": \\\"\\\",\\n                  \\\"operator\\\": {\\n                    \\\"type\\\": \\\"number\\\",\\n                    \\\"operation\\\": \\\"notExists\\\",\\n                    \\\"singleValue\\\": true\\n                  }\\n                }\\n              ],\\n              \\\"combinator\\\": \\\"and\\\"\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.if\\\",\\n          \\\"typeVersion\\\": 2.2,\\n          \\\"position\\\": [\\n            1504,\\n            1760\\n          ],\\n          \\\"id\\\": \\\"96f49f95-6954-4522-b5ec-87bdb8910825\\\",\\n          \\\"name\\\": \\\"IfDoesNotExist\\\",\\n          \\\"alwaysOutputData\\\": false\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"assignments\\\": {\\n              \\\"assignments\\\": [\\n                {\\n                  \\\"id\\\": \\\"f8015a26-bb7e-43ed-bb8b-c5556d004990\\\",\\n                  \\\"name\\\": \\\"message_id\\\",\\n                  \\\"value\\\": \\\"={{ $json.message.data.msgId }}\\\",\\n                  \\\"type\\\": \\\"string\\\"\\n                },\\n                {\\n                  \\\"id\\\": \\\"2aea730c-3bc3-487a-812e-eaba6e287e47\\\",\\n                  \\\"name\\\": \\\"text\\\",\\n                  \\\"value\\\": \\\"={{ $json.message.data.content }}\\\",\\n                  \\\"type\\\": \\\"string\\\"\\n                },\\n                {\\n                  \\\"id\\\": \\\"ed054f84-a1ea-45e6-b12c-c37bca8aee8f\\\",\\n                  \\\"name\\\": \\\"d_name\\\",\\n                  \\\"value\\\": \\\"={{ $json.message.data.dName }}\\\",\\n                  \\\"type\\\": \\\"string\\\"\\n                },\\n                {\\n                  \\\"id\\\": \\\"7cf9cfe3-61da-45b1-9df9-a6eefd68c371\\\",\\n                  \\\"name\\\": \\\"from_id\\\",\\n                  \\\"value\\\": \\\"={{ $json.message.data.uidFrom }}\\\",\\n                  \\\"type\\\": \\\"string\\\"\\n                },\\n                {\\n                  \\\"id\\\": \\\"00970e0d-5e08-4639-ab12-4c7ea240ed5b\\\",\\n                  \\\"name\\\": \\\"to_id\\\",\\n                  \\\"value\\\": \\\"={{ $json.message.data.idTo }}\\\",\\n                  \\\"type\\\": \\\"string\\\"\\n                },\\n                {\\n                  \\\"id\\\": \\\"ae2750dc-8d54-4310-acc5-0de8c8cca279\\\",\\n                  \\\"name\\\": \\\"threadld\\\",\\n                  \\\"value\\\": \\\"={{ $json.message.threadId }}\\\",\\n                  \\\"type\\\": \\\"string\\\"\\n                },\\n                {\\n                  \\\"id\\\": \\\"d820ec29-8d80-47cf-b11a-ebceed63fada\\\",\\n                  \\\"name\\\": \\\"key\\\",\\n                  \\\"value\\\": \\\"={{ $json.message.threadId }}\\\",\\n                  \\\"type\\\": \\\"string\\\"\\n                },\\n                {\\n                  \\\"id\\\": \\\"561d4afa-3181-42b8-93f2-dfe3e6f1bbad\\\",\\n                  \\\"name\\\": \\\"timestamp\\\",\\n                  \\\"value\\\": \\\"={{ $json.message.data.ts }}\\\",\\n                  \\\"type\\\": \\\"string\\\"\\n                }\\n              ]\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.set\\\",\\n          \\\"typeVersion\\\": 3.4,\\n          \\\"position\\\": [\\n            304,\\n            1760\\n          ],\\n          \\\"id\\\": \\\"e76bb5f3-fab3-4852-b99b-802a1882f7ae\\\",\\n          \\\"name\\\": \\\"Data\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"content\\\": \\\"## Náº¿u tin nháº¯n lÃ  cá»§a chá»§ zalo\\\",\\n            \\\"height\\\": 620,\\n            \\\"width\\\": 1980,\\n            \\\"color\\\": 5\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.stickyNote\\\",\\n          \\\"position\\\": [\\n            0,\\n            688\\n          ],\\n          \\\"typeVersion\\\": 1,\\n          \\\"id\\\": \\\"99bcc9cd-8e51-421e-acbd-2266d0c87091\\\",\\n          \\\"name\\\": \\\"Sticky Note2\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"assignments\\\": {\\n              \\\"assignments\\\": [\\n                {\\n                  \\\"id\\\": \\\"f8015a26-bb7e-43ed-bb8b-c5556d004990\\\",\\n                  \\\"name\\\": \\\"message_id\\\",\\n                  \\\"value\\\": \\\"={{ $json.message.data.msgId }}\\\",\\n                  \\\"type\\\": \\\"string\\\"\\n                },\\n                {\\n                  \\\"id\\\": \\\"2aea730c-3bc3-487a-812e-eaba6e287e47\\\",\\n                  \\\"name\\\": \\\"text\\\",\\n                  \\\"value\\\": \\\"={{ $json.message.data.content }}\\\",\\n                  \\\"type\\\": \\\"string\\\"\\n                },\\n                {\\n                  \\\"id\\\": \\\"ed054f84-a1ea-45e6-b12c-c37bca8aee8f\\\",\\n                  \\\"name\\\": \\\"d_name\\\",\\n                  \\\"value\\\": \\\"={{ $json.message.data.dName }}\\\",\\n                  \\\"type\\\": \\\"string\\\"\\n                },\\n                {\\n                  \\\"id\\\": \\\"7cf9cfe3-61da-45b1-9df9-a6eefd68c371\\\",\\n                  \\\"name\\\": \\\"from_id\\\",\\n                  \\\"value\\\": \\\"={{ $json.message.data.uidFrom }}\\\",\\n                  \\\"type\\\": \\\"string\\\"\\n                },\\n                {\\n                  \\\"id\\\": \\\"00970e0d-5e08-4639-ab12-4c7ea240ed5b\\\",\\n                  \\\"name\\\": \\\"to_id\\\",\\n                  \\\"value\\\": \\\"={{ $json.message.data.idTo }}\\\",\\n                  \\\"type\\\": \\\"string\\\"\\n                },\\n                {\\n                  \\\"id\\\": \\\"ae2750dc-8d54-4310-acc5-0de8c8cca279\\\",\\n                  \\\"name\\\": \\\"thread_id\\\",\\n                  \\\"value\\\": \\\"={{ $json.message.threadId }}\\\",\\n                  \\\"type\\\": \\\"string\\\"\\n                },\\n                {\\n                  \\\"id\\\": \\\"d820ec29-8d80-47cf-b11a-ebceed63fada\\\",\\n                  \\\"name\\\": \\\"key\\\",\\n                  \\\"value\\\": \\\"={{ $json.message.threadId }}\\\",\\n                  \\\"type\\\": \\\"string\\\"\\n                },\\n                {\\n                  \\\"id\\\": \\\"561d4afa-3181-42b8-93f2-dfe3e6f1bbad\\\",\\n                  \\\"name\\\": \\\"timestamp\\\",\\n                  \\\"value\\\": \\\"={{ $json.message.data.ts }}\\\",\\n                  \\\"type\\\": \\\"string\\\"\\n                },\\n                {\\n                  \\\"id\\\": \\\"2496817e-1462-458a-85a3-eb1983007e09\\\",\\n                  \\\"name\\\": \\\"is_bot\\\",\\n                  \\\"value\\\": \\\"false\\\",\\n                  \\\"type\\\": \\\"string\\\"\\n                },\\n                {\\n                  \\\"id\\\": \\\"16cb96b6-bd29-4424-aa86-70dd67a383f5\\\",\\n                  \\\"name\\\": \\\"status\\\",\\n                  \\\"value\\\": \\\"done\\\",\\n                  \\\"type\\\": \\\"string\\\"\\n                }\\n              ]\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.set\\\",\\n          \\\"typeVersion\\\": 3.4,\\n          \\\"position\\\": [\\n            320,\\n            848\\n          ],\\n          \\\"id\\\": \\\"7deba670-316e-4087-8536-a1b788ac61ee\\\",\\n          \\\"name\\\": \\\"Data2\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"operation\\\": \\\"get\\\",\\n            \\\"tableId\\\": \\\"zl_chats\\\",\\n            \\\"filters\\\": {\\n              \\\"conditions\\\": [\\n                {\\n                  \\\"keyName\\\": \\\"message_id\\\",\\n                  \\\"keyValue\\\": \\\"={{ $json.message_id }}\\\"\\n                }\\n              ]\\n            }\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.supabase\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            832,\\n            1120\\n          ],\\n          \\\"id\\\": \\\"269e3234-814a-4aa2-bae8-2480c596e1e1\\\",\\n          \\\"name\\\": \\\"FindById\\\",\\n          \\\"alwaysOutputData\\\": true\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"conditions\\\": {\\n              \\\"options\\\": {\\n                \\\"caseSensitive\\\": true,\\n                \\\"leftValue\\\": \\\"\\\",\\n                \\\"typeValidation\\\": \\\"loose\\\",\\n                \\\"version\\\": 2\\n              },\\n              \\\"conditions\\\": [\\n                {\\n                  \\\"id\\\": \\\"9a042fec-fd94-471b-8dbe-951b084aa7ee\\\",\\n                  \\\"leftValue\\\": \\\"={{ $json.id }}\\\",\\n                  \\\"rightValue\\\": \\\"\\\",\\n                  \\\"operator\\\": {\\n                    \\\"type\\\": \\\"string\\\",\\n                    \\\"operation\\\": \\\"exists\\\",\\n                    \\\"singleValue\\\": true\\n                  }\\n                }\\n              ],\\n              \\\"combinator\\\": \\\"and\\\"\\n            },\\n            \\\"looseTypeValidation\\\": true,\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.if\\\",\\n          \\\"typeVersion\\\": 2.2,\\n          \\\"position\\\": [\\n            1040,\\n            1120\\n          ],\\n          \\\"id\\\": \\\"25e8cbed-1f64-492f-9f90-b4fcea8a3901\\\",\\n          \\\"name\\\": \\\"IfExistsMessage\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"tableId\\\": \\\"zl_chats\\\",\\n            \\\"dataToSend\\\": \\\"autoMapInputData\\\",\\n            \\\"inputsToIgnore\\\": \\\"key\\\"\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.supabase\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            1504,\\n            864\\n          ],\\n          \\\"id\\\": \\\"81623af3-27a7-4ee0-a769-699c29409527\\\",\\n          \\\"name\\\": \\\"SaveMessage\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"operation\\\": \\\"get\\\",\\n            \\\"tableId\\\": \\\"zl_chats\\\",\\n            \\\"filters\\\": {\\n              \\\"conditions\\\": [\\n                {\\n                  \\\"keyName\\\": \\\"message_id\\\",\\n                  \\\"keyValue\\\": \\\"={{ $json.message_id }}\\\"\\n                }\\n              ]\\n            }\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.supabase\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            528,\\n            1760\\n          ],\\n          \\\"id\\\": \\\"4e9cb902-9683-4674-b17b-f4a4cfefaefe\\\",\\n          \\\"name\\\": \\\"FindById2\\\",\\n          \\\"alwaysOutputData\\\": true\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"conditions\\\": {\\n              \\\"options\\\": {\\n                \\\"caseSensitive\\\": true,\\n                \\\"leftValue\\\": \\\"\\\",\\n                \\\"typeValidation\\\": \\\"strict\\\",\\n                \\\"version\\\": 2\\n              },\\n              \\\"conditions\\\": [\\n                {\\n                  \\\"id\\\": \\\"02d72cf3-bcee-4e2a-866d-91a3ff41edaa\\\",\\n                  \\\"leftValue\\\": \\\"={{ $json.id }}\\\",\\n                  \\\"rightValue\\\": \\\"\\\",\\n                  \\\"operator\\\": {\\n                    \\\"type\\\": \\\"number\\\",\\n                    \\\"operation\\\": \\\"exists\\\",\\n                    \\\"singleValue\\\": true\\n                  }\\n                }\\n              ],\\n              \\\"combinator\\\": \\\"and\\\"\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.if\\\",\\n          \\\"typeVersion\\\": 2.2,\\n          \\\"position\\\": [\\n            720,\\n            1760\\n          ],\\n          \\\"id\\\": \\\"3865637f-8fcc-4a17-b695-9c4dde08006d\\\",\\n          \\\"name\\\": \\\"IfExistsMessage2\\\",\\n          \\\"alwaysOutputData\\\": false\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"content\\\": \\\"## Check xem message nÃ y Ä‘Ã£ cÃ³ trong db hay chÆ°a\\\",\\n            \\\"height\\\": 240,\\n            \\\"width\\\": 380\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.stickyNote\\\",\\n          \\\"position\\\": [\\n            784,\\n            1040\\n          ],\\n          \\\"typeVersion\\\": 1,\\n          \\\"id\\\": \\\"24adf1bf-2df1-40e6-8420-fb1264ecb1c1\\\",\\n          \\\"name\\\": \\\"Sticky Note\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"content\\\": \\\"## Náº¿u chÆ°a cÃ³ trong DB\\\\n- LÆ°u message vÃ o db\\\",\\n            \\\"height\\\": 240,\\n            \\\"width\\\": 440\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.stickyNote\\\",\\n          \\\"position\\\": [\\n            1184,\\n            784\\n          ],\\n          \\\"typeVersion\\\": 1,\\n          \\\"id\\\": \\\"76f73903-ffde-4dac-b33f-910c606f84e8\\\",\\n          \\\"name\\\": \\\"Sticky Note1\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"content\\\": \\\"## Switch\\\\nDÃ¹ng Ä‘á»ƒ phÃ¢n loáº¡i Ä‘oáº¡n chÃ¡t ( CÃ³ thá»ƒ lÃ  text, sticker,...vv )\\\\n\\\",\\n            \\\"height\\\": 260,\\n            \\\"width\\\": 260\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.stickyNote\\\",\\n          \\\"position\\\": [\\n            32,\\n            1664\\n          ],\\n          \\\"typeVersion\\\": 1,\\n          \\\"id\\\": \\\"9629c789-6684-4ec2-b643-15bd6ae5f6df\\\",\\n          \\\"name\\\": \\\"Sticky Note3\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"content\\\": \\\"## Check xem message nÃ y Ä‘Ã£ cÃ³ trong db hay chÆ°a\\\\n- Thao tÃ¡c nÃ y Ä‘á» phÃ²ng nháº­n cÃ¹ng 1 tin nháº¯n 2 láº§n\\\\n- Náº¿u tin nháº¯n bá»‹ láº·p thÃ¬ khÃ´ng tráº£ lá»i ná»¯a\\\",\\n            \\\"height\\\": 260,\\n            \\\"width\\\": 600\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.stickyNote\\\",\\n          \\\"position\\\": [\\n            288,\\n            1664\\n          ],\\n          \\\"typeVersion\\\": 1,\\n          \\\"id\\\": \\\"396d914d-9bbb-4c5e-83a2-df210442bc9b\\\",\\n          \\\"name\\\": \\\"Sticky Note4\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"content\\\": \\\"## LÆ°u láº¡i tin nháº¯n\\\",\\n            \\\"height\\\": 260,\\n            \\\"width\\\": 340\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.stickyNote\\\",\\n          \\\"position\\\": [\\n            912,\\n            1664\\n          ],\\n          \\\"typeVersion\\\": 1,\\n          \\\"id\\\": \\\"19c6d0b0-733b-4f0a-a9a6-a32ded869118\\\",\\n          \\\"name\\\": \\\"Sticky Note6\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"rules\\\": {\\n              \\\"values\\\": [\\n                {\\n                  \\\"conditions\\\": {\\n                    \\\"options\\\": {\\n                      \\\"caseSensitive\\\": true,\\n                      \\\"leftValue\\\": \\\"\\\",\\n                      \\\"typeValidation\\\": \\\"strict\\\",\\n                      \\\"version\\\": 2\\n                    },\\n                    \\\"conditions\\\": [\\n                      {\\n                        \\\"leftValue\\\": \\\"={{ $json.message.data.msgType }}\\\",\\n                        \\\"rightValue\\\": \\\"webchat\\\",\\n                        \\\"operator\\\": {\\n                          \\\"type\\\": \\\"string\\\",\\n                          \\\"operation\\\": \\\"equals\\\"\\n                        },\\n                        \\\"id\\\": \\\"72612ffb-a0df-4276-9056-f3c5970aa96f\\\"\\n                      }\\n                    ],\\n                    \\\"combinator\\\": \\\"and\\\"\\n                  },\\n                  \\\"renameOutput\\\": true,\\n                  \\\"outputKey\\\": \\\"text\\\"\\n                },\\n                {\\n                  \\\"conditions\\\": {\\n                    \\\"options\\\": {\\n                      \\\"caseSensitive\\\": true,\\n                      \\\"leftValue\\\": \\\"\\\",\\n                      \\\"typeValidation\\\": \\\"strict\\\",\\n                      \\\"version\\\": 2\\n                    },\\n                    \\\"conditions\\\": [\\n                      {\\n                        \\\"id\\\": \\\"eebb2d88-989c-4816-ba75-dfc946717bac\\\",\\n                        \\\"leftValue\\\": \\\"={{ $json.message.data.msgType }}\\\",\\n                        \\\"rightValue\\\": \\\"chat.voice\\\",\\n                        \\\"operator\\\": {\\n                          \\\"type\\\": \\\"string\\\",\\n                          \\\"operation\\\": \\\"equals\\\",\\n                          \\\"name\\\": \\\"filter.operator.equals\\\"\\n                        }\\n                      }\\n                    ],\\n                    \\\"combinator\\\": \\\"and\\\"\\n                  },\\n                  \\\"renameOutput\\\": true,\\n                  \\\"outputKey\\\": \\\"voice\\\"\\n                },\\n                {\\n                  \\\"conditions\\\": {\\n                    \\\"options\\\": {\\n                      \\\"caseSensitive\\\": true,\\n                      \\\"leftValue\\\": \\\"\\\",\\n                      \\\"typeValidation\\\": \\\"strict\\\",\\n                      \\\"version\\\": 2\\n                    },\\n                    \\\"conditions\\\": [\\n                      {\\n                        \\\"id\\\": \\\"451a913f-1cb9-4cd3-832a-b2ebdf9dffdf\\\",\\n                        \\\"leftValue\\\": \\\"={{ $json.message.data.msgType }}\\\",\\n                        \\\"rightValue\\\": \\\"chat.sticker\\\",\\n                        \\\"operator\\\": {\\n                          \\\"type\\\": \\\"string\\\",\\n                          \\\"operation\\\": \\\"equals\\\",\\n                          \\\"name\\\": \\\"filter.operator.equals\\\"\\n                        }\\n                      }\\n                    ],\\n                    \\\"combinator\\\": \\\"and\\\"\\n                  },\\n                  \\\"renameOutput\\\": true,\\n                  \\\"outputKey\\\": \\\"sticker\\\"\\n                },\\n                {\\n                  \\\"conditions\\\": {\\n                    \\\"options\\\": {\\n                      \\\"caseSensitive\\\": true,\\n                      \\\"leftValue\\\": \\\"\\\",\\n                      \\\"typeValidation\\\": \\\"strict\\\",\\n                      \\\"version\\\": 2\\n                    },\\n                    \\\"conditions\\\": [\\n                      {\\n                        \\\"id\\\": \\\"8fb7d30d-699e-4772-a838-54c325126d5d\\\",\\n                        \\\"leftValue\\\": \\\"={{ $json.message.data.msgType }}\\\",\\n                        \\\"rightValue\\\": \\\"chat.photo\\\",\\n                        \\\"operator\\\": {\\n                          \\\"type\\\": \\\"string\\\",\\n                          \\\"operation\\\": \\\"equals\\\",\\n                          \\\"name\\\": \\\"filter.operator.equals\\\"\\n                        }\\n                      }\\n                    ],\\n                    \\\"combinator\\\": \\\"and\\\"\\n                  },\\n                  \\\"renameOutput\\\": true,\\n                  \\\"outputKey\\\": \\\"photo\\\"\\n                }\\n              ]\\n            },\\n            \\\"options\\\": {\\n              \\\"fallbackOutput\\\": 2\\n            }\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.switch\\\",\\n          \\\"typeVersion\\\": 3.2,\\n          \\\"position\\\": [\\n            32,\\n            1008\\n          ],\\n          \\\"id\\\": \\\"598279b5-88dd-4327-ad10-0d7ffc28ae48\\\",\\n          \\\"name\\\": \\\"Switch1\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"assignments\\\": {\\n              \\\"assignments\\\": [\\n                {\\n                  \\\"id\\\": \\\"f8015a26-bb7e-43ed-bb8b-c5556d004990\\\",\\n                  \\\"name\\\": \\\"message_id\\\",\\n                  \\\"value\\\": \\\"={{ $json.message.data.msgId }}\\\",\\n                  \\\"type\\\": \\\"string\\\"\\n                },\\n                {\\n                  \\\"id\\\": \\\"2aea730c-3bc3-487a-812e-eaba6e287e47\\\",\\n                  \\\"name\\\": \\\"text\\\",\\n                  \\\"value\\\": \\\"= \\\",\\n                  \\\"type\\\": \\\"string\\\"\\n                },\\n                {\\n                  \\\"id\\\": \\\"ed054f84-a1ea-45e6-b12c-c37bca8aee8f\\\",\\n                  \\\"name\\\": \\\"d_name\\\",\\n                  \\\"value\\\": \\\"={{ $json.message.data.dName }}\\\",\\n                  \\\"type\\\": \\\"string\\\"\\n                },\\n                {\\n                  \\\"id\\\": \\\"7cf9cfe3-61da-45b1-9df9-a6eefd68c371\\\",\\n                  \\\"name\\\": \\\"from_id\\\",\\n                  \\\"value\\\": \\\"={{ $json.message.data.uidFrom }}\\\",\\n                  \\\"type\\\": \\\"string\\\"\\n                },\\n                {\\n                  \\\"id\\\": \\\"00970e0d-5e08-4639-ab12-4c7ea240ed5b\\\",\\n                  \\\"name\\\": \\\"to_id\\\",\\n                  \\\"value\\\": \\\"={{ $json.message.data.idTo }}\\\",\\n                  \\\"type\\\": \\\"string\\\"\\n                },\\n                {\\n                  \\\"id\\\": \\\"ae2750dc-8d54-4310-acc5-0de8c8cca279\\\",\\n                  \\\"name\\\": \\\"thread_id\\\",\\n                  \\\"value\\\": \\\"={{ $json.message.threadId }}\\\",\\n                  \\\"type\\\": \\\"string\\\"\\n                },\\n                {\\n                  \\\"id\\\": \\\"d820ec29-8d80-47cf-b11a-ebceed63fada\\\",\\n                  \\\"name\\\": \\\"key\\\",\\n                  \\\"value\\\": \\\"={{ $json.message.threadId }}\\\",\\n                  \\\"type\\\": \\\"string\\\"\\n                },\\n                {\\n                  \\\"id\\\": \\\"561d4afa-3181-42b8-93f2-dfe3e6f1bbad\\\",\\n                  \\\"name\\\": \\\"timestamp\\\",\\n                  \\\"value\\\": \\\"={{ $json.message.data.ts }}\\\",\\n                  \\\"type\\\": \\\"string\\\"\\n                },\\n                {\\n                  \\\"id\\\": \\\"2496817e-1462-458a-85a3-eb1983007e09\\\",\\n                  \\\"name\\\": \\\"is_bot\\\",\\n                  \\\"value\\\": \\\"false\\\",\\n                  \\\"type\\\": \\\"string\\\"\\n                },\\n                {\\n                  \\\"id\\\": \\\"16cb96b6-bd29-4424-aa86-70dd67a383f5\\\",\\n                  \\\"name\\\": \\\"status\\\",\\n                  \\\"value\\\": \\\"done\\\",\\n                  \\\"type\\\": \\\"string\\\"\\n                }\\n              ]\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.set\\\",\\n          \\\"typeVersion\\\": 3.4,\\n          \\\"position\\\": [\\n            320,\\n            1120\\n          ],\\n          \\\"id\\\": \\\"1220c7dd-f49d-4561-b9b0-1f3f234f1485\\\",\\n          \\\"name\\\": \\\"Data3\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"method\\\": \\\"POST\\\",\\n            \\\"url\\\": \\\"https://dxunek.datadex.vn/webhook/zalo_on_message\\\",\\n            \\\"sendBody\\\": true,\\n            \\\"specifyBody\\\": \\\"json\\\",\\n            \\\"jsonBody\\\": \\\"={{ $('Data').first().json.toJsonString() }}\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"typeVersion\\\": 4.2,\\n          \\\"position\\\": [\\n            1792,\\n            1760\\n          ],\\n          \\\"id\\\": \\\"97197134-9ec9-4000-82cc-7e40cb5512d7\\\",\\n          \\\"name\\\": \\\"SendOnMessage\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"mode\\\": \\\"chooseBranch\\\"\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.merge\\\",\\n          \\\"typeVersion\\\": 3.1,\\n          \\\"position\\\": [\\n            1264,\\n            864\\n          ],\\n          \\\"id\\\": \\\"b7df5b23-cb11-4493-a0c5-0cc8623b25e6\\\",\\n          \\\"name\\\": \\\"Merge\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"content\\\": \\\"## Náº¿u tin nháº¯n lÃ  cá»§a ngÆ°á»i dÃ¹ng\\\",\\n            \\\"height\\\": 380,\\n            \\\"width\\\": 1980,\\n            \\\"color\\\": 3\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.stickyNote\\\",\\n          \\\"position\\\": [\\n            0,\\n            1568\\n          ],\\n          \\\"typeVersion\\\": 1,\\n          \\\"id\\\": \\\"e2d0fc12-e347-499a-ad84-932476759a73\\\",\\n          \\\"name\\\": \\\"Sticky Note7\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"operation\\\": \\\"upsert\\\",\\n            \\\"schema\\\": {\\n              \\\"__rl\\\": true,\\n              \\\"mode\\\": \\\"list\\\",\\n              \\\"value\\\": \\\"public\\\"\\n            },\\n            \\\"table\\\": {\\n              \\\"__rl\\\": true,\\n              \\\"value\\\": \\\"zl_included_users\\\",\\n              \\\"mode\\\": \\\"list\\\",\\n              \\\"cachedResultName\\\": \\\"zl_included_users\\\"\\n            },\\n            \\\"columns\\\": {\\n              \\\"mappingMode\\\": \\\"defineBelow\\\",\\n              \\\"value\\\": {\\n                \\\"key\\\": \\\"={{ $json.thread_id }}\\\",\\n                \\\"from_id\\\": \\\"={{ $json.from_id }}\\\",\\n                \\\"to_id\\\": \\\"={{ $json.to_id }}\\\"\\n              },\\n              \\\"matchingColumns\\\": [\\n                \\\"key\\\"\\n              ],\\n              \\\"schema\\\": [\\n                {\\n                  \\\"id\\\": \\\"id\\\",\\n                  \\\"displayName\\\": \\\"id\\\",\\n                  \\\"required\\\": false,\\n                  \\\"defaultMatch\\\": true,\\n                  \\\"display\\\": true,\\n                  \\\"type\\\": \\\"number\\\",\\n                  \\\"canBeUsedToMatch\\\": true,\\n                  \\\"removed\\\": true\\n                },\\n                {\\n                  \\\"id\\\": \\\"from_id\\\",\\n                  \\\"displayName\\\": \\\"from_id\\\",\\n                  \\\"required\\\": true,\\n                  \\\"defaultMatch\\\": false,\\n                  \\\"display\\\": true,\\n                  \\\"type\\\": \\\"string\\\",\\n                  \\\"canBeUsedToMatch\\\": false\\n                },\\n                {\\n                  \\\"id\\\": \\\"to_id\\\",\\n                  \\\"displayName\\\": \\\"to_id\\\",\\n                  \\\"required\\\": false,\\n                  \\\"defaultMatch\\\": false,\\n                  \\\"display\\\": true,\\n                  \\\"type\\\": \\\"string\\\",\\n                  \\\"canBeUsedToMatch\\\": false\\n                },\\n                {\\n                  \\\"id\\\": \\\"created_at\\\",\\n                  \\\"displayName\\\": \\\"created_at\\\",\\n                  \\\"required\\\": false,\\n                  \\\"defaultMatch\\\": false,\\n                  \\\"display\\\": true,\\n                  \\\"type\\\": \\\"dateTime\\\",\\n                  \\\"canBeUsedToMatch\\\": false,\\n                  \\\"removed\\\": true\\n                },\\n                {\\n                  \\\"id\\\": \\\"key\\\",\\n                  \\\"displayName\\\": \\\"key\\\",\\n                  \\\"required\\\": true,\\n                  \\\"defaultMatch\\\": false,\\n                  \\\"display\\\": true,\\n                  \\\"type\\\": \\\"string\\\",\\n                  \\\"canBeUsedToMatch\\\": true,\\n                  \\\"removed\\\": false\\n                }\\n              ],\\n              \\\"attemptToConvertTypes\\\": false,\\n              \\\"convertFieldsToString\\\": false\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.postgres\\\",\\n          \\\"typeVersion\\\": 2.6,\\n          \\\"position\\\": [\\n            1760,\\n            864\\n          ],\\n          \\\"id\\\": \\\"42836830-fb98-4a8b-bc32-386ed027f16e\\\",\\n          \\\"name\\\": \\\"InsertOrUpdateIncluded\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"content\\\": \\\"## Insert Or Update Included\\\\n- Náº¿u lÃ  ngÆ°á»i tháº­t thÃ¬ Ä‘Æ°a vÃ o danh sÃ¡ch loáº¡i trá»«\\\",\\n            \\\"height\\\": 240,\\n            \\\"width\\\": 320\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.stickyNote\\\",\\n          \\\"position\\\": [\\n            1648,\\n            784\\n          ],\\n          \\\"typeVersion\\\": 1,\\n          \\\"id\\\": \\\"c22e9173-df9a-43dc-8eb0-7a39e08a26bf\\\",\\n          \\\"name\\\": \\\"Sticky Note8\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"amount\\\": 1\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.wait\\\",\\n          \\\"typeVersion\\\": 1.1,\\n          \\\"position\\\": [\\n            560,\\n            848\\n          ],\\n          \\\"id\\\": \\\"5628721f-688b-4dca-a220-e494057b7352\\\",\\n          \\\"name\\\": \\\"Wait2\\\",\\n          \\\"webhookId\\\": \\\"47d5a2d8-d86d-45a5-a417-1585035545f9\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"operation\\\": \\\"get\\\",\\n            \\\"tableId\\\": \\\"zl_chats\\\",\\n            \\\"filters\\\": {\\n              \\\"conditions\\\": [\\n                {\\n                  \\\"keyName\\\": \\\"status\\\",\\n                  \\\"keyValue\\\": \\\"pending\\\"\\n                }\\n              ]\\n            }\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.supabase\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            2208,\\n            448\\n          ],\\n          \\\"id\\\": \\\"bf33edb0-763b-4934-b6d7-a5f37f974dc2\\\",\\n          \\\"name\\\": \\\"GetAllMessage\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"operation\\\": \\\"update\\\",\\n            \\\"tableId\\\": \\\"zl_chats\\\",\\n            \\\"filterType\\\": \\\"string\\\",\\n            \\\"filterString\\\": \\\"=id=in.({{ $('GetAllMessage').all().map(item => item.json.id) }})\\\",\\n            \\\"fieldsUi\\\": {\\n              \\\"fieldValues\\\": [\\n                {\\n                  \\\"fieldId\\\": \\\"status\\\",\\n                  \\\"fieldValue\\\": \\\"done\\\"\\n                }\\n              ]\\n            }\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.supabase\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            2528,\\n            448\\n          ],\\n          \\\"id\\\": \\\"30dc9b48-a4da-4528-b66d-c9bafbec4ee3\\\",\\n          \\\"name\\\": \\\"UpdateDoneMessage\\\",\\n          \\\"executeOnce\\\": true\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"jsCode\\\": \\\"return [\\\\n  {\\\\n    ... $('GetAllMessage').last().json,\\\\n    text: $('GetAllMessage').all().map(m => m.json.text).join(' '),\\\\n    content: $input.all()\\\\n  }\\\\n];\\\"\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.code\\\",\\n          \\\"typeVersion\\\": 2,\\n          \\\"position\\\": [\\n            2864,\\n            448\\n          ],\\n          \\\"id\\\": \\\"182dc6da-157c-4c1e-aa10-89fd355d7982\\\",\\n          \\\"name\\\": \\\"MergeMessage\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"promptType\\\": \\\"define\\\",\\n            \\\"text\\\": \\\"={{ $json.text }}\\\",\\n            \\\"options\\\": {\\n              \\\"systemMessage\\\": \\\"=# ROLE\\\\nrole: assistant\\\\nname: dinner_menu_bot\\\\ndescription: |\\\\n  Báº¡n lÃ  chatbot AI chuyÃªn há»— trá»£ tÆ° váº¥n thá»±c Ä‘Æ¡n buá»•i tá»‘i báº±ng tiáº¿ng Viá»‡t. \\\\n  Báº¡n cÅ©ng há»— trá»£ há»i thÃ´ng tin giao hÃ ng náº¿u ngÆ°á»i dÃ¹ng cÃ³ nhu cáº§u.\\\\n\\\\n# TOOL\\\\ntools:\\\\n  - name: data\\\\n    description: Truy xuáº¥t thá»±c Ä‘Æ¡n buá»•i tá»‘i. Má»—i má»¥c gá»“m:\\\\n      - \\\\\\\"TÃªn mÃ³n\\\\\\\": tÃªn mÃ³n Äƒn báº±ng tiáº¿ng Viá»‡t (khÃ´ng dá»‹ch)\\\\n      - \\\\\\\"GiÃ¡\\\\\\\": giÃ¡ mÃ³n Äƒn\\\\n      - \\\\\\\"áº£nh\\\\\\\": link áº£nh mÃ³n Äƒn (chá»‰ hiá»ƒn thá»‹ náº¿u ngÆ°á»i dÃ¹ng yÃªu cáº§u rÃµ rÃ ng)\\\\n\\\\n# TRIGGER KEYWORDS\\\\ntrigger_phrases:\\\\n  - \\\\\\\"menu\\\\\\\"\\\\n  - \\\\\\\"thá»±c Ä‘Æ¡n\\\\\\\"\\\\n  - \\\\\\\"tá»‘i nay cÃ³ mÃ³n gÃ¬\\\\\\\"\\\\n  - \\\\\\\"Äƒn gÃ¬\\\\\\\"\\\\n  - \\\\\\\"giÃ¡ bao nhiÃªu\\\\\\\"\\\\n  - \\\\\\\"mÃ³n chay cÃ³ khÃ´ng\\\\\\\"\\\\n  - \\\\\\\"cho xin thá»±c Ä‘Æ¡n\\\\\\\"\\\\n  - \\\\\\\"tá»‘i nay cÃ³ láº©u khÃ´ng\\\\\\\"\\\\n  - \\\\\\\"gá»£i Ã½ mÃ³n Äƒn tá»‘i\\\\\\\"\\\\n  - \\\\\\\"cÃ³ mÃ³n nÃ o ngon\\\\\\\"\\\\n  - \\\\\\\"mÃ³n máº·n\\\\\\\"\\\\n  - \\\\\\\"mÃ³n Äƒn nháº¹\\\\\\\"\\\\n  - \\\\\\\"ship\\\\\\\"\\\\n  - \\\\\\\"giao hÃ ng\\\\\\\"\\\\n  - \\\\\\\"cÃ³ giao hÃ ng khÃ´ng\\\\\\\"\\\\n  - \\\\\\\"giao táº­n nÆ¡i\\\\\\\"\\\\n  - \\\\\\\"mÃ¬nh muá»‘n Ä‘áº·t mÃ³n\\\\\\\"\\\\n  - \\\\\\\"ship tá»›i\\\\\\\"\\\\n\\\\n# RESPONSE RULES\\\\nbehavior:\\\\n  - LuÃ´n dÃ¹ng tool `data` Ä‘á»ƒ truy váº¥n mÃ³n Äƒn.\\\\n  - Chá»‰ pháº£n há»“i náº¿u ngÆ°á»i dÃ¹ng nÃ³i vá» thá»±c Ä‘Æ¡n buá»•i tá»‘i hoáº·c giao hÃ ng.\\\\n  - Náº¿u khÃ´ng liÃªn quan â†’ tráº£ lá»i:  \\\\n      \\\\\\\"Dáº¡ em lÃ  trá»£ lÃ½ AI, hiá»‡n táº¡i em chá»‰ há»— trá»£ tÆ° váº¥n thá»±c Ä‘Æ¡n vÃ  mÃ³n Äƒn buá»•i tá»‘i.  \\\\n      Báº¡n cáº§n xem menu hay Ä‘áº·t mÃ³n gÃ¬ khÃ´ng áº¡?\\\\\\\"\\\\n\\\\n# RESPONSE FORMAT\\\\nresponse_style:\\\\n  - Tráº£ lá»i thÃ¢n thiá»‡n, ngáº¯n gá»n, báº±ng tiáº¿ng Viá»‡t.\\\\n  - Hiá»ƒn thá»‹ mÃ³n Äƒn vÃ  giÃ¡ nhÆ° sau:\\\\n      ðŸš CÆ¡m gÃ  xá»‘i má»¡ â€“ 45.000Ä‘  \\\\n      ðŸ¥¢ BÃºn bÃ² Huáº¿ â€“ 50.000Ä‘  \\\\n      ðŸŒ± MÃ³n chay, láº©u, Äƒn váº·t vÃ  Ä‘á»“ uá»‘ng ná»¯a nhÃ©!  \\\\n      Báº¡n muá»‘n xem Ä‘áº§y Ä‘á»§ menu khÃ´ng áº¡?\\\\n\\\\n# IMAGE HANDLING\\\\nimage_handling:\\\\n  - âŒ KhÃ´ng bao giá» hiá»ƒn thá»‹ áº£nh náº¿u ngÆ°á»i dÃ¹ng khÃ´ng yÃªu cáº§u rÃµ rÃ ng.\\\\n  - âœ… Chá»‰ hiá»ƒn thá»‹ `data[\\\\\\\"áº£nh\\\\\\\"]` náº¿u ngÆ°á»i dÃ¹ng yÃªu cáº§u áº£nh báº±ng cÃ¡c cá»¥m nhÆ°:\\\\n      - \\\\\\\"cho mÃ¬nh xem áº£nh\\\\\\\", \\\\\\\"cÃ³ hÃ¬nh mÃ³n Ä‘Ã³ khÃ´ng\\\\\\\", \\\\\\\"cho xem áº£nh cÆ¡m gÃ \\\\\\\", v.v.\\\\n  - âŒ Náº¿u khÃ´ng cÃ³ áº£nh trong `data`, tráº£ lá»i:  \\\\n      \\\\\\\"Dáº¡ mÃ³n nÃ y hiá»‡n chÆ°a cÃ³ hÃ¬nh áº£nh áº¡.\\\\\\\"\\\\n  - âŒ KhÃ´ng Ä‘Æ°á»£c táº¡o áº£nh hoáº·c link áº£nh giáº£.\\\\n\\\\n# SHIPPING HANDLING\\\\nshipping_rules:\\\\n  - Náº¿u ngÆ°á»i dÃ¹ng há»i vá» ship/giao hÃ ng â†’ pháº£n há»“i:\\\\n      \\\\\\\"Dáº¡ bÃªn em cÃ³ há»— trá»£ giao hÃ ng áº¡.  \\\\n      MÃ¬nh vui lÃ²ng cho em xin Ä‘á»‹a chá»‰ nháº­n hÃ ng vÃ  sá»‘ Ä‘iá»‡n thoáº¡i Ä‘á»ƒ bÃªn em giao táº­n nÆ¡i nhÃ©!\\\\\\\"\\\\n\\\\n  - Náº¿u ngÆ°á»i dÃ¹ng Ä‘Ã£ chá»n mÃ³n vÃ  muá»‘n Ä‘áº·t â†’ gá»£i Ã½ tiáº¿p tá»¥c:  \\\\n      \\\\\\\"MÃ¬nh chá»n mÃ³n xong cÃ³ thá»ƒ gá»­i giÃºp em Ä‘á»‹a chá»‰ vÃ  sá»‘ Ä‘iá»‡n thoáº¡i Ä‘á»ƒ em lÃªn Ä‘Æ¡n giao liá»n nha!\\\\\\\"\\\\n\\\\n# MÃ“N KHÃ”NG CÃ“ TRONG DATA\\\\nno_data_handling:\\\\n  - Náº¿u `data` khÃ´ng cÃ³ mÃ³n Ä‘Æ°á»£c há»i â†’ tráº£ lá»i:\\\\n      \\\\\\\"Dáº¡ mÃ³n nÃ y hiá»‡n chÆ°a cÃ³ trong thá»±c Ä‘Æ¡n áº¡. Báº¡n muá»‘n xem mÃ³n khÃ¡c khÃ´ng?\\\\\\\"\\\\n\\\\n# STRICT RULES\\\\nstrict_data_policy:\\\\n  - âŒ KhÃ´ng Ä‘Æ°á»£c bá»‹a tÃªn mÃ³n, giÃ¡, hay áº£nh.\\\\n  - âœ… Chá»‰ dÃ¹ng Ä‘Ãºng dá»¯ liá»‡u tá»« tool `data`.\\\\n\\\\n# TONE\\\\ntone:\\\\n  - Giá»ng Ä‘iá»‡u thÃ¢n thiá»‡n, rÃµ rÃ ng, gáº§n gÅ©i\\\\n  - LuÃ´n dÃ¹ng tiáº¿ng Viá»‡t\\\\n\\\\n# MEMORY / CONTEXTUAL MEMORY\\\\nmemory_handling:\\\\n  - Náº¿u ngÆ°á»i dÃ¹ng Ä‘Ã£ cung cáº¥p Ä‘á»‹a chá»‰ vÃ /hoáº·c sá»‘ Ä‘iá»‡n thoáº¡i trÆ°á»›c Ä‘Ã³ trong cuá»™c trÃ² chuyá»‡n hiá»‡n táº¡i â†’ sá»­ dá»¥ng láº¡i, KHÃ”NG há»i láº¡i.\\\\n  - Náº¿u chÆ°a cÃ³ Ä‘á»‹a chá»‰ hoáº·c sï¿½ï¿½ Ä‘iá»‡n thoáº¡i â†’ lá»‹ch sá»± yÃªu cáº§u ngÆ°á»i dÃ¹ng cung cáº¥p.\\\\n  - LuÃ´n xÃ¡c nháº­n láº¡i Ä‘á»‹a chá»‰/sÄ‘t trÆ°á»›c khi xÃ¡c nháº­n Ä‘Æ¡n hÃ ng.\\\\n\\\\n\\\"\\n            }\\n          },\\n          \\\"type\\\": \\\"@n8n/n8n-nodes-langchain.agent\\\",\\n          \\\"typeVersion\\\": 1.9,\\n          \\\"position\\\": [\\n            3280,\\n            448\\n          ],\\n          \\\"id\\\": \\\"863b1234-c0fe-44cd-bdd7-91264649e032\\\",\\n          \\\"name\\\": \\\"AI Agent\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"model\\\": {\\n              \\\"__rl\\\": true,\\n              \\\"value\\\": \\\"gpt-4o\\\",\\n              \\\"mode\\\": \\\"list\\\",\\n              \\\"cachedResultName\\\": \\\"gpt-4o\\\"\\n            },\\n            \\\"options\\\": {\\n              \\\"temperature\\\": 0.2,\\n              \\\"topP\\\": 0.7\\n            }\\n          },\\n          \\\"type\\\": \\\"@n8n/n8n-nodes-langchain.lmChatOpenAi\\\",\\n          \\\"typeVersion\\\": 1.2,\\n          \\\"position\\\": [\\n            3248,\\n            672\\n          ],\\n          \\\"id\\\": \\\"5863baa8-103a-43c8-8509-485527191a4a\\\",\\n          \\\"name\\\": \\\"OpenAI Chat Model\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"sessionIdType\\\": \\\"customKey\\\",\\n            \\\"sessionKey\\\": \\\"={{ $json.thread_id }}\\\",\\n            \\\"tableName\\\": \\\"n8n_chat_histories_zl\\\"\\n          },\\n          \\\"type\\\": \\\"@n8n/n8n-nodes-langchain.memoryPostgresChat\\\",\\n          \\\"typeVersion\\\": 1.3,\\n          \\\"position\\\": [\\n            3408,\\n            672\\n          ],\\n          \\\"id\\\": \\\"20940017-0310-46bc-ba8b-929bf7749244\\\",\\n          \\\"name\\\": \\\"Postgres Chat Memory\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {},\\n          \\\"type\\\": \\\"n8n-nodes-zalos-user.zaloSendMessage\\\",\\n          \\\"typeVersion\\\": 4,\\n          \\\"position\\\": [\\n            3168,\\n            928\\n          ],\\n          \\\"id\\\": \\\"d2a42879-ab50-4300-8e7d-358f44f3eb03\\\",\\n          \\\"name\\\": \\\"Zalo Send Message\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"tableId\\\": \\\"zl_chats\\\",\\n            \\\"fieldsUi\\\": {\\n              \\\"fieldValues\\\": [\\n                {\\n                  \\\"fieldId\\\": \\\"from_id\\\",\\n                  \\\"fieldValue\\\": \\\"={{ $('MergeMessage').item.json.from_id }}\\\"\\n                },\\n                {\\n                  \\\"fieldId\\\": \\\"to_id\\\",\\n                  \\\"fieldValue\\\": \\\"={{ $('MergeMessage').item.json.to_id }}\\\"\\n                },\\n                {\\n                  \\\"fieldId\\\": \\\"thread_id\\\",\\n                  \\\"fieldValue\\\": \\\"={{ $json.threadId }}\\\"\\n                },\\n                {\\n                  \\\"fieldId\\\": \\\"timestamp\\\",\\n                  \\\"fieldValue\\\": \\\"={{ $now.toMillis() }}\\\"\\n                },\\n                {\\n                  \\\"fieldId\\\": \\\"message_id\\\",\\n                  \\\"fieldValue\\\": \\\"={{ $json.response.message.msgId }}\\\"\\n                },\\n                {\\n                  \\\"fieldId\\\": \\\"text\\\",\\n                  \\\"fieldValue\\\": \\\"={{ $json.messageContent.msg }}\\\"\\n                },\\n                {\\n                  \\\"fieldId\\\": \\\"status\\\",\\n                  \\\"fieldValue\\\": \\\"done\\\"\\n                },\\n                {\\n                  \\\"fieldId\\\": \\\"d_name\\\",\\n                  \\\"fieldValue\\\": \\\"={{ $('MergeMessage').last().json.d_name }}\\\"\\n                },\\n                {\\n                  \\\"fieldId\\\": \\\"is_bot\\\",\\n                  \\\"fieldValue\\\": \\\"true\\\"\\n                }\\n              ]\\n            }\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.supabase\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            3392,\\n            912\\n          ],\\n          \\\"id\\\": \\\"ffdb0a83-04c9-4a7d-9d9b-dfd6f8a18e8b\\\",\\n          \\\"name\\\": \\\"SaveToChats1\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {},\\n          \\\"type\\\": \\\"n8n-nodes-zalos-user.zaloSendMessage\\\",\\n          \\\"typeVersion\\\": 4,\\n          \\\"position\\\": [\\n            3920,\\n            1792\\n          ],\\n          \\\"id\\\": \\\"f92ecebe-161e-456c-9b0f-9ff7f5b4432d\\\",\\n          \\\"name\\\": \\\"Zalo Send Message1\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"model\\\": {\\n              \\\"__rl\\\": true,\\n              \\\"mode\\\": \\\"list\\\",\\n              \\\"value\\\": \\\"gpt-4o-mini\\\"\\n            },\\n            \\\"options\\\": {\\n              \\\"temperature\\\": 0.2\\n            }\\n          },\\n          \\\"type\\\": \\\"@n8n/n8n-nodes-langchain.lmChatOpenAi\\\",\\n          \\\"typeVersion\\\": 1.2,\\n          \\\"position\\\": [\\n            2448,\\n            1472\\n          ],\\n          \\\"id\\\": \\\"fd5895fb-0e56-4125-8d07-dbb134dd4d6a\\\",\\n          \\\"name\\\": \\\"OpenAI Chat Model2\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"schemaType\\\": \\\"manual\\\",\\n            \\\"inputSchema\\\": \\\"{\\\\n  \\\\\\\"type\\\\\\\": \\\\\\\"array\\\\\\\",\\\\n  \\\\\\\"items\\\\\\\": {\\\\n    \\\\\\\"type\\\\\\\": \\\\\\\"object\\\\\\\",\\\\n    \\\\\\\"properties\\\\\\\": {\\\\n      \\\\\\\"text\\\\\\\": {\\\\n        \\\\\\\"type\\\\\\\": \\\\\\\"string\\\\\\\"\\\\n      },\\\\n      \\\\\\\"image\\\\\\\": {\\\\n        \\\\\\\"type\\\\\\\": \\\\\\\"array\\\\\\\",\\\\n        \\\\\\\"items\\\\\\\": {\\\\n          \\\\\\\"type\\\\\\\": \\\\\\\"string\\\\\\\",\\\\n          \\\\\\\"format\\\\\\\": \\\\\\\"uri\\\\\\\"\\\\n        }\\\\n      }\\\\n    },\\\\n    \\\\\\\"required\\\\\\\": [\\\\\\\"text\\\\\\\", \\\\\\\"image\\\\\\\"]\\\\n  }\\\\n}\\\"\\n          },\\n          \\\"type\\\": \\\"@n8n/n8n-nodes-langchain.outputParserStructured\\\",\\n          \\\"typeVersion\\\": 1.2,\\n          \\\"position\\\": [\\n            2624,\\n            1472\\n          ],\\n          \\\"id\\\": \\\"1e24ada9-f2e9-4db9-9e6f-d9aa4ef0829b\\\",\\n          \\\"name\\\": \\\"Structured Output Parser\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"promptType\\\": \\\"define\\\",\\n            \\\"text\\\": \\\"={{ $json.output }}\\\",\\n            \\\"hasOutputParser\\\": true,\\n            \\\"messages\\\": {\\n              \\\"messageValues\\\": [\\n                {\\n                  \\\"message\\\": \\\"Chuyá»ƒn Ä‘oáº¡n ná»™i dung dÆ°á»›i Ä‘Ã¢y thÃ nh máº£ng JSON theo format: [{ \\\\\\\"text\\\\\\\": \\\\\\\"nd\\\\\\\", \\\\\\\"image\\\\\\\": [\\\\\\\"url1\\\\\\\", \\\\\\\"url2\\\\\\\"] }] Vá»›i má»—i má»¥c, \\\\\\\"text\\\\\\\" lÃ  pháº§n mÃ´ táº£ cá»§a hÃ¬nh áº£nh vÃ  \\\\\\\"image\\\\\\\" lÃ  máº£ng chá»©a link cÃ¡c áº£nh trong má»¥c Ä‘Ã³. Bá» qua Ä‘á»‹nh dáº¡ng Markdown, chá»‰ láº¥y ná»™i dung vÃ  link áº£nh.\\\"\\n                }\\n              ]\\n            }\\n          },\\n          \\\"type\\\": \\\"@n8n/n8n-nodes-langchain.chainLlm\\\",\\n          \\\"typeVersion\\\": 1.6,\\n          \\\"position\\\": [\\n            2448,\\n            1264\\n          ],\\n          \\\"id\\\": \\\"19395a09-c410-47df-a68f-0c0f254b59cd\\\",\\n          \\\"name\\\": \\\"Basic LLM Chain\\\",\\n          \\\"retryOnFail\\\": true\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"fieldToSplitOut\\\": \\\"output\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.splitOut\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            2800,\\n            1264\\n          ],\\n          \\\"id\\\": \\\"c1a05972-9da7-42cc-9816-09406e58bf5d\\\",\\n          \\\"name\\\": \\\"Split Out2\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.splitInBatches\\\",\\n          \\\"typeVersion\\\": 3,\\n          \\\"position\\\": [\\n            3024,\\n            1264\\n          ],\\n          \\\"id\\\": \\\"f265a809-12e0-47cd-abf5-988763bf7e79\\\",\\n          \\\"name\\\": \\\"Loop Over Items\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"fieldToSplitOut\\\": \\\"image\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.splitOut\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            3088,\\n            1584\\n          ],\\n          \\\"id\\\": \\\"139736b9-f6e4-4fc4-a5d0-c66d6af724a4\\\",\\n          \\\"name\\\": \\\"Split Out3\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"documentId\\\": {\\n              \\\"__rl\\\": true,\\n              \\\"value\\\": \\\"https://docs.google.com/spreadsheets/d/1tbbkYaSAG8GIx8Ul1kL_3yOC6f9d7leiTwL2eYSzUiU/edit?gid=0#gid=0\\\",\\n              \\\"mode\\\": \\\"url\\\"\\n            },\\n            \\\"sheetName\\\": {\\n              \\\"__rl\\\": true,\\n              \\\"value\\\": \\\"gid=0\\\",\\n              \\\"mode\\\": \\\"list\\\",\\n              \\\"cachedResultName\\\": \\\"data\\\",\\n              \\\"cachedResultUrl\\\": \\\"https://docs.google.com/spreadsheets/d/1tbbkYaSAG8GIx8Ul1kL_3yOC6f9d7leiTwL2eYSzUiU/edit#gid=0\\\"\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.googleSheetsTool\\\",\\n          \\\"typeVersion\\\": 4.6,\\n          \\\"position\\\": [\\n            3552,\\n            672\\n          ],\\n          \\\"id\\\": \\\"346684e8-82b4-41ae-aacd-9b91f70d032d\\\",\\n          \\\"name\\\": \\\"data\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"tableId\\\": \\\"zl_chats\\\",\\n            \\\"fieldsUi\\\": {\\n              \\\"fieldValues\\\": [\\n                {\\n                  \\\"fieldId\\\": \\\"from_id\\\",\\n                  \\\"fieldValue\\\": \\\"={{ $('MergeMessage').item.json.from_id }}\\\"\\n                },\\n                {\\n                  \\\"fieldId\\\": \\\"to_id\\\",\\n                  \\\"fieldValue\\\": \\\"={{ $('MergeMessage').item.json.to_id }}\\\"\\n                },\\n                {\\n                  \\\"fieldId\\\": \\\"thread_id\\\",\\n                  \\\"fieldValue\\\": \\\"={{ $json.threadId }}\\\"\\n                },\\n                {\\n                  \\\"fieldId\\\": \\\"timestamp\\\",\\n                  \\\"fieldValue\\\": \\\"={{ $now.toMillis() }}\\\"\\n                },\\n                {\\n                  \\\"fieldId\\\": \\\"message_id\\\",\\n                  \\\"fieldValue\\\": \\\"={{ $json.response.attachment[0].msgId }}\\\"\\n                },\\n                {\\n                  \\\"fieldId\\\": \\\"text\\\",\\n                  \\\"fieldValue\\\": \\\"={{ $json.messageContent.msg }}\\\"\\n                },\\n                {\\n                  \\\"fieldId\\\": \\\"status\\\",\\n                  \\\"fieldValue\\\": \\\"done\\\"\\n                },\\n                {\\n                  \\\"fieldId\\\": \\\"d_name\\\",\\n                  \\\"fieldValue\\\": \\\"={{ $('MergeMessage').last().json.d_name }}\\\"\\n                },\\n                {\\n                  \\\"fieldId\\\": \\\"is_bot\\\",\\n                  \\\"fieldValue\\\": \\\"true\\\"\\n                }\\n              ]\\n            }\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.supabase\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            4288,\\n            1792\\n          ],\\n          \\\"id\\\": \\\"b1114e2a-a6db-4165-90a6-4d12e64e602c\\\",\\n          \\\"name\\\": \\\"SaveToChats2\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {},\\n          \\\"type\\\": \\\"n8n-nodes-base.wait\\\",\\n          \\\"typeVersion\\\": 1.1,\\n          \\\"position\\\": [\\n            4752,\\n            1792\\n          ],\\n          \\\"id\\\": \\\"29aadac6-bfce-4171-bc2b-25c80847956a\\\",\\n          \\\"name\\\": \\\"Wait\\\",\\n          \\\"webhookId\\\": \\\"49f92e25-7578-4763-84df-ed87c3dad3e7\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"respondWith\\\": \\\"allIncomingItems\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.respondToWebhook\\\",\\n          \\\"typeVersion\\\": 1.2,\\n          \\\"position\\\": [\\n            2448,\\n            192\\n          ],\\n          \\\"id\\\": \\\"6afa3641-983b-47ba-9855-6bd66d939cb8\\\",\\n          \\\"name\\\": \\\"Respond to Webhook\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {},\\n          \\\"type\\\": \\\"n8n-nodes-debounce.debouncePostgres\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            2880,\\n            192\\n          ],\\n          \\\"id\\\": \\\"0d6c2911-e7b9-4155-9e75-4ada8cc48c8c\\\",\\n          \\\"name\\\": \\\"Debounce Postgres\\\",\\n          \\\"credentials\\\": {}\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"httpMethod\\\": \\\"POST\\\",\\n            \\\"path\\\": \\\"zalo_on_message\\\",\\n            \\\"responseMode\\\": \\\"responseNode\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.webhook\\\",\\n          \\\"typeVersion\\\": 2,\\n          \\\"position\\\": [\\n            2224,\\n            192\\n          ],\\n          \\\"id\\\": \\\"d2bf0f96-8cca-4bf4-a3c9-69dd8df56f5c\\\",\\n          \\\"name\\\": \\\"OnMessage\\\",\\n          \\\"webhookId\\\": \\\"ef7c2705-2b91-46bf-bd98-7d6bc8165d40\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"conditions\\\": {\\n              \\\"options\\\": {\\n                \\\"caseSensitive\\\": true,\\n                \\\"leftValue\\\": \\\"\\\",\\n                \\\"typeValidation\\\": \\\"strict\\\",\\n                \\\"version\\\": 2\\n              },\\n              \\\"conditions\\\": [\\n                {\\n                  \\\"id\\\": \\\"3688a7eb-5667-4758-8bc4-67d82423784d\\\",\\n                  \\\"leftValue\\\": \\\"={{ $json.output }}\\\",\\n                  \\\"rightValue\\\": \\\"https?://[^\\\\\\\\s\\\\\\\"']+\\\",\\n                  \\\"operator\\\": {\\n                    \\\"type\\\": \\\"string\\\",\\n                    \\\"operation\\\": \\\"notRegex\\\"\\n                  }\\n                }\\n              ],\\n              \\\"combinator\\\": \\\"and\\\"\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.if\\\",\\n          \\\"typeVersion\\\": 2.2,\\n          \\\"position\\\": [\\n            2192,\\n            912\\n          ],\\n          \\\"id\\\": \\\"1ac6292c-4f0a-4b1d-8546-b9f39c671df1\\\",\\n          \\\"name\\\": \\\"IfExistLink\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"content\\\": \\\"## LÆ°u tin nháº¯n\\\\n- LÆ°u láº¡i tin nháº¯n vÃ o csdl\\\",\\n            \\\"height\\\": 220,\\n            \\\"width\\\": 320\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.stickyNote\\\",\\n          \\\"position\\\": [\\n            3328,\\n            832\\n          ],\\n          \\\"typeVersion\\\": 1,\\n          \\\"id\\\": \\\"7aa339d0-c24f-45d4-827c-afd6b370d2e6\\\",\\n          \\\"name\\\": \\\"Sticky Note9\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"content\\\": \\\"## PhÃ¢n tÃ¡ch tin nháº¯n cÃ³ kÃ¨m áº£nh\\\\n- Sá»­ dá»¥ng AI Ä‘á»ƒ phÃ¢n tÃ¡ch tin nháº¯n kÃ¨m áº£nh\\\",\\n            \\\"height\\\": 240,\\n            \\\"width\\\": 520\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.stickyNote\\\",\\n          \\\"position\\\": [\\n            2432,\\n            1168\\n          ],\\n          \\\"typeVersion\\\": 1,\\n          \\\"id\\\": \\\"33f49485-8fd9-4576-b512-62f0137dafc3\\\",\\n          \\\"name\\\": \\\"Sticky Note10\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {},\\n          \\\"type\\\": \\\"n8n-nodes-base.noOp\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            2192,\\n            1264\\n          ],\\n          \\\"id\\\": \\\"cd53fccc-ee8f-453a-b384-61dc25821d2d\\\",\\n          \\\"name\\\": \\\"Tin nháº¯n cÃ³ áº£nh\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {},\\n          \\\"type\\\": \\\"n8n-nodes-base.noOp\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            2752,\\n            928\\n          ],\\n          \\\"id\\\": \\\"c25580bc-0bda-415d-bbc3-970012d48037\\\",\\n          \\\"name\\\": \\\"Tin nháº¯n khÃ´ng áº£nh\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"content\\\": \\\"## Tráº£ lá»i tin nháº¯n\\\\n- Náº¿u Ä‘oáº¡n tin nháº¯n nÃ y khÃ´ng cÃ³ áº£nh\\\",\\n            \\\"height\\\": 220,\\n            \\\"width\\\": 340\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.stickyNote\\\",\\n          \\\"position\\\": [\\n            3520,\\n            1184\\n          ],\\n          \\\"typeVersion\\\": 1,\\n          \\\"id\\\": \\\"fbc31d90-157d-4215-bc9e-70cc961916a3\\\",\\n          \\\"name\\\": \\\"Sticky Note11\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {},\\n          \\\"type\\\": \\\"n8n-nodes-zalos-user.zaloSendMessage\\\",\\n          \\\"typeVersion\\\": 4,\\n          \\\"position\\\": [\\n            3664,\\n            1264\\n          ],\\n          \\\"id\\\": \\\"697da062-f831-4fb5-9354-60d563fdd1f7\\\",\\n          \\\"name\\\": \\\"Zalo Send Message2\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"tableId\\\": \\\"zl_chats\\\",\\n            \\\"fieldsUi\\\": {\\n              \\\"fieldValues\\\": [\\n                {\\n                  \\\"fieldId\\\": \\\"from_id\\\",\\n                  \\\"fieldValue\\\": \\\"={{ $('MergeMessage').item.json.from_id }}\\\"\\n                },\\n                {\\n                  \\\"fieldId\\\": \\\"to_id\\\",\\n                  \\\"fieldValue\\\": \\\"={{ $('MergeMessage').item.json.to_id }}\\\"\\n                },\\n                {\\n                  \\\"fieldId\\\": \\\"thread_id\\\",\\n                  \\\"fieldValue\\\": \\\"={{ $json.threadId }}\\\"\\n                },\\n                {\\n                  \\\"fieldId\\\": \\\"timestamp\\\",\\n                  \\\"fieldValue\\\": \\\"={{ $now.toMillis() }}\\\"\\n                },\\n                {\\n                  \\\"fieldId\\\": \\\"message_id\\\",\\n                  \\\"fieldValue\\\": \\\"={{ $json.response.attachment[0].msgId }}\\\"\\n                },\\n                {\\n                  \\\"fieldId\\\": \\\"text\\\",\\n                  \\\"fieldValue\\\": \\\"={{ $json.messageContent.msg }}\\\"\\n                },\\n                {\\n                  \\\"fieldId\\\": \\\"status\\\",\\n                  \\\"fieldValue\\\": \\\"done\\\"\\n                },\\n                {\\n                  \\\"fieldId\\\": \\\"d_name\\\",\\n                  \\\"fieldValue\\\": \\\"={{ $('MergeMessage').last().json.d_name }}\\\"\\n                },\\n                {\\n                  \\\"fieldId\\\": \\\"is_bot\\\",\\n                  \\\"fieldValue\\\": \\\"true\\\"\\n                }\\n              ]\\n            }\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.supabase\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            3952,\\n            1264\\n          ],\\n          \\\"id\\\": \\\"006a6787-12ae-490c-a6e1-c9b850658b44\\\",\\n          \\\"name\\\": \\\"SaveToChats3\\\",\\n          \\\"retryOnFail\\\": false\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"conditions\\\": {\\n              \\\"options\\\": {\\n                \\\"caseSensitive\\\": true,\\n                \\\"leftValue\\\": \\\"\\\",\\n                \\\"typeValidation\\\": \\\"loose\\\",\\n                \\\"version\\\": 2\\n              },\\n              \\\"conditions\\\": [\\n                {\\n                  \\\"id\\\": \\\"4a008533-4c98-4124-b3b5-e13b3f1e22a9\\\",\\n                  \\\"leftValue\\\": \\\"={{ $json.image }}\\\",\\n                  \\\"rightValue\\\": \\\"\\\",\\n                  \\\"operator\\\": {\\n                    \\\"type\\\": \\\"string\\\",\\n                    \\\"operation\\\": \\\"empty\\\",\\n                    \\\"singleValue\\\": true\\n                  }\\n                }\\n              ],\\n              \\\"combinator\\\": \\\"and\\\"\\n            },\\n            \\\"looseTypeValidation\\\": true,\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.if\\\",\\n          \\\"typeVersion\\\": 2.2,\\n          \\\"position\\\": [\\n            3328,\\n            1264\\n          ],\\n          \\\"id\\\": \\\"7f88059e-f8be-4ae7-8422-700a34c9ece4\\\",\\n          \\\"name\\\": \\\"IfNotImage\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"content\\\": \\\"## LÆ°u tin nháº¯n\\\\n- LÆ°u láº¡i tin nháº¯n vÃ o csdl\\\",\\n            \\\"height\\\": 220,\\n            \\\"width\\\": 580\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.stickyNote\\\",\\n          \\\"position\\\": [\\n            3888,\\n            1184\\n          ],\\n          \\\"typeVersion\\\": 1,\\n          \\\"id\\\": \\\"c4cef9e1-03f2-4e55-8ff1-ce58f449ecc4\\\",\\n          \\\"name\\\": \\\"Sticky Note12\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"content\\\": \\\"## PhÃ¢n tÃ¡ch\\\\n- PhÃ¢n tÃ¡ch link áº£nh náº¿u Ä‘oáº¡n tin cÃ³ nhiá»u link áº£nh\\\",\\n            \\\"height\\\": 260,\\n            \\\"width\\\": 200\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.stickyNote\\\",\\n          \\\"position\\\": [\\n            3040,\\n            1472\\n          ],\\n          \\\"typeVersion\\\": 1,\\n          \\\"id\\\": \\\"db410eda-2db2-43f0-bb2e-11058c8764f2\\\",\\n          \\\"name\\\": \\\"Sticky Note13\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"content\\\": \\\"## PhÃ¢n loáº¡i link áº£nh\\\\n- xem link áº£nh lÃ  link drive hay link self host\\\",\\n            \\\"height\\\": 260\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.stickyNote\\\",\\n          \\\"position\\\": [\\n            3264,\\n            1472\\n          ],\\n          \\\"typeVersion\\\": 1,\\n          \\\"id\\\": \\\"669df36a-3861-4a37-8fea-f64bdb2f5c3c\\\",\\n          \\\"name\\\": \\\"Sticky Note14\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {},\\n          \\\"type\\\": \\\"n8n-nodes-base.noOp\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            3664,\\n            1488\\n          ],\\n          \\\"id\\\": \\\"1fd963a2-be69-4885-86a3-72bb783297af\\\",\\n          \\\"name\\\": \\\"Link áº£nh server cÃ¡ nhÃ¢n\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"assignments\\\": {\\n              \\\"assignments\\\": [\\n                {\\n                  \\\"id\\\": \\\"4472944c-60c5-4af8-a5cd-6d502e9921c4\\\",\\n                  \\\"name\\\": \\\"=image\\\",\\n                  \\\"value\\\": \\\"=https://dxunek.datadex.vn/webhook/f6084433-b03b-4c23-9e67-704ca3ba2812?url={{ $json.image }}\\\",\\n                  \\\"type\\\": \\\"string\\\"\\n                }\\n              ]\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.set\\\",\\n          \\\"typeVersion\\\": 3.4,\\n          \\\"position\\\": [\\n            3664,\\n            1792\\n          ],\\n          \\\"id\\\": \\\"0560ed3c-9ff6-4469-b1b3-1e82dd97545f\\\",\\n          \\\"name\\\": \\\"Link áº£nh drive\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"content\\\": \\\"## Tráº£ lá»i tin nháº¯n\\\\n- Tráº£ lá»i tin nháº¯n kÃ¨m theo áº£nh\\\",\\n            \\\"height\\\": 240,\\n            \\\"width\\\": 260\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.stickyNote\\\",\\n          \\\"position\\\": [\\n            3888,\\n            1680\\n          ],\\n          \\\"typeVersion\\\": 1,\\n          \\\"id\\\": \\\"b1faf2f0-7bd3-4bd3-9783-221ad29bcbaa\\\",\\n          \\\"name\\\": \\\"Sticky Note15\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"content\\\": \\\"## LÆ°u tin nháº¯n\\\\n- LÆ°u láº¡i tin nháº¯n vÃ o csdl\\\",\\n            \\\"height\\\": 240,\\n            \\\"width\\\": 300\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.stickyNote\\\",\\n          \\\"position\\\": [\\n            4160,\\n            1680\\n          ],\\n          \\\"typeVersion\\\": 1,\\n          \\\"id\\\": \\\"afe2096c-d0c1-46ed-bf85-b8bd9cbcc75f\\\",\\n          \\\"name\\\": \\\"Sticky Note16\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"assignments\\\": {\\n              \\\"assignments\\\": [\\n                {\\n                  \\\"id\\\": \\\"cbcd35cb-2d2b-4d3f-b0e2-d2b9411a4c7c\\\",\\n                  \\\"name\\\": \\\"message_id\\\",\\n                  \\\"value\\\": \\\"={{ $json.body.message_id }}\\\",\\n                  \\\"type\\\": \\\"string\\\"\\n                },\\n                {\\n                  \\\"id\\\": \\\"3a94490b-3090-44a5-b63d-003235c06a74\\\",\\n                  \\\"name\\\": \\\"text\\\",\\n                  \\\"value\\\": \\\"={{ $json.body.text }}\\\",\\n                  \\\"type\\\": \\\"string\\\"\\n                },\\n                {\\n                  \\\"id\\\": \\\"05c893f0-f84d-4d19-a457-65b7aa38b3f9\\\",\\n                  \\\"name\\\": \\\"d_name\\\",\\n                  \\\"value\\\": \\\"={{ $json.body.d_name }}\\\",\\n                  \\\"type\\\": \\\"string\\\"\\n                },\\n                {\\n                  \\\"id\\\": \\\"4065e882-8075-42e3-92a6-e21827ee00da\\\",\\n                  \\\"name\\\": \\\"from_id\\\",\\n                  \\\"value\\\": \\\"={{ $json.body.from_id }}\\\",\\n                  \\\"type\\\": \\\"string\\\"\\n                },\\n                {\\n                  \\\"id\\\": \\\"a86f5164-d6ab-431e-a997-9316e88fe084\\\",\\n                  \\\"name\\\": \\\"to_id\\\",\\n                  \\\"value\\\": \\\"={{ $json.body.to_id }}\\\",\\n                  \\\"type\\\": \\\"string\\\"\\n                },\\n                {\\n                  \\\"id\\\": \\\"f39b34cc-5087-4765-8a91-eb573b902382\\\",\\n                  \\\"name\\\": \\\"thread_id\\\",\\n                  \\\"value\\\": \\\"={{ $json.body.threadld }}\\\",\\n                  \\\"type\\\": \\\"string\\\"\\n                },\\n                {\\n                  \\\"id\\\": \\\"d40c524c-6c85-4ff4-bdf5-a57bf2701162\\\",\\n                  \\\"name\\\": \\\"key\\\",\\n                  \\\"value\\\": \\\"={{ $json.body.key }}\\\",\\n                  \\\"type\\\": \\\"string\\\"\\n                },\\n                {\\n                  \\\"id\\\": \\\"b691f74d-e71a-4021-84d2-37b5f1c860ed\\\",\\n                  \\\"name\\\": \\\"timestamp\\\",\\n                  \\\"value\\\": \\\"={{ $json.body.timestamp }}\\\",\\n                  \\\"type\\\": \\\"string\\\"\\n                }\\n              ]\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.set\\\",\\n          \\\"typeVersion\\\": 3.4,\\n          \\\"position\\\": [\\n            2672,\\n            192\\n          ],\\n          \\\"id\\\": \\\"20409134-9f47-4099-a1a8-564fc4a0faf2\\\",\\n          \\\"name\\\": \\\"BodyData\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"rules\\\": {\\n              \\\"values\\\": [\\n                {\\n                  \\\"conditions\\\": {\\n                    \\\"options\\\": {\\n                      \\\"caseSensitive\\\": true,\\n                      \\\"leftValue\\\": \\\"\\\",\\n                      \\\"typeValidation\\\": \\\"strict\\\",\\n                      \\\"version\\\": 2\\n                    },\\n                    \\\"conditions\\\": [\\n                      {\\n                        \\\"leftValue\\\": \\\"={{ encodeURI($json.image) }}\\\",\\n                        \\\"rightValue\\\": \\\"/https?:\\\\\\\\/\\\\\\\\/[^\\\\\\\\s]+?\\\\\\\\.(jpg|jpeg|png|gif)(\\\\\\\\?[^\\\\\\\\s]*)?/gi\\\",\\n                        \\\"operator\\\": {\\n                          \\\"type\\\": \\\"string\\\",\\n                          \\\"operation\\\": \\\"regex\\\"\\n                        },\\n                        \\\"id\\\": \\\"5bfc1fd6-bf94-4cae-b1fe-266c29502ad6\\\"\\n                      }\\n                    ],\\n                    \\\"combinator\\\": \\\"and\\\"\\n                  },\\n                  \\\"renameOutput\\\": true,\\n                  \\\"outputKey\\\": \\\"link\\\"\\n                },\\n                {\\n                  \\\"conditions\\\": {\\n                    \\\"options\\\": {\\n                      \\\"caseSensitive\\\": true,\\n                      \\\"leftValue\\\": \\\"\\\",\\n                      \\\"typeValidation\\\": \\\"strict\\\",\\n                      \\\"version\\\": 2\\n                    },\\n                    \\\"conditions\\\": [\\n                      {\\n                        \\\"id\\\": \\\"4aa7cbe6-2423-490c-8b4d-9bbc8b951b75\\\",\\n                        \\\"leftValue\\\": \\\"={{ $json.image }}\\\",\\n                        \\\"rightValue\\\": \\\"https?://(?:drive\\\\\\\\.google\\\\\\\\.com|docs\\\\\\\\.google\\\\\\\\.com)/[^\\\\\\\\s\\\\\\\"']+\\\",\\n                        \\\"operator\\\": {\\n                          \\\"type\\\": \\\"string\\\",\\n                          \\\"operation\\\": \\\"regex\\\"\\n                        }\\n                      }\\n                    ],\\n                    \\\"combinator\\\": \\\"and\\\"\\n                  },\\n                  \\\"renameOutput\\\": true,\\n                  \\\"outputKey\\\": \\\"driver\\\"\\n                }\\n              ]\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.switch\\\",\\n          \\\"typeVersion\\\": 3.2,\\n          \\\"position\\\": [\\n            3360,\\n            1584\\n          ],\\n          \\\"id\\\": \\\"6b69fa18-a611-4e4a-86eb-bd48301cc658\\\",\\n          \\\"name\\\": \\\"Switch2\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"content\\\": \\\"## Chá» ngÆ°á»i dÃ¹ng tráº£ lá»i\\\\n- NgÆ°á»i dÃ¹ng cÃ³ thá»ƒ tráº£ lá»i ngáº¯t quÃ£ng\\\",\\n            \\\"height\\\": 260,\\n            \\\"width\\\": 300\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.stickyNote\\\",\\n          \\\"position\\\": [\\n            2848,\\n            80\\n          ],\\n          \\\"typeVersion\\\": 1,\\n          \\\"id\\\": \\\"ecadd55c-c867-4aa8-8f9d-1a8d597eb466\\\",\\n          \\\"name\\\": \\\"Sticky Note17\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"content\\\": \\\"## Get All Message\\\\n- Láº¥y ra toÃ n bá»™ tin nháº¯n cá»§a ngÆ°á»i dÃ¹ng\\\",\\n            \\\"height\\\": 240,\\n            \\\"width\\\": 320\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.stickyNote\\\",\\n          \\\"position\\\": [\\n            2144,\\n            368\\n          ],\\n          \\\"typeVersion\\\": 1,\\n          \\\"id\\\": \\\"27e3e03f-002d-4cb0-befc-38435dce2cb9\\\",\\n          \\\"name\\\": \\\"Sticky Note18\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"content\\\": \\\"## Cáº­p nháº­t tráº¡ng thÃ¡i\\\\n- Äá»•i tráº¡ng thÃ¡i pending sang done\\\",\\n            \\\"height\\\": 240,\\n            \\\"width\\\": 340\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.stickyNote\\\",\\n          \\\"position\\\": [\\n            2480,\\n            368\\n          ],\\n          \\\"typeVersion\\\": 1,\\n          \\\"id\\\": \\\"216b36d4-edcc-430b-baee-6a1ac651ec84\\\",\\n          \\\"name\\\": \\\"Sticky Note19\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"content\\\": \\\"## Gá»™p tin nháº¯n\\\\n- Gá»™p toÃ n bá»™ tin nháº¯n láº¡i thÃ nh 1 tin nháº¯n\\\\n\\\",\\n            \\\"height\\\": 240,\\n            \\\"width\\\": 360\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.stickyNote\\\",\\n          \\\"position\\\": [\\n            2848,\\n            368\\n          ],\\n          \\\"typeVersion\\\": 1,\\n          \\\"id\\\": \\\"78297f41-a44b-40cc-b06c-2be9909f3c8b\\\",\\n          \\\"name\\\": \\\"Sticky Note20\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"content\\\": \\\"## AI Agent\\\\n- Sá»­ dá»¥ng AI Agent Ä‘á»ƒ tráº£ lá»i tin nháº¯n\\\",\\n            \\\"height\\\": 240,\\n            \\\"width\\\": 420\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.stickyNote\\\",\\n          \\\"position\\\": [\\n            3232,\\n            368\\n          ],\\n          \\\"typeVersion\\\": 1,\\n          \\\"id\\\": \\\"28340180-c050-47ba-ac82-d64534fd452e\\\",\\n          \\\"name\\\": \\\"Sticky Note21\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"content\\\": \\\"## PhÃ¢n nhÃ¡nh\\\\n- Kiá»ƒm tra xem trong ná»™i dung tráº£ lá»i cÃ³ áº£nh hay khÃ´ng Ä‘á»ƒ phÃ¢n nhÃ¡nh\\\",\\n            \\\"height\\\": 220,\\n            \\\"width\\\": 520\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.stickyNote\\\",\\n          \\\"position\\\": [\\n            2144,\\n            832\\n          ],\\n          \\\"typeVersion\\\": 1,\\n          \\\"id\\\": \\\"18c79fb0-2b41-4af2-9152-0bf0dbe26611\\\",\\n          \\\"name\\\": \\\"Sticky Note22\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"content\\\": \\\"## Tráº£ lá»i tin nháº¯n\\\\n- Náº¿u ná»™i dung cÃ¢u tráº£ lá»i khÃ´ng cÃ³ áº£nh. ThÃ¬ ta gá»­i luÃ´n cÃ¢u tráº£ lá»i vá» cho ngÆ°á»i dÃ¹ng\\\",\\n            \\\"height\\\": 220,\\n            \\\"width\\\": 620\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.stickyNote\\\",\\n          \\\"position\\\": [\\n            2688,\\n            832\\n          ],\\n          \\\"typeVersion\\\": 1,\\n          \\\"id\\\": \\\"117c6661-631d-4b8e-a4d8-b5e488a3abfd\\\",\\n          \\\"name\\\": \\\"Sticky Note23\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"path\\\": \\\"f6084433-b03b-4c23-9e67-704ca3ba2813\\\",\\n            \\\"responseMode\\\": \\\"responseNode\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.webhook\\\",\\n          \\\"typeVersion\\\": 2,\\n          \\\"position\\\": [\\n            480,\\n            112\\n          ],\\n          \\\"id\\\": \\\"ffd9fe22-6b9d-418f-9327-4f10d4d44cfa\\\",\\n          \\\"name\\\": \\\"DownloadFile\\\",\\n          \\\"webhookId\\\": \\\"f6084433-b03b-4c23-9e67-704ca3ba2812\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"content\\\": \\\"## Táº¡o link áº£nh drive\\\\n- Nhá»› thay link Ä‘Æ°á»£c láº¥y tá»« webhook DownloadFile\\\",\\n            \\\"height\\\": 240,\\n            \\\"width\\\": 340\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.stickyNote\\\",\\n          \\\"position\\\": [\\n            3520,\\n            1680\\n          ],\\n          \\\"typeVersion\\\": 1,\\n          \\\"id\\\": \\\"5970d551-e39f-4d27-bd54-af20a0d263a5\\\",\\n          \\\"name\\\": \\\"Sticky Note27\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {},\\n          \\\"type\\\": \\\"n8n-nodes-base.noOp\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            4288,\\n            1264\\n          ],\\n          \\\"id\\\": \\\"a7f83e70-d1d2-4eb3-bd65-d2abd28fb40f\\\",\\n          \\\"name\\\": \\\"No Operation, do nothing\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"respondWith\\\": \\\"binary\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.respondToWebhook\\\",\\n          \\\"typeVersion\\\": 1.4,\\n          \\\"position\\\": [\\n            864,\\n            112\\n          ],\\n          \\\"id\\\": \\\"7a0ba287-f74b-4308-99dd-90e24af2c128\\\",\\n          \\\"name\\\": \\\"Respond to Webhook1\\\"\\n        }\\n      ],\\n      \\\"connections\\\": {\\n        \\\"CreateIncludedTable\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"CreateDebounceTable\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"CreateChatsTable\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"CreateIncludedTable\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"When clicking â€˜Test workflowâ€™\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"CreateChatsTable\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Zalo Message Trigger\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"If\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"If\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Switch1\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ],\\n            [\\n              {\\n                \\\"node\\\": \\\"Switch\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Switch\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Data\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"SaveToChats\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"GetUserIncluded\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"GetUserIncluded\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"IfDoesNotExist\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"IfDoesNotExist\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"SendOnMessage\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Data\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"FindById2\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Data2\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Wait2\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"FindById\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"IfExistsMessage\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"IfExistsMessage\\\": {\\n          \\\"main\\\": [\\n            [],\\n            [\\n              {\\n                \\\"node\\\": \\\"Merge\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 1\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"SaveMessage\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"InsertOrUpdateIncluded\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"FindById2\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"IfExistsMessage2\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"IfExistsMessage2\\\": {\\n          \\\"main\\\": [\\n            [],\\n            [\\n              {\\n                \\\"node\\\": \\\"SaveToChats\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Switch1\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Data2\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ],\\n            [\\n              {\\n                \\\"node\\\": \\\"Data3\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ],\\n            [\\n              {\\n                \\\"node\\\": \\\"Data3\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ],\\n            [\\n              {\\n                \\\"node\\\": \\\"Data3\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Data3\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Wait2\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Merge\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"SaveMessage\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Wait2\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"FindById\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              },\\n              {\\n                \\\"node\\\": \\\"Merge\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"GetAllMessage\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"UpdateDoneMessage\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"UpdateDoneMessage\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"MergeMessage\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"MergeMessage\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"AI Agent\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"AI Agent\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"IfExistLink\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"OpenAI Chat Model\\\": {\\n          \\\"ai_languageModel\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"AI Agent\\\",\\n                \\\"type\\\": \\\"ai_languageModel\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Postgres Chat Memory\\\": {\\n          \\\"ai_memory\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"AI Agent\\\",\\n                \\\"type\\\": \\\"ai_memory\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Zalo Send Message\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"SaveToChats1\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Zalo Send Message1\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"SaveToChats2\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"OpenAI Chat Model2\\\": {\\n          \\\"ai_languageModel\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Basic LLM Chain\\\",\\n                \\\"type\\\": \\\"ai_languageModel\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Structured Output Parser\\\": {\\n          \\\"ai_outputParser\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Basic LLM Chain\\\",\\n                \\\"type\\\": \\\"ai_outputParser\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Basic LLM Chain\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Split Out2\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Split Out2\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Loop Over Items\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Loop Over Items\\\": {\\n          \\\"main\\\": [\\n            [],\\n            [\\n              {\\n                \\\"node\\\": \\\"IfNotImage\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Split Out3\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Switch2\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"data\\\": {\\n          \\\"ai_tool\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"AI Agent\\\",\\n                \\\"type\\\": \\\"ai_tool\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"SaveToChats2\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Wait\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Wait\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Loop Over Items\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Respond to Webhook\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"BodyData\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Debounce Postgres\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"GetAllMessage\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"OnMessage\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Respond to Webhook\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"IfExistLink\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Tin nháº¯n khÃ´ng áº£nh\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ],\\n            [\\n              {\\n                \\\"node\\\": \\\"Tin nháº¯n cÃ³ áº£nh\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Tin nháº¯n cÃ³ áº£nh\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Basic LLM Chain\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Tin nháº¯n khÃ´ng áº£nh\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Zalo Send Message\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Zalo Send Message2\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"SaveToChats3\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"SaveToChats3\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"No Operation, do nothing\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"IfNotImage\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Zalo Send Message2\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ],\\n            [\\n              {\\n                \\\"node\\\": \\\"Split Out3\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Link áº£nh server cÃ¡ nhÃ¢n\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Zalo Send Message1\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Link áº£nh drive\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Zalo Send Message1\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"BodyData\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Debounce Postgres\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Switch2\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Link áº£nh server cÃ¡ nhÃ¢n\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ],\\n            [\\n              {\\n                \\\"node\\\": \\\"Link áº£nh drive\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"DownloadFile\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Google Drive\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"No Operation, do nothing\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Wait\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Google Drive\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Respond to Webhook1\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        }\\n      },\\n      \\\"settings\\\": {\\n        \\\"executionOrder\\\": \\\"v1\\\",\\n        \\\"availableInMCP\\\": false,\\n        \\\"callerPolicy\\\": \\\"workflowsFromSameOwner\\\"\\n      },\\n      \\\"staticData\\\": null,\\n      \\\"meta\\\": null,\\n      \\\"pinData\\\": null,\\n      \\\"versionId\\\": \\\"f4f2e995-51bb-4dbc-8e4d-75c368d9827b\\\",\\n      \\\"activeVersionId\\\": null,\\n      \\\"triggerCount\\\": 0,\\n      \\\"shared\\\": [\\n        {\\n          \\\"updatedAt\\\": \\\"2026-02-12T13:29:15.634Z\\\",\\n          \\\"createdAt\\\": \\\"2026-02-12T13:29:15.634Z\\\",\\n          \\\"role\\\": \\\"workflow:owner\\\",\\n          \\\"workflowId\\\": \\\"gGp6sVOWXkPf4hLq\\\",\\n          \\\"projectId\\\": \\\"Xq0VG5A9CPTUak2A\\\"\\n        }\\n      ],\\n      \\\"activeVersion\\\": null,\\n      \\\"tags\\\": []\\n    },\\n    {\\n      \\\"updatedAt\\\": \\\"2026-02-12T13:29:16.678Z\\\",\\n      \\\"createdAt\\\": \\\"2026-02-12T13:29:16.678Z\\\",\\n      \\\"id\\\": \\\"PrCuWsQqDYclwJJB\\\",\\n      \\\"name\\\": \\\"Post Facebook\\\",\\n      \\\"active\\\": false,\\n      \\\"isArchived\\\": false,\\n      \\\"nodes\\\": [\\n        {\\n          \\\"parameters\\\": {\\n            \\\"url\\\": \\\"https://shop.thetaphoa.store/api/facebook-posts\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"typeVersion\\\": 4.3,\\n          \\\"position\\\": [\\n            -1216,\\n            280\\n          ],\\n          \\\"id\\\": \\\"8b25c5fd-114d-4bb8-8942-47baf532e5fb\\\",\\n          \\\"name\\\": \\\"Láº¥y data bÃ i \\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"fieldToSplitOut\\\": \\\"mediaFiles\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.splitOut\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            -544,\\n            64\\n          ],\\n          \\\"id\\\": \\\"9155b525-17f8-4674-bdb3-1c955d2c17fe\\\",\\n          \\\"name\\\": \\\"chia ra thÃ nh nhiá»u hÃ¬nh\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.splitInBatches\\\",\\n          \\\"typeVersion\\\": 3,\\n          \\\"position\\\": [\\n            -320,\\n            64\\n          ],\\n          \\\"id\\\": \\\"c4a663d6-b886-475d-a7b1-e26a9290fbed\\\",\\n          \\\"name\\\": \\\"Loop Qua List2\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"assignments\\\": {\\n              \\\"assignments\\\": [\\n                {\\n                  \\\"id\\\": \\\"27f49dce-bd7a-4e10-beb6-2fd215084f92\\\",\\n                  \\\"name\\\": \\\"media_fbid\\\",\\n                  \\\"value\\\": \\\"={{ $json.id }}\\\",\\n                  \\\"type\\\": \\\"string\\\"\\n                }\\n              ]\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.set\\\",\\n          \\\"typeVersion\\\": 3.4,\\n          \\\"position\\\": [\\n            -96,\\n            -80\\n          ],\\n          \\\"id\\\": \\\"739d5b5d-4262-4bbb-b96c-25830614f0d1\\\",\\n          \\\"name\\\": \\\"Sá»­a data cho giá»‘ng facebook rule (media_fbid)\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"httpRequestMethod\\\": \\\"POST\\\",\\n            \\\"graphApiVersion\\\": \\\"v23.0\\\",\\n            \\\"node\\\": \\\"me\\\",\\n            \\\"edge\\\": \\\"feed\\\",\\n            \\\"options\\\": {\\n              \\\"queryParameters\\\": {\\n                \\\"parameter\\\": [\\n                  {\\n                    \\\"name\\\": \\\"message\\\",\\n                    \\\"value\\\": \\\"={{ $('Code in JavaScript').item.json.content }}\\\"\\n                  },\\n                  {\\n                    \\\"name\\\": \\\"attached_media\\\",\\n                    \\\"value\\\": \\\"={{ $json.attached_media }}\\\"\\n                  }\\n                ]\\n              }\\n            }\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.facebookGraphApi\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            352,\\n            -80\\n          ],\\n          \\\"id\\\": \\\"5ec3ca8e-9980-420b-910d-ba178a3b10f7\\\",\\n          \\\"name\\\": \\\"Post\\\",\\n          \\\"credentials\\\": {\\n            \\\"facebookGraphApi\\\": {\\n              \\\"id\\\": \\\"83A7rw2cSHq2OCfd\\\",\\n              \\\"name\\\": \\\"Facebook Graph account\\\"\\n            }\\n          }\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"aggregate\\\": \\\"aggregateAllItemData\\\",\\n            \\\"destinationFieldName\\\": \\\"attached_media\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.aggregate\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            128,\\n            -80\\n          ],\\n          \\\"id\\\": \\\"865da90c-caac-4b6e-be02-4c4bbe475c6f\\\",\\n          \\\"name\\\": \\\"Gom hÃ¬nh láº¡i thÃ nh 1 field\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"rule\\\": {\\n              \\\"interval\\\": [\\n                {\\n                  \\\"field\\\": \\\"minutes\\\",\\n                  \\\"minutesInterval\\\": 1\\n                }\\n              ]\\n            }\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.scheduleTrigger\\\",\\n          \\\"typeVersion\\\": 1.3,\\n          \\\"position\\\": [\\n            -1440,\\n            376\\n          ],\\n          \\\"id\\\": \\\"ca0546fd-48cb-487a-b936-7e341c27c70c\\\",\\n          \\\"name\\\": \\\"Schedule Trigger1\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {},\\n          \\\"type\\\": \\\"n8n-nodes-base.manualTrigger\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            -1440,\\n            184\\n          ],\\n          \\\"id\\\": \\\"402e80cd-2586-4977-ab9c-e203c489a529\\\",\\n          \\\"name\\\": \\\"When clicking â€˜Execute workflowâ€™\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"jsCode\\\": \\\"const items = $('Láº¥y data bÃ i ').first().json.data;\\\\n\\\\n// Láº¥y ngÃ y giá» hiá»‡n táº¡i\\\\nconst now = new Date();\\\\n\\\\nconst vnTime = new Date(now.toLocaleString('en-US', { timeZone: 'Asia/Ho_Chi_Minh' }));\\\\n\\\\n// Format ngÃ y theo DD/MM/YYYY\\\\nconst currentDate = vnTime.toLocaleDateString('en-GB'); // \\\\\\\"03/01/2026\\\\\\\"\\\\n// Format giá» theo HH:mm\\\\nconst hours = String(vnTime.getHours()).padStart(2, '0');\\\\nconst minutes = String(vnTime.getMinutes()).padStart(2, '0');\\\\nconst currentTime = `${hours}:${minutes}`; // \\\\\\\"09:06\\\\\\\"\\\\n\\\\nconst filtered = items.filter(item => {\\\\n\\\\n  // So sÃ¡nh trá»±c tiáº¿p chuá»—i\\\\n  const matchDate = item.scheduledDate === currentDate;\\\\n  const matchTime = item.scheduledTime === currentTime;\\\\n  const notPublished = item.status !== 'published';  \\\\n\\\\n  \\\\n  return matchDate && matchTime && notPublished;\\\\n});\\\\n\\\\nreturn filtered.map(post => ({ json: post }));\\\\n\\\"\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.code\\\",\\n          \\\"typeVersion\\\": 2,\\n          \\\"position\\\": [\\n            -992,\\n            280\\n          ],\\n          \\\"id\\\": \\\"8798044d-89b4-4967-9885-378311ea7aa1\\\",\\n          \\\"name\\\": \\\"Code in JavaScript\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"httpRequestMethod\\\": \\\"POST\\\",\\n            \\\"graphApiVersion\\\": \\\"v23.0\\\",\\n            \\\"node\\\": \\\"me\\\",\\n            \\\"edge\\\": \\\"video_reels\\\",\\n            \\\"options\\\": {\\n              \\\"queryParameters\\\": {\\n                \\\"parameter\\\": [\\n                  {\\n                    \\\"name\\\": \\\"upload_phase\\\",\\n                    \\\"value\\\": \\\"start\\\"\\n                  }\\n                ]\\n              }\\n            }\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.facebookGraphApi\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            352,\\n            280\\n          ],\\n          \\\"id\\\": \\\"4553c4b7-b1c0-47ec-a2e8-06f4ab4ce076\\\",\\n          \\\"name\\\": \\\"Upload session\\\",\\n          \\\"credentials\\\": {\\n            \\\"facebookGraphApi\\\": {\\n              \\\"id\\\": \\\"83A7rw2cSHq2OCfd\\\",\\n              \\\"name\\\": \\\"Facebook Graph account\\\"\\n            }\\n          }\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"method\\\": \\\"POST\\\",\\n            \\\"url\\\": \\\"={{ $json.upload_url }}\\\",\\n            \\\"authentication\\\": \\\"predefinedCredentialType\\\",\\n            \\\"nodeCredentialType\\\": \\\"facebookGraphApi\\\",\\n            \\\"sendHeaders\\\": true,\\n            \\\"headerParameters\\\": {\\n              \\\"parameters\\\": [\\n                {\\n                  \\\"name\\\": \\\"file_url\\\",\\n                  \\\"value\\\": \\\"={{ $('Code in JavaScript').item.json.mediaFiles[0].url }}\\\"\\n                }\\n              ]\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"typeVersion\\\": 4.3,\\n          \\\"position\\\": [\\n            576,\\n            280\\n          ],\\n          \\\"id\\\": \\\"f7638ee5-4a6f-4918-9bc7-33beca72169c\\\",\\n          \\\"name\\\": \\\"Rupload Video \\\",\\n          \\\"credentials\\\": {\\n            \\\"facebookGraphApi\\\": {\\n              \\\"id\\\": \\\"83A7rw2cSHq2OCfd\\\",\\n              \\\"name\\\": \\\"Facebook Graph account\\\"\\n            }\\n          }\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"method\\\": \\\"PUT\\\",\\n            \\\"url\\\": \\\"https://shop.thetaphoa.store/api/facebook-posts\\\",\\n            \\\"sendBody\\\": true,\\n            \\\"bodyParameters\\\": {\\n              \\\"parameters\\\": [\\n                {\\n                  \\\"name\\\": \\\"id\\\",\\n                  \\\"value\\\": \\\"={{ $('Code in JavaScript').item.json._id }}\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"status\\\",\\n                  \\\"value\\\": \\\"published\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"postUrl\\\",\\n                  \\\"value\\\": \\\"=facebook.com/{{ $json.id }}\\\"\\n                }\\n              ]\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"typeVersion\\\": 4.3,\\n          \\\"position\\\": [\\n            576,\\n            -80\\n          ],\\n          \\\"id\\\": \\\"bf4015fe-c619-4e2c-8454-36fb5cbd57c4\\\",\\n          \\\"name\\\": \\\"Cáº­p nháº­t vÃ´ database\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"method\\\": \\\"PUT\\\",\\n            \\\"url\\\": \\\"https://shop.thetaphoa.store/api/facebook-posts\\\",\\n            \\\"sendBody\\\": true,\\n            \\\"bodyParameters\\\": {\\n              \\\"parameters\\\": [\\n                {\\n                  \\\"name\\\": \\\"id\\\",\\n                  \\\"value\\\": \\\"={{ $('Code in JavaScript').item.json._id }}\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"status\\\",\\n                  \\\"value\\\": \\\"published\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"postUrl\\\",\\n                  \\\"value\\\": \\\"=facebook.com/{{ $json.id }}\\\"\\n                }\\n              ]\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"typeVersion\\\": 4.3,\\n          \\\"position\\\": [\\n            1696,\\n            424\\n          ],\\n          \\\"id\\\": \\\"cef357a0-4d77-4739-9ca3-4bf7d9b2c862\\\",\\n          \\\"name\\\": \\\"Cáº­p nháº­t vÃ´ database reel\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"httpRequestMethod\\\": \\\"POST\\\",\\n            \\\"graphApiVersion\\\": \\\"v23.0\\\",\\n            \\\"node\\\": \\\"me\\\",\\n            \\\"edge\\\": \\\"video_reels\\\",\\n            \\\"options\\\": {\\n              \\\"queryParameters\\\": {\\n                \\\"parameter\\\": [\\n                  {\\n                    \\\"name\\\": \\\"video_id\\\",\\n                    \\\"value\\\": \\\"={{ $('Upload session').item.json.video_id }}\\\"\\n                  },\\n                  {\\n                    \\\"name\\\": \\\"upload_phase\\\",\\n                    \\\"value\\\": \\\"finish\\\"\\n                  },\\n                  {\\n                    \\\"name\\\": \\\"video_state\\\",\\n                    \\\"value\\\": \\\"PUBLISHED\\\"\\n                  },\\n                  {\\n                    \\\"name\\\": \\\"description\\\",\\n                    \\\"value\\\": \\\"={{ $('Code in JavaScript').item.json.content }}\\\"\\n                  }\\n                ]\\n              }\\n            }\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.facebookGraphApi\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            800,\\n            280\\n          ],\\n          \\\"id\\\": \\\"9cee3fe8-56d8-443b-a8ad-b742a98dd00b\\\",\\n          \\\"name\\\": \\\"Publish reel\\\",\\n          \\\"credentials\\\": {\\n            \\\"facebookGraphApi\\\": {\\n              \\\"id\\\": \\\"83A7rw2cSHq2OCfd\\\",\\n              \\\"name\\\": \\\"Facebook Graph account\\\"\\n            }\\n          }\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"amount\\\": 10\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.wait\\\",\\n          \\\"typeVersion\\\": 1.1,\\n          \\\"position\\\": [\\n            1024,\\n            424\\n          ],\\n          \\\"id\\\": \\\"f64c7897-7e16-44f5-8099-ae1f2c5ecf28\\\",\\n          \\\"name\\\": \\\"Äá»£i status thÃ nh cÃ´ng\\\",\\n          \\\"webhookId\\\": \\\"123f88d6-5c69-4b7f-89eb-a0b810f92c2e\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"graphApiVersion\\\": \\\"v23.0\\\",\\n            \\\"node\\\": \\\"={{ $('Merge').item.json.video_id }}\\\",\\n            \\\"edge\\\": \\\"=\\\",\\n            \\\"options\\\": {\\n              \\\"queryParameters\\\": {\\n                \\\"parameter\\\": [\\n                  {\\n                    \\\"name\\\": \\\"fields\\\",\\n                    \\\"value\\\": \\\"status\\\"\\n                  }\\n                ]\\n              }\\n            }\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.facebookGraphApi\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            1248,\\n            352\\n          ],\\n          \\\"id\\\": \\\"201f52ee-082d-4fb7-93fe-973c3f846c4a\\\",\\n          \\\"name\\\": \\\"Láº¥y status\\\",\\n          \\\"credentials\\\": {\\n            \\\"facebookGraphApi\\\": {\\n              \\\"id\\\": \\\"83A7rw2cSHq2OCfd\\\",\\n              \\\"name\\\": \\\"Facebook Graph account\\\"\\n            }\\n          }\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"httpRequestMethod\\\": \\\"POST\\\",\\n            \\\"graphApiVersion\\\": \\\"v23.0\\\",\\n            \\\"node\\\": \\\"106470202191109\\\",\\n            \\\"edge\\\": \\\"photos\\\",\\n            \\\"options\\\": {\\n              \\\"queryParameters\\\": {\\n                \\\"parameter\\\": [\\n                  {\\n                    \\\"name\\\": \\\"published\\\",\\n                    \\\"value\\\": \\\"false\\\"\\n                  },\\n                  {\\n                    \\\"name\\\": \\\"url\\\",\\n                    \\\"value\\\": \\\"={{ $json.url }}\\\"\\n                  }\\n                ]\\n              }\\n            }\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.facebookGraphApi\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            -96,\\n            112\\n          ],\\n          \\\"id\\\": \\\"73d73895-2f9a-42ee-928d-f5637f2124a3\\\",\\n          \\\"name\\\": \\\"Upload hÃ¬nh\\\",\\n          \\\"credentials\\\": {\\n            \\\"facebookGraphApi\\\": {\\n              \\\"id\\\": \\\"83A7rw2cSHq2OCfd\\\",\\n              \\\"name\\\": \\\"Facebook Graph account\\\"\\n            }\\n          }\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"conditions\\\": {\\n              \\\"options\\\": {\\n                \\\"caseSensitive\\\": true,\\n                \\\"leftValue\\\": \\\"\\\",\\n                \\\"typeValidation\\\": \\\"strict\\\",\\n                \\\"version\\\": 3\\n              },\\n              \\\"conditions\\\": [\\n                {\\n                  \\\"id\\\": \\\"f1eac148-d478-4db9-b7ec-5f35d2cb9196\\\",\\n                  \\\"leftValue\\\": \\\"={{ $json.status.publishing_phase.publish_status }}\\\",\\n                  \\\"rightValue\\\": \\\"published\\\",\\n                  \\\"operator\\\": {\\n                    \\\"type\\\": \\\"string\\\",\\n                    \\\"operation\\\": \\\"equals\\\"\\n                  }\\n                }\\n              ],\\n              \\\"combinator\\\": \\\"and\\\"\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.if\\\",\\n          \\\"typeVersion\\\": 2.3,\\n          \\\"position\\\": [\\n            1472,\\n            424\\n          ],\\n          \\\"id\\\": \\\"c61a5379-ff95-44cf-9ebf-1ecc7c1d17bf\\\",\\n          \\\"name\\\": \\\"Check náº¿u chÆ°a up thÃ¬ Ä‘á»£i láº¥y status láº¡i\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"rules\\\": {\\n              \\\"values\\\": [\\n                {\\n                  \\\"conditions\\\": {\\n                    \\\"options\\\": {\\n                      \\\"caseSensitive\\\": true,\\n                      \\\"leftValue\\\": \\\"\\\",\\n                      \\\"typeValidation\\\": \\\"strict\\\",\\n                      \\\"version\\\": 3\\n                    },\\n                    \\\"conditions\\\": [\\n                      {\\n                        \\\"leftValue\\\": \\\"={{ $json.postType }}\\\",\\n                        \\\"rightValue\\\": \\\"post\\\",\\n                        \\\"operator\\\": {\\n                          \\\"type\\\": \\\"string\\\",\\n                          \\\"operation\\\": \\\"equals\\\"\\n                        },\\n                        \\\"id\\\": \\\"158fe265-faf0-4df3-88e0-ca86f28191b4\\\"\\n                      }\\n                    ],\\n                    \\\"combinator\\\": \\\"and\\\"\\n                  }\\n                },\\n                {\\n                  \\\"conditions\\\": {\\n                    \\\"options\\\": {\\n                      \\\"caseSensitive\\\": true,\\n                      \\\"leftValue\\\": \\\"\\\",\\n                      \\\"typeValidation\\\": \\\"strict\\\",\\n                      \\\"version\\\": 3\\n                    },\\n                    \\\"conditions\\\": [\\n                      {\\n                        \\\"id\\\": \\\"cd320540-12ed-42f9-be8e-221896c563c1\\\",\\n                        \\\"leftValue\\\": \\\"={{ $json.postType }}\\\",\\n                        \\\"rightValue\\\": \\\"reel-video\\\",\\n                        \\\"operator\\\": {\\n                          \\\"type\\\": \\\"string\\\",\\n                          \\\"operation\\\": \\\"equals\\\"\\n                        }\\n                      }\\n                    ],\\n                    \\\"combinator\\\": \\\"and\\\"\\n                  }\\n                },\\n                {\\n                  \\\"conditions\\\": {\\n                    \\\"options\\\": {\\n                      \\\"caseSensitive\\\": true,\\n                      \\\"leftValue\\\": \\\"\\\",\\n                      \\\"typeValidation\\\": \\\"strict\\\",\\n                      \\\"version\\\": 3\\n                    },\\n                    \\\"conditions\\\": [\\n                      {\\n                        \\\"id\\\": \\\"c27546b5-3864-4261-b31b-6e4811df7be6\\\",\\n                        \\\"leftValue\\\": \\\"={{ $json.postType }}\\\",\\n                        \\\"rightValue\\\": \\\"reel-link\\\",\\n                        \\\"operator\\\": {\\n                          \\\"type\\\": \\\"string\\\",\\n                          \\\"operation\\\": \\\"equals\\\"\\n                        }\\n                      }\\n                    ],\\n                    \\\"combinator\\\": \\\"and\\\"\\n                  }\\n                }\\n              ]\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.switch\\\",\\n          \\\"typeVersion\\\": 3.4,\\n          \\\"position\\\": [\\n            -768,\\n            264\\n          ],\\n          \\\"id\\\": \\\"86980e17-a6d0-4274-976e-299ac6633716\\\",\\n          \\\"name\\\": \\\"Switch\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"url\\\": \\\"={{ $json.mediaFiles[0].url }}\\\",\\n            \\\"sendHeaders\\\": true,\\n            \\\"headerParameters\\\": {\\n              \\\"parameters\\\": [\\n                {\\n                  \\\"name\\\": \\\"User-Agent\\\",\\n                  \\\"value\\\": \\\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) Chrome/91.0.4472.124\\\"\\n                }\\n              ]\\n            },\\n            \\\"options\\\": {\\n              \\\"response\\\": {\\n                \\\"response\\\": {\\n                  \\\"fullResponse\\\": true,\\n                  \\\"responseFormat\\\": \\\"text\\\"\\n                }\\n              }\\n            }\\n          },\\n          \\\"id\\\": \\\"50e6eb5b-ca3d-472f-9c18-5e29971ee31c\\\",\\n          \\\"name\\\": \\\"Get TikTok Video Page Data\\\",\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"position\\\": [\\n            -544,\\n            600\\n          ],\\n          \\\"typeVersion\\\": 4.2\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"jsCode\\\": \\\"const html = $input.first().json.data;\\\\nconst headers = $input.first().json.headers || {};\\\\nconst cookies = headers['set-cookie'] || [];\\\\n\\\\nif (!html) {\\\\n  throw new Error(\\\\\\\"HTML body is undefined. Check the previous node's output.\\\\\\\");\\\\n}\\\\nconst regex = /<script id=\\\\\\\"__UNIVERSAL_DATA_FOR_REHYDRATION__\\\\\\\" type=\\\\\\\"application\\\\\\\\/json\\\\\\\">([\\\\\\\\s\\\\\\\\S]*?)<\\\\\\\\/script>/;\\\\nconst match = html.match(regex);\\\\n\\\\nif (match) {\\\\n  const jsonStr = match[1];\\\\n  const data = JSON.parse(jsonStr);\\\\n  const videoUrl = data?.__DEFAULT_SCOPE__?.[\\\\\\\"webapp.video-detail\\\\\\\"]?.itemInfo?.itemStruct?.video?.playAddr;\\\\n  if (!videoUrl) {\\\\n    throw new Error(\\\\\\\"Could not find video URL in the JSON data.\\\\\\\");\\\\n  }\\\\n  return [{ json: { videoUrl, cookies: cookies.join('; ') } }];\\\\n} else {\\\\n  throw new Error(\\\\\\\"Could not find __UNIVERSAL_DATA_FOR_REHYDRATION__ script in the HTML.\\\\\\\");\\\\n}\\\"\\n          },\\n          \\\"id\\\": \\\"83f4dfd7-16bb-4e97-a43c-475debe6e4bc\\\",\\n          \\\"name\\\": \\\"Scrape raw video URL\\\",\\n          \\\"type\\\": \\\"n8n-nodes-base.code\\\",\\n          \\\"position\\\": [\\n            -320,\\n            600\\n          ],\\n          \\\"typeVersion\\\": 2\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"url\\\": \\\"={{ $json.videoUrl }}\\\",\\n            \\\"sendHeaders\\\": true,\\n            \\\"headerParameters\\\": {\\n              \\\"parameters\\\": [\\n                {\\n                  \\\"name\\\": \\\"User-Agent\\\",\\n                  \\\"value\\\": \\\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"Referer\\\",\\n                  \\\"value\\\": \\\"https://www.tiktok.com/\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"Accept\\\",\\n                  \\\"value\\\": \\\"video/mp4,video/webm,video/*;q=0.9,application/octet-stream;q=0.8\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"Accept-Language\\\",\\n                  \\\"value\\\": \\\"en-US,en;q=0.5\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"Connection\\\",\\n                  \\\"value\\\": \\\"keep-alive\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"Cookie\\\",\\n                  \\\"value\\\": \\\"={{ $json.cookies }}\\\"\\n                }\\n              ]\\n            },\\n            \\\"options\\\": {\\n              \\\"allowUnauthorizedCerts\\\": true,\\n              \\\"response\\\": {\\n                \\\"response\\\": {\\n                  \\\"responseFormat\\\": \\\"file\\\"\\n                }\\n              }\\n            }\\n          },\\n          \\\"id\\\": \\\"332e5d0c-0108-49db-b6be-0392a3ea1ea7\\\",\\n          \\\"name\\\": \\\"Output video file without watermark\\\",\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"position\\\": [\\n            -96,\\n            600\\n          ],\\n          \\\"typeVersion\\\": 4.2\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"httpRequestMethod\\\": \\\"POST\\\",\\n            \\\"graphApiVersion\\\": \\\"v23.0\\\",\\n            \\\"node\\\": \\\"me\\\",\\n            \\\"edge\\\": \\\"video_reels\\\",\\n            \\\"options\\\": {\\n              \\\"queryParameters\\\": {\\n                \\\"parameter\\\": [\\n                  {\\n                    \\\"name\\\": \\\"upload_phase\\\",\\n                    \\\"value\\\": \\\"start\\\"\\n                  }\\n                ]\\n              }\\n            }\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.facebookGraphApi\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            128,\\n            424\\n          ],\\n          \\\"id\\\": \\\"2fcc9448-00c8-4181-adf5-fb4164276c77\\\",\\n          \\\"name\\\": \\\"Upload session1\\\",\\n          \\\"credentials\\\": {\\n            \\\"facebookGraphApi\\\": {\\n              \\\"id\\\": \\\"83A7rw2cSHq2OCfd\\\",\\n              \\\"name\\\": \\\"Facebook Graph account\\\"\\n            }\\n          }\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"method\\\": \\\"POST\\\",\\n            \\\"url\\\": \\\"={{ $json.upload_url }}\\\",\\n            \\\"authentication\\\": \\\"predefinedCredentialType\\\",\\n            \\\"nodeCredentialType\\\": \\\"facebookGraphApi\\\",\\n            \\\"sendHeaders\\\": true,\\n            \\\"headerParameters\\\": {\\n              \\\"parameters\\\": [\\n                {\\n                  \\\"name\\\": \\\"offset\\\",\\n                  \\\"value\\\": \\\"0\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"file_size\\\",\\n                  \\\"value\\\": \\\"={{ $json.bufferSize }}\\\"\\n                }\\n              ]\\n            },\\n            \\\"sendBody\\\": true,\\n            \\\"contentType\\\": \\\"=binaryData\\\",\\n            \\\"bodyParameters\\\": {\\n              \\\"parameters\\\": [\\n                {}\\n              ]\\n            },\\n            \\\"inputDataFieldName\\\": \\\"data\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"typeVersion\\\": 4.3,\\n          \\\"position\\\": [\\n            576,\\n            568\\n          ],\\n          \\\"id\\\": \\\"0ccf43b2-0bc9-40d0-a3b7-b972cb88c959\\\",\\n          \\\"name\\\": \\\"HTTP Request\\\",\\n          \\\"credentials\\\": {\\n            \\\"facebookGraphApi\\\": {\\n              \\\"id\\\": \\\"83A7rw2cSHq2OCfd\\\",\\n              \\\"name\\\": \\\"Facebook Graph account\\\"\\n            }\\n          }\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"mode\\\": \\\"combine\\\",\\n            \\\"combineBy\\\": \\\"combineByPosition\\\",\\n            \\\"numberInputs\\\": 3,\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.merge\\\",\\n          \\\"typeVersion\\\": 3.2,\\n          \\\"position\\\": [\\n            352,\\n            552\\n          ],\\n          \\\"id\\\": \\\"7b0f4d9a-28de-4435-b95b-e74112c93941\\\",\\n          \\\"name\\\": \\\"Merge\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"httpRequestMethod\\\": \\\"POST\\\",\\n            \\\"graphApiVersion\\\": \\\"v23.0\\\",\\n            \\\"node\\\": \\\"me\\\",\\n            \\\"edge\\\": \\\"video_reels\\\",\\n            \\\"options\\\": {\\n              \\\"queryParameters\\\": {\\n                \\\"parameter\\\": [\\n                  {\\n                    \\\"name\\\": \\\"video_id\\\",\\n                    \\\"value\\\": \\\"={{ $('Merge').item.json.video_id }}\\\"\\n                  },\\n                  {\\n                    \\\"name\\\": \\\"upload_phase\\\",\\n                    \\\"value\\\": \\\"finish\\\"\\n                  },\\n                  {\\n                    \\\"name\\\": \\\"video_state\\\",\\n                    \\\"value\\\": \\\"PUBLISHED\\\"\\n                  },\\n                  {\\n                    \\\"name\\\": \\\"description\\\",\\n                    \\\"value\\\": \\\"={{ $('Code in JavaScript').item.json.content }}\\\"\\n                  }\\n                ]\\n              }\\n            }\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.facebookGraphApi\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            800,\\n            568\\n          ],\\n          \\\"id\\\": \\\"4e0a59c3-b322-4bc0-a22f-b6a961b01645\\\",\\n          \\\"name\\\": \\\"Publish reel1\\\",\\n          \\\"credentials\\\": {\\n            \\\"facebookGraphApi\\\": {\\n              \\\"id\\\": \\\"83A7rw2cSHq2OCfd\\\",\\n              \\\"name\\\": \\\"Facebook Graph account\\\"\\n            }\\n          }\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"jsCode\\\": \\\"const buffer = await this.helpers.getBinaryDataBuffer(0, 'data');\\\\n\\\\nreturn {\\\\n  bufferSize: buffer.length\\\\n};\\\"\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.code\\\",\\n          \\\"typeVersion\\\": 2,\\n          \\\"position\\\": [\\n            128,\\n            712\\n          ],\\n          \\\"id\\\": \\\"cfd72900-0b7b-4025-9bfe-773e20cf580b\\\",\\n          \\\"name\\\": \\\"Code in JavaScript1\\\"\\n        }\\n      ],\\n      \\\"connections\\\": {\\n        \\\"Láº¥y data bÃ i \\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Code in JavaScript\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"chia ra thÃ nh nhiá»u hÃ¬nh\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Loop Qua List2\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Loop Qua List2\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Sá»­a data cho giá»‘ng facebook rule (media_fbid)\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ],\\n            [\\n              {\\n                \\\"node\\\": \\\"Upload hÃ¬nh\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Sá»­a data cho giá»‘ng facebook rule (media_fbid)\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Gom hÃ¬nh láº¡i thÃ nh 1 field\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Post\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Cáº­p nháº­t vÃ´ database\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Gom hÃ¬nh láº¡i thÃ nh 1 field\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Post\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Schedule Trigger1\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Láº¥y data bÃ i \\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"When clicking â€˜Execute workflowâ€™\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Láº¥y data bÃ i \\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Code in JavaScript\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Switch\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Upload session\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Rupload Video \\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Rupload Video \\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Publish reel\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Publish reel\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Äá»£i status thÃ nh cÃ´ng\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Äá»£i status thÃ nh cÃ´ng\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Láº¥y status\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Láº¥y status\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Check náº¿u chÆ°a up thÃ¬ Ä‘á»£i láº¥y status láº¡i\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Upload hÃ¬nh\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Loop Qua List2\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Check náº¿u chÆ°a up thÃ¬ Ä‘á»£i láº¥y status láº¡i\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Cáº­p nháº­t vÃ´ database reel\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ],\\n            [\\n              {\\n                \\\"node\\\": \\\"Äá»£i status thÃ nh cÃ´ng\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Switch\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"chia ra thÃ nh nhiá»u hÃ¬nh\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ],\\n            [\\n              {\\n                \\\"node\\\": \\\"Upload session\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ],\\n            [\\n              {\\n                \\\"node\\\": \\\"Get TikTok Video Page Data\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Get TikTok Video Page Data\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Scrape raw video URL\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Scrape raw video URL\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Output video file without watermark\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Output video file without watermark\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Upload session1\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              },\\n              {\\n                \\\"node\\\": \\\"Merge\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 1\\n              },\\n              {\\n                \\\"node\\\": \\\"Code in JavaScript1\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Upload session1\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Merge\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Merge\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"HTTP Request\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"HTTP Request\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Publish reel1\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Publish reel1\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Äá»£i status thÃ nh cÃ´ng\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Code in JavaScript1\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Merge\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 2\\n              }\\n            ]\\n          ]\\n        }\\n      },\\n      \\\"settings\\\": {\\n        \\\"executionOrder\\\": \\\"v1\\\",\\n        \\\"availableInMCP\\\": false,\\n        \\\"callerPolicy\\\": \\\"workflowsFromSameOwner\\\"\\n      },\\n      \\\"staticData\\\": null,\\n      \\\"meta\\\": null,\\n      \\\"pinData\\\": null,\\n      \\\"versionId\\\": \\\"06cc4b5b-e14d-44a7-82b5-9384a80db990\\\",\\n      \\\"activeVersionId\\\": null,\\n      \\\"triggerCount\\\": 0,\\n      \\\"shared\\\": [\\n        {\\n          \\\"updatedAt\\\": \\\"2026-02-12T13:29:16.678Z\\\",\\n          \\\"createdAt\\\": \\\"2026-02-12T13:29:16.678Z\\\",\\n          \\\"role\\\": \\\"workflow:owner\\\",\\n          \\\"workflowId\\\": \\\"PrCuWsQqDYclwJJB\\\",\\n          \\\"projectId\\\": \\\"Xq0VG5A9CPTUak2A\\\"\\n        }\\n      ],\\n      \\\"activeVersion\\\": null,\\n      \\\"tags\\\": []\\n    }\\n  ],\\n  \\\"nextCursor\\\": null\\n}\"}]},\"jsonrpc\":\"2.0\",\"id\":2}"}],"details":{"status":"completed","exitCode":0,"durationMs":1872,"aggregated":"b-a8f8-9e4f5fea66fc\\\",\\n          \\\"name\\\": \\\"Sticky Note1\\\"\\n        }\\n      ],\\n      \\\"connections\\\": {\\n        \\\"Output video file without watermark\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"upload\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              },\\n              {\\n                \\\"node\\\": \\\"Google Drive\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"upload\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Wait\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"generative\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Basic LLM Chain\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Wait\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"generative\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"flash 2.0 tiktok\\\": {\\n          \\\"ai_languageModel\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Creator Tiktok\\\",\\n                \\\"type\\\": \\\"ai_languageModel\\\",\\n                \\\"index\\\": 0\\n              },\\n              {\\n                \\\"node\\\": \\\"Basic LLM Chain\\\",\\n                \\\"type\\\": \\\"ai_languageModel\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Creator Tiktok\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"update_content_tiktok\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Basic LLM Chain\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Creator Tiktok\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"News Output\\\": {\\n          \\\"ai_outputParser\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Creator Tiktok\\\",\\n                \\\"type\\\": \\\"ai_outputParser\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Analyze Key\\\": {\\n          \\\"ai_outputParser\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Basic LLM Chain\\\",\\n                \\\"type\\\": \\\"ai_outputParser\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Google Drive\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Edit Fields\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Edit Fields\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Google Sheets\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Video Page Data\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Raw Video URL\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Raw Video URL\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Output video file without watermark\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"On form submission\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Video Page Data\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Google Sheets\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"update_url\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        }\\n      },\\n      \\\"settings\\\": {\\n        \\\"executionOrder\\\": \\\"v1\\\",\\n        \\\"timezone\\\": \\\"Asia/Jakarta\\\",\\n        \\\"callerPolicy\\\": \\\"workflowsFromSameOwner\\\",\\n        \\\"availableInMCP\\\": false\\n      },\\n      \\\"staticData\\\": null,\\n      \\\"meta\\\": null,\\n      \\\"pinData\\\": null,\\n      \\\"versionId\\\": \\\"6cb0eb25-b30c-49ab-a7fe-77e9987f1c63\\\",\\n      \\\"activeVersionId\\\": null,\\n      \\\"triggerCount\\\": 0,\\n      \\\"shared\\\": [\\n        {\\n          \\\"updatedAt\\\": \\\"2026-02-12T13:29:56.562Z\\\",\\n          \\\"createdAt\\\": \\\"2026-02-12T13:29:56.562Z\\\",\\n          \\\"role\\\": \\\"workflow:owner\\\",\\n          \\\"workflowId\\\": \\\"DxIOcki7Bhcpa8ew\\\",\\n          \\\"projectId\\\": \\\"Xq0VG5A9CPTUak2A\\\"\\n        }\\n      ],\\n      \\\"activeVersion\\\": null,\\n      \\\"tags\\\": []\\n    },\\n    {\\n      \\\"updatedAt\\\": \\\"2026-02-12T13:29:56.198Z\\\",\\n      \\\"createdAt\\\": \\\"2026-02-12T13:29:56.198Z\\\",\\n      \\\"id\\\": \\\"gbE7rxizaqsUByIm\\\",\\n      \\\"name\\\": \\\"Tiktok menamine2 - sáº¡c rtt\\\",\\n      \\\"active\\\": false,\\n      \\\"isArchived\\\": false,\\n      \\\"nodes\\\": [\\n        {\\n          \\\"parameters\\\": {},\\n          \\\"type\\\": \\\"n8n-nodes-base.manualTrigger\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            -2400,\\n            464\\n          ],\\n          \\\"id\\\": \\\"d1c13423-8913-4fc8-9543-44059a75975d\\\",\\n          \\\"name\\\": \\\"When clicking â€˜Execute workflowâ€™\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"url\\\": \\\"https://shop.thetaphoa.store/api/veo3-tokens\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"typeVersion\\\": 4.3,\\n          \\\"position\\\": [\\n            -2176,\\n            464\\n          ],\\n          \\\"id\\\": \\\"d2f9f5d1-4bbf-4332-854f-69548ee869dc\\\",\\n          \\\"name\\\": \\\"get token veo3\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"conditions\\\": {\\n              \\\"options\\\": {\\n                \\\"caseSensitive\\\": true,\\n                \\\"leftValue\\\": \\\"\\\",\\n                \\\"typeValidation\\\": \\\"strict\\\",\\n                \\\"version\\\": 3\\n              },\\n              \\\"conditions\\\": [\\n                {\\n                  \\\"id\\\": \\\"19257071-5bd9-41c9-a242-ddccd226554c\\\",\\n                  \\\"leftValue\\\": \\\"={{ $json.success }}\\\",\\n                  \\\"rightValue\\\": true,\\n                  \\\"operator\\\": {\\n                    \\\"type\\\": \\\"boolean\\\",\\n                    \\\"operation\\\": \\\"equals\\\"\\n                  }\\n                }\\n              ],\\n              \\\"combinator\\\": \\\"and\\\"\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.if\\\",\\n          \\\"typeVersion\\\": 2.3,\\n          \\\"position\\\": [\\n            -32,\\n            16\\n          ],\\n          \\\"id\\\": \\\"2fd0b4ca-0e61-47a9-837b-dda12d64ef3b\\\",\\n          \\\"name\\\": \\\"check status\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"conditions\\\": {\\n              \\\"options\\\": {\\n                \\\"caseSensitive\\\": true,\\n                \\\"leftValue\\\": \\\"\\\",\\n                \\\"typeValidation\\\": \\\"strict\\\",\\n                \\\"version\\\": 3\\n              },\\n              \\\"conditions\\\": [\\n                {\\n                  \\\"id\\\": \\\"725206b9-7c31-4630-bbf9-bff5d17ce395\\\",\\n                  \\\"leftValue\\\": \\\"={{ $json.result.operations[0].operation.name }}\\\",\\n                  \\\"rightValue\\\": \\\"\\\",\\n                  \\\"operator\\\": {\\n                    \\\"type\\\": \\\"string\\\",\\n                    \\\"operation\\\": \\\"exists\\\",\\n                    \\\"singleValue\\\": true\\n                  }\\n                }\\n              ],\\n              \\\"combinator\\\": \\\"and\\\"\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.if\\\",\\n          \\\"typeVersion\\\": 2.3,\\n          \\\"position\\\": [\\n            192,\\n            -48\\n          ],\\n          \\\"id\\\": \\\"8da1379e-76f8-407f-a443-cd8ecae233b1\\\",\\n          \\\"name\\\": \\\"kiá»ƒm tra tÃªn\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"conditions\\\": {\\n              \\\"options\\\": {\\n                \\\"caseSensitive\\\": true,\\n                \\\"leftValue\\\": \\\"\\\",\\n                \\\"typeValidation\\\": \\\"strict\\\",\\n                \\\"version\\\": 3\\n              },\\n              \\\"conditions\\\": [\\n                {\\n                  \\\"id\\\": \\\"bb52ec6b-2c36-4ad0-88d7-89b2f77ffbc4\\\",\\n                  \\\"leftValue\\\": \\\"={{ $json.operations[0].operation.metadata.video.fifeUrl }}\\\",\\n                  \\\"rightValue\\\": \\\"\\\",\\n                  \\\"operator\\\": {\\n                    \\\"type\\\": \\\"string\\\",\\n                    \\\"operation\\\": \\\"exists\\\",\\n                    \\\"singleValue\\\": true\\n                  }\\n                }\\n              ],\\n              \\\"combinator\\\": \\\"and\\\"\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.if\\\",\\n          \\\"typeVersion\\\": 2.3,\\n          \\\"position\\\": [\\n            640,\\n            -112\\n          ],\\n          \\\"id\\\": \\\"4c527bad-ce8b-49e2-97ea-45a5f6fec348\\\",\\n          \\\"name\\\": \\\"kiá»ƒm tra xem cÃ³ file url\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {},\\n          \\\"type\\\": \\\"n8n-nodes-base.wait\\\",\\n          \\\"typeVersion\\\": 1.1,\\n          \\\"position\\\": [\\n            192,\\n            176\\n          ],\\n          \\\"id\\\": \\\"3855ba98-869c-40b1-943d-4505446c8930\\\",\\n          \\\"name\\\": \\\"Wait2\\\",\\n          \\\"webhookId\\\": \\\"b96fc9c1-6669-43c1-84f8-af114f67297d\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {},\\n          \\\"type\\\": \\\"n8n-nodes-base.wait\\\",\\n          \\\"typeVersion\\\": 1.1,\\n          \\\"position\\\": [\\n            864,\\n            -48\\n          ],\\n          \\\"id\\\": \\\"16fa047d-a28f-472d-a401-5c3776d5dbcd\\\",\\n          \\\"name\\\": \\\"Wait3\\\",\\n          \\\"webhookId\\\": \\\"82f89e17-3c0d-4d0e-8fae-1b65c25f29dc\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.splitInBatches\\\",\\n          \\\"typeVersion\\\": 3,\\n          \\\"position\\\": [\\n            -704,\\n            256\\n          ],\\n          \\\"id\\\": \\\"5c8920ca-4910-4359-91f2-f3fd85842755\\\",\\n          \\\"name\\\": \\\"Loop Over Items\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"operation\\\": \\\"write\\\",\\n            \\\"fileName\\\": \\\"=/files/temp_video_{{ $itemIndex }}.mp4\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.readWriteFile\\\",\\n          \\\"typeVersion\\\": 1.1,\\n          \\\"position\\\": [\\n            -480,\\n            400\\n          ],\\n          \\\"id\\\": \\\"503b2062-d8a6-480c-9682-e710fc7a9af2\\\",\\n          \\\"name\\\": \\\"ghi máº¥y video vÃ´ folder táº¡m\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"command\\\": \\\"ls -v /files/temp_video_*.mp4 | sed \\\\\\\"s|^|file '|;s|$|'|\\\\\\\" > /files/concat_list.txt && ffmpeg -y -f concat -safe 0 -i /files/concat_list.txt -c copy /files/merged_output.mp4\\\"\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.executeCommand\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            -256,\\n            400\\n          ],\\n          \\\"id\\\": \\\"3b11f146-372a-42ef-968e-6e18a25eb701\\\",\\n          \\\"name\\\": \\\"merge video\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"fileSelector\\\": \\\"/files/final_output.mp4\\\",\\n            \\\"options\\\": {\\n              \\\"dataPropertyName\\\": \\\"data\\\"\\n            }\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.readWriteFile\\\",\\n          \\\"typeVersion\\\": 1.1,\\n          \\\"position\\\": [\\n            848,\\n            416\\n          ],\\n          \\\"id\\\": \\\"ef475f9f-8196-4608-a290-bc062b927c72\\\",\\n          \\\"name\\\": \\\"láº¥y video ra\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"command\\\": \\\"rm -f /files/*\\\"\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.executeCommand\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            1312,\\n            496\\n          ],\\n          \\\"id\\\": \\\"264ab393-bd8a-4552-bfc3-05fb8cc2ec08\\\",\\n          \\\"name\\\": \\\"XÃ³a video sau Ä‘Äƒng\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"rule\\\": {\\n              \\\"interval\\\": [\\n                {\\n                  \\\"field\\\": \\\"minutes\\\",\\n                  \\\"minutesInterval\\\": 30\\n                }\\n              ]\\n            }\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.scheduleTrigger\\\",\\n          \\\"typeVersion\\\": 1.3,\\n          \\\"position\\\": [\\n            -2848,\\n            272\\n          ],\\n          \\\"id\\\": \\\"8ccb96b7-0f88-40ec-9392-992bf8302b34\\\",\\n          \\\"name\\\": \\\"Schedule Trigger\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"method\\\": \\\"POST\\\",\\n            \\\"url\\\": \\\"https://flow-api.nanoai.pics/api/fix/create-flow\\\",\\n            \\\"sendHeaders\\\": true,\\n            \\\"headerParameters\\\": {\\n              \\\"parameters\\\": [\\n                {\\n                  \\\"name\\\": \\\"Authorization\\\",\\n                  \\\"value\\\": \\\"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6Mjc2LCJyb2xlIjozLCJpYXQiOjE3NzAzNjYxMjd9.L87YcCDxDdEUdPmlnD8-38zIwNQKg_TijRsT3VHbk2s\\\"\\n                }\\n              ]\\n            },\\n            \\\"sendBody\\\": true,\\n            \\\"specifyBody\\\": \\\"json\\\",\\n            \\\"jsonBody\\\": \\\"={\\\\n  \\\\\\\"flow_url\\\\\\\": \\\\\\\" https://aisandbox-pa.googleapis.com/v1/video:batchAsyncGenerateVideoReferenceImages\\\\\\\",\\\\n  \\\\\\\"flow_auth_token\\\\\\\": \\\\\\\"{{ $('get token veo3').item.json.data[0].value }}\\\\\\\",\\\\n  \\\\\\\"body_json\\\\\\\": {\\\\n    \\\\\\\"clientContext\\\\\\\": {\\\\n      \\\\\\\"recaptchaContext\\\\\\\": {\\\\n        \\\\\\\"token\\\\\\\": \\\\\\\"\\\\\\\",\\\\n        \\\\\\\"applicationType\\\\\\\": \\\\\\\"RECAPTCHA_APPLICATION_TYPE_WEB\\\\\\\"\\\\n      },\\\\n      \\\\\\\"sessionId\\\\\\\": \\\\\\\";1770366835217\\\\\\\",\\\\n      \\\\\\\"projectId\\\\\\\": \\\\\\\"3abca4cb-792d-4df0-8ada-4cabdcded627\\\\\\\",\\\\n      \\\\\\\"tool\\\\\\\": \\\\\\\"PINHOLE\\\\\\\",\\\\n      \\\\\\\"userPaygateTier\\\\\\\": \\\\\\\"PAYGATE_TIER_TWO\\\\\\\"\\\\n    },\\\\n    \\\\\\\"requests\\\\\\\": [\\\\n      {\\\\n        \\\\\\\"aspectRatio\\\\\\\": \\\\\\\"VIDEO_ASPECT_RATIO_PORTRAIT\\\\\\\",\\\\n        \\\\\\\"metadata\\\\\\\": {\\\\n          \\\\\\\"sceneId\\\\\\\": \\\\\\\"0eec6e8e-838f-48bd-aeb4-ca1282633c2d\\\\\\\"\\\\n        },\\\\n        \\\\\\\"referenceImages\\\\\\\": [\\\\n          {\\\\n            \\\\\\\"imageUsageType\\\\\\\": \\\\\\\"IMAGE_USAGE_TYPE_ASSET\\\\\\\",\\\\n            \\\\\\\"mediaId\\\\\\\": \\\\\\\"{{ $json.mediaId }}\\\\\\\"\\\\n          }\\\\n        ],\\\\n        \\\\\\\"seed\\\\\\\": 25473,\\\\n        \\\\\\\"textInput\\\\\\\": {\\\\n          \\\\\\\"prompt\\\\\\\": \\\\\\\"{{ $json.output }}\\\\\\\"\\\\n        },\\\\n        \\\\\\\"videoModelKey\\\\\\\": \\\\\\\"veo_3_1_r2v_fast_portrait_ultra\\\\\\\"\\\\n      }\\\\n    ]\\\\n  },\\\\n  \\\\\\\"is_proxy\\\\\\\": false\\\\n}\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"typeVersion\\\": 4.3,\\n          \\\"position\\\": [\\n            -480,\\n            64\\n          ],\\n          \\\"id\\\": \\\"96e42ab5-7858-405b-9b2d-f1f2fd48ed0c\\\",\\n          \\\"name\\\": \\\"Táº¡o video tá»« hÃ¬nh post\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"url\\\": \\\"https://flow-api.nanoai.pics/api/fix/task-status\\\",\\n            \\\"sendQuery\\\": true,\\n            \\\"queryParameters\\\": {\\n              \\\"parameters\\\": [\\n                {\\n                  \\\"name\\\": \\\"taskId\\\",\\n                  \\\"value\\\": \\\"={{ $(\\\\\\\"Táº¡o video tá»« hÃ¬nh post\\\\\\\").item.json.taskId }}\\\"\\n                }\\n              ]\\n            },\\n            \\\"sendHeaders\\\": true,\\n            \\\"headerParameters\\\": {\\n              \\\"parameters\\\": [\\n                {\\n                  \\\"name\\\": \\\"Authorization\\\",\\n                  \\\"value\\\": \\\"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6Mjc2LCJyb2xlIjozLCJpYXQiOjE3NzAzNjMyNzF9.qOQ3Hbl0OazkjH2tOmSgOjkTXZGuaD9z4Bo9TRVXL0s\\\"\\n                }\\n              ]\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"typeVersion\\\": 4.3,\\n          \\\"position\\\": [\\n            -256,\\n            64\\n          ],\\n          \\\"id\\\": \\\"4a34c41c-6a64-408e-ac8d-e39619aebdd2\\\",\\n          \\\"name\\\": \\\"Check status\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"method\\\": \\\"POST\\\",\\n            \\\"url\\\": \\\"https://aisandbox-pa.googleapis.com/v1/video:batchCheckAsyncVideoGenerationStatus\\\",\\n            \\\"sendHeaders\\\": true,\\n            \\\"headerParameters\\\": {\\n              \\\"parameters\\\": [\\n                {\\n                  \\\"name\\\": \\\"accept\\\",\\n                  \\\"value\\\": \\\"*/*\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"accept-language\\\",\\n                  \\\"value\\\": \\\"en-AU,en-GB;q=0.9,en-US;q=0.8,en;q=0.7,vi;q=0.6\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"authorization\\\",\\n                  \\\"value\\\": \\\"=Bearer {{ $('get token veo3').item.json.data[0].value }}\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"origin\\\",\\n                  \\\"value\\\": \\\"https://labs.google\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"priority\\\",\\n                  \\\"value\\\": \\\"u=1, i\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"referer\\\",\\n                  \\\"value\\\": \\\"https://labs.google/\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"sec-ch-ua\\\",\\n                  \\\"value\\\": \\\"\\\\\\\"Not(A:Brand\\\\\\\";v=\\\\\\\"8\\\\\\\", \\\\\\\"Chromium\\\\\\\";v=\\\\\\\"144\\\\\\\", \\\\\\\"Google Chrome\\\\\\\";v=\\\\\\\"144\\\\\\\"\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"sec-ch-ua-mobile\\\",\\n                  \\\"value\\\": \\\"?0\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"sec-ch-ua-platform\\\",\\n                  \\\"value\\\": \\\"\\\\\\\"Windows\\\\\\\"\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"sec-fetch-dest\\\",\\n                  \\\"value\\\": \\\"empty\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"sec-fetch-mode\\\",\\n                  \\\"value\\\": \\\"cors\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"sec-fetch-site\\\",\\n                  \\\"value\\\": \\\"cross-site\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"user-agent\\\",\\n                  \\\"value\\\": \\\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"x-browser-channel\\\",\\n                  \\\"value\\\": \\\"stable\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"x-browser-copyright\\\",\\n                  \\\"value\\\": \\\"Copyright 2026 Google LLC. All Rights reserved.\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"x-browser-validation\\\",\\n                  \\\"value\\\": \\\"AKIAtsVHZoiKbPixy+qSK1BgKWo=\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"x-browser-year\\\",\\n                  \\\"value\\\": \\\"2026\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"x-client-data\\\",\\n                  \\\"value\\\": \\\"CK21yQEIjbbJAQijtskBCKmdygEIuubKAQiWocsBCIWgzQE=\\\"\\n                }\\n              ]\\n            },\\n            \\\"sendBody\\\": true,\\n            \\\"specifyBody\\\": \\\"json\\\",\\n            \\\"jsonBody\\\": \\\"={\\\\n  \\\\\\\"operations\\\\\\\": [\\\\n    {\\\\n      \\\\\\\"operation\\\\\\\": {\\\\n        \\\\\\\"name\\\\\\\": \\\\\\\"{{ $('Check status').item.json.result.operations[0].operation.name }}\\\\\\\"\\\\n      },\\\\n      \\\\\\\"status\\\\\\\": \\\\\\\"MEDIA_GENERATION_STATUS_ACTIVE\\\\\\\"\\\\n    }\\\\n  ]\\\\n}\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"typeVersion\\\": 4.3,\\n          \\\"position\\\": [\\n            416,\\n            -48\\n          ],\\n          \\\"id\\\": \\\"518d98f7-bef6-4ea7-885b-f021bfd70974\\\",\\n          \\\"name\\\": \\\"Láº¥y video url\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"url\\\": \\\"={{ $json.operations[0].operation.metadata.video.fifeUrl }}\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"typeVersion\\\": 4.3,\\n          \\\"position\\\": [\\n            944,\\n            208\\n          ],\\n          \\\"id\\\": \\\"d64e8d27-fd5d-47ae-aa72-3601b7fb5f43\\\",\\n          \\\"name\\\": \\\"Get video\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"postSettings\\\": {\\n              \\\"text\\\": \\\"={{ $('láº¥y data prompt').item.json.data[0].description }}\\\",\\n              \\\"visibilityType\\\": 0,\\n              \\\"allowComment\\\": 1,\\n              \\\"scheduleTime\\\": \\\"=0\\\",\\n              \\\"anchors\\\": {\\n                \\\"anchor\\\": [\\n                  {\\n                    \\\"type\\\": \\\"product\\\",\\n                    \\\"productId\\\": \\\"={{ $('láº¥y data prompt').item.json.data[0].productId }}\\\",\\n                    \\\"displayName\\\": \\\"={{ $('láº¥y data prompt').item.json.data[0].productTitle }}\\\"\\n                  }\\n                ]\\n              }\\n            }\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-social-tiktok.tikTokUpload\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            1056,\\n            448\\n          ],\\n          \\\"id\\\": \\\"aac260d1-90ca-4fc6-8429-5dcfd64b684c\\\",\\n          \\\"name\\\": \\\"TikTok Upload File\\\",\\n          \\\"credentials\\\": {\\n            \\\"tiktokApi\\\": {\\n              \\\"id\\\": \\\"UXpOpodAqPGk9di3\\\",\\n              \\\"name\\\": \\\"TikTok Credential account\\\"\\n            }\\n          }\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"jsCode\\\": \\\"const minutes = Math.floor(Math.random() * 25) + 1;\\\\nreturn [{ json: { delayMinutes: minutes } }];\\\"\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.code\\\",\\n          \\\"typeVersion\\\": 2,\\n          \\\"position\\\": [\\n            -2624,\\n            272\\n          ],\\n          \\\"id\\\": \\\"69b73970-face-4236-b970-a83312f7ca02\\\",\\n          \\\"name\\\": \\\"Code in JavaScript\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"amount\\\": \\\"={{ $json.delayMinutes }}\\\",\\n            \\\"unit\\\": \\\"minutes\\\"\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.wait\\\",\\n          \\\"typeVersion\\\": 1.1,\\n          \\\"position\\\": [\\n            -2400,\\n            272\\n          ],\\n          \\\"id\\\": \\\"f90d241e-9037-409f-930b-0718735e4192\\\",\\n          \\\"name\\\": \\\"Wait\\\",\\n          \\\"webhookId\\\": \\\"674c2567-5d60-48bc-8e7a-1a201036b46d\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"url\\\": \\\"https://shop.thetaphoa.store//api/tiktok-music?random=1\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"typeVersion\\\": 4.3,\\n          \\\"position\\\": [\\n            -32,\\n            400\\n          ],\\n          \\\"id\\\": \\\"9fd6e9e9-17df-4b26-8f03-72e29fd1f596\\\",\\n          \\\"name\\\": \\\"Láº¥y link nháº¡c\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"url\\\": \\\"={{ $json.data.music.url }}\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"typeVersion\\\": 4.3,\\n          \\\"position\\\": [\\n            192,\\n            400\\n          ],\\n          \\\"id\\\": \\\"ed2dfb52-4181-48db-8464-36c840cae34e\\\",\\n          \\\"name\\\": \\\"Láº¥y nháº¡c\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"operation\\\": \\\"write\\\",\\n            \\\"fileName\\\": \\\"=/files/temp_music.mp3\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.readWriteFile\\\",\\n          \\\"typeVersion\\\": 1.1,\\n          \\\"position\\\": [\\n            416,\\n            400\\n          ],\\n          \\\"id\\\": \\\"b180e35a-fe52-4150-ae40-055846d28098\\\",\\n          \\\"name\\\": \\\"ghi nháº¡c trong file táº¡m\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"command\\\": \\\"ffmpeg -i /files/merged_output.mp4 -i /files/temp_music.mp3 -c:v copy -c:a aac -map 0:v -map 1:a -shortest -y /files/final_output.mp4\\\"\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.executeCommand\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            640,\\n            400\\n          ],\\n          \\\"id\\\": \\\"1242c17a-8270-44b1-9539-7f6ec332c9cc\\\",\\n          \\\"name\\\": \\\"Execute Command\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"promptType\\\": \\\"define\\\",\\n            \\\"text\\\": \\\"=báº¡n thay Ä‘á»•i prompt nÃ y má»™t chÃºt Ä‘á»ƒ thay Ä‘á»•i bá»‘i cáº£nh, output dÆ°á»›i 90 kÃ­ tá»±, chá»‰ show láº¡i prompt Ä‘Ã£ chá»‰nh sá»­a chá»© khÃ´ng show máº¥y chá»— báº¡n suy nghÄ© nha:\\\\n{{ $json.content }}\\\",\\n            \\\"hasOutputParser\\\": true,\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"@n8n/n8n-nodes-langchain.agent\\\",\\n          \\\"typeVersion\\\": 3.1,\\n          \\\"position\\\": [\\n            -1088,\\n            480\\n          ],\\n          \\\"id\\\": \\\"c7578fd9-7461-4829-a8ad-158f74514efc\\\",\\n          \\\"name\\\": \\\"AI Agent\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"fieldToSplitOut\\\": \\\"data[0].prompts\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.splitOut\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            -1504,\\n            464\\n          ],\\n          \\\"id\\\": \\\"56aa0f97-923c-4f37-88ea-18646095c625\\\",\\n          \\\"name\\\": \\\"Split Out\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.splitInBatches\\\",\\n          \\\"typeVersion\\\": 3,\\n          \\\"position\\\": [\\n            -1280,\\n            144\\n          ],\\n          \\\"id\\\": \\\"12a4e38d-5433-47df-9a54-a519116617dd\\\",\\n          \\\"name\\\": \\\"Loop Over Items1\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"model\\\": {\\n              \\\"__rl\\\": true,\\n              \\\"value\\\": \\\"=claude-opus-4-6-thinking\\\",\\n              \\\"mode\\\": \\\"id\\\"\\n            },\\n            \\\"responsesApiEnabled\\\": false,\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"@n8n/n8n-nodes-langchain.lmChatOpenAi\\\",\\n          \\\"typeVersion\\\": 1.3,\\n          \\\"position\\\": [\\n            -992,\\n            768\\n          ],\\n          \\\"id\\\": \\\"9abe990a-efb8-4544-9782-d4008b77cd81\\\",\\n          \\\"name\\\": \\\"OpenAI Chat Model\\\",\\n          \\\"credentials\\\": {\\n            \\\"openAiApi\\\": {\\n              \\\"id\\\": \\\"ZQmj6pJ5Zy0uP5z1\\\",\\n              \\\"name\\\": \\\"CLI-proxy\\\"\\n            }\\n          }\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"mode\\\": \\\"combine\\\",\\n            \\\"combineBy\\\": \\\"combineByPosition\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.merge\\\",\\n          \\\"typeVersion\\\": 3.2,\\n          \\\"position\\\": [\\n            -992,\\n            256\\n          ],\\n          \\\"id\\\": \\\"985a464e-3b7e-4e14-bd35-c900df8098ad\\\",\\n          \\\"name\\\": \\\"Data merge\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"conditions\\\": {\\n              \\\"options\\\": {\\n                \\\"caseSensitive\\\": true,\\n                \\\"leftValue\\\": \\\"\\\",\\n                \\\"typeValidation\\\": \\\"strict\\\",\\n                \\\"version\\\": 3\\n              },\\n              \\\"conditions\\\": [\\n                {\\n                  \\\"id\\\": \\\"2b827f27-a1db-401d-a00a-3d62a1b071b5\\\",\\n                  \\\"leftValue\\\": \\\"={{ $json.data[0].enabled }}\\\",\\n                  \\\"rightValue\\\": true,\\n                  \\\"operator\\\": {\\n                    \\\"type\\\": \\\"boolean\\\",\\n                    \\\"operation\\\": \\\"equals\\\"\\n                  }\\n                }\\n              ],\\n              \\\"combinator\\\": \\\"and\\\"\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.if\\\",\\n          \\\"typeVersion\\\": 2.3,\\n          \\\"position\\\": [\\n            -1728,\\n            464\\n          ],\\n          \\\"id\\\": \\\"18dee2f5-f0fd-42c9-95ab-690c71a24cdf\\\",\\n          \\\"name\\\": \\\"Check flow enable\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"url\\\": \\\"https://shop.thetaphoa.store/api/autoflows?accountId=6984100221bd5a4f3e75f004&productId=1731372019868338007\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"typeVersion\\\": 4.3,\\n          \\\"position\\\": [\\n            -1952,\\n            464\\n          ],\\n          \\\"id\\\": \\\"be332dc0-0536-47af-8ba4-af155b65d28f\\\",\\n          \\\"name\\\": \\\"láº¥y data prompt\\\"\\n        }\\n      ],\\n      \\\"connections\\\": {\\n        \\\"When clicking â€˜Execute workflowâ€™\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"get token veo3\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"get token veo3\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"láº¥y data prompt\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"check status\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"kiá»ƒm tra tÃªn\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ],\\n            [\\n              {\\n                \\\"node\\\": \\\"Wait2\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"kiá»ƒm tra tÃªn\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Láº¥y video url\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"kiá»ƒm tra xem cÃ³ file url\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Get video\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ],\\n            [\\n              {\\n                \\\"node\\\": \\\"Wait3\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Wait2\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Check status\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Wait3\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Láº¥y video url\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Loop Over Items\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"ghi máº¥y video vÃ´ folder táº¡m\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ],\\n            [\\n              {\\n                \\\"node\\\": \\\"Táº¡o video tá»« hÃ¬nh post\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"ghi máº¥y video vÃ´ folder táº¡m\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"merge video\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"merge video\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Láº¥y link nháº¡c\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"láº¥y video ra\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"TikTok Upload File\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Schedule Trigger\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Code in JavaScript\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Táº¡o video tá»« hÃ¬nh post\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Check status\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Check status\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"check status\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Láº¥y video url\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"kiá»ƒm tra xem cÃ³ file url\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Get video\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Loop Over Items\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"TikTok Upload File\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"XÃ³a video sau Ä‘Äƒng\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Code in JavaScript\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Wait\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Wait\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"get token veo3\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Láº¥y link nháº¡c\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Láº¥y nháº¡c\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Láº¥y nháº¡c\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"ghi nháº¡c trong file táº¡m\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"ghi nháº¡c trong file táº¡m\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Execute Command\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Execute Command\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"láº¥y video ra\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Split Out\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Loop Over Items1\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              },\\n              {\\n                \\\"node\\\": \\\"Data merge\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 1\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Loop Over Items1\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Data merge\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ],\\n            [\\n              {\\n                \\\"node\\\": \\\"AI Agent\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"AI Agent\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Loop Over Items1\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"OpenAI Chat Model\\\": {\\n          \\\"ai_languageModel\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"AI Agent\\\",\\n                \\\"type\\\": \\\"ai_languageModel\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Data merge\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Loop Over Items\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Check flow enable\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Split Out\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"láº¥y data prompt\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Check flow enable\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        }\\n      },\\n      \\\"settings\\\": {\\n        \\\"executionOrder\\\": \\\"v1\\\",\\n        \\\"availableInMCP\\\": false,\\n        \\\"callerPolicy\\\": \\\"workflowsFromSameOwner\\\"\\n      },\\n      \\\"staticData\\\": null,\\n      \\\"meta\\\": null,\\n      \\\"pinData\\\": null,\\n      \\\"versionId\\\": \\\"a1309df2-b116-4ec4-a2e1-6035ccc55c4d\\\",\\n      \\\"activeVersionId\\\": null,\\n      \\\"triggerCount\\\": 0,\\n      \\\"shared\\\": [\\n        {\\n          \\\"updatedAt\\\": \\\"2026-02-12T13:29:56.198Z\\\",\\n          \\\"createdAt\\\": \\\"2026-02-12T13:29:56.198Z\\\",\\n          \\\"role\\\": \\\"workflow:owner\\\",\\n          \\\"workflowId\\\": \\\"gbE7rxizaqsUByIm\\\",\\n          \\\"projectId\\\": \\\"Xq0VG5A9CPTUak2A\\\"\\n        }\\n      ],\\n      \\\"activeVersion\\\": null,\\n      \\\"tags\\\": []\\n    },\\n    {\\n      \\\"updatedAt\\\": \\\"2026-02-12T13:29:56.091Z\\\",\\n      \\\"createdAt\\\": \\\"2026-02-12T13:29:56.091Z\\\",\\n      \\\"id\\\": \\\"4eSpFbYqdJcI6PCf\\\",\\n      \\\"name\\\": \\\"Tiktok menamine2 - kháº©u trang 9a\\\",\\n      \\\"active\\\": false,\\n      \\\"isArchived\\\": false,\\n      \\\"nodes\\\": [\\n        {\\n          \\\"parameters\\\": {},\\n          \\\"type\\\": \\\"n8n-nodes-base.manualTrigger\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            -1472,\\n            1760\\n          ],\\n          \\\"id\\\": \\\"e876da8e-89f4-4339-8480-3299e206d564\\\",\\n          \\\"name\\\": \\\"When clicking â€˜Execute workflowâ€™\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"url\\\": \\\"https://shop.thetaphoa.store/api/veo3-tokens\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"typeVersion\\\": 4.3,\\n          \\\"position\\\": [\\n            -1248,\\n            1664\\n          ],\\n          \\\"id\\\": \\\"3568fbae-232f-4c8b-9aec-ecca25feea1e\\\",\\n          \\\"name\\\": \\\"get token veo3\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"conditions\\\": {\\n              \\\"options\\\": {\\n                \\\"caseSensitive\\\": true,\\n                \\\"leftValue\\\": \\\"\\\",\\n                \\\"typeValidation\\\": \\\"strict\\\",\\n                \\\"version\\\": 3\\n              },\\n              \\\"conditions\\\": [\\n                {\\n                  \\\"id\\\": \\\"19257071-5bd9-41c9-a242-ddccd226554c\\\",\\n                  \\\"leftValue\\\": \\\"={{ $json.success }}\\\",\\n                  \\\"rightValue\\\": true,\\n                  \\\"operator\\\": {\\n                    \\\"type\\\": \\\"boolean\\\",\\n                    \\\"operation\\\": \\\"equals\\\"\\n                  }\\n                }\\n              ],\\n              \\\"combinator\\\": \\\"and\\\"\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.if\\\",\\n          \\\"typeVersion\\\": 2.3,\\n          \\\"position\\\": [\\n            896,\\n            1120\\n          ],\\n          \\\"id\\\": \\\"32c8740f-c520-43f2-957e-d706fb8d80f3\\\",\\n          \\\"name\\\": \\\"check status\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"conditions\\\": {\\n              \\\"options\\\": {\\n                \\\"caseSensitive\\\": true,\\n                \\\"leftValue\\\": \\\"\\\",\\n                \\\"typeValidation\\\": \\\"strict\\\",\\n                \\\"version\\\": 3\\n              },\\n              \\\"conditions\\\": [\\n                {\\n                  \\\"id\\\": \\\"bb52ec6b-2c36-4ad0-88d7-89b2f77ffbc4\\\",\\n                  \\\"leftValue\\\": \\\"={{ $json.operations[0].operation.metadata.video.fifeUrl }}\\\",\\n                  \\\"rightValue\\\": \\\"\\\",\\n                  \\\"operator\\\": {\\n                    \\\"type\\\": \\\"string\\\",\\n                    \\\"operation\\\": \\\"exists\\\",\\n                    \\\"singleValue\\\": true\\n                  }\\n                }\\n              ],\\n              \\\"combinator\\\": \\\"and\\\"\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.if\\\",\\n          \\\"typeVersion\\\": 2.3,\\n          \\\"position\\\": [\\n            1568,\\n            992\\n          ],\\n          \\\"id\\\": \\\"af398de5-4df8-4dd2-bd30-01b4fbf40374\\\",\\n          \\\"name\\\": \\\"kiá»ƒm tra xem cÃ³ file url\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {},\\n          \\\"type\\\": \\\"n8n-nodes-base.wait\\\",\\n          \\\"typeVersion\\\": 1.1,\\n          \\\"position\\\": [\\n            1120,\\n            1280\\n          ],\\n          \\\"id\\\": \\\"40451707-4742-420b-84cd-62f0995307f3\\\",\\n          \\\"name\\\": \\\"Wait2\\\",\\n          \\\"webhookId\\\": \\\"8752aac0-49ae-4a61-bea9-8128c0405e76\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {},\\n          \\\"type\\\": \\\"n8n-nodes-base.wait\\\",\\n          \\\"typeVersion\\\": 1.1,\\n          \\\"position\\\": [\\n            1792,\\n            1072\\n          ],\\n          \\\"id\\\": \\\"6b598500-8a20-4cc5-9961-2f599e7d4529\\\",\\n          \\\"name\\\": \\\"Wait3\\\",\\n          \\\"webhookId\\\": \\\"45f420ee-7390-41d6-94c3-2f43030ee02b\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.splitInBatches\\\",\\n          \\\"typeVersion\\\": 3,\\n          \\\"position\\\": [\\n            128,\\n            1584\\n          ],\\n          \\\"id\\\": \\\"1e8c9009-f64a-46e3-b0b5-9db409d660c8\\\",\\n          \\\"name\\\": \\\"Loop Over Items\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"operation\\\": \\\"write\\\",\\n            \\\"fileName\\\": \\\"=/files/temp_video_{{ $itemIndex }}.mp4\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.readWriteFile\\\",\\n          \\\"typeVersion\\\": 1.1,\\n          \\\"position\\\": [\\n            896,\\n            1552\\n          ],\\n          \\\"id\\\": \\\"b39d7ff6-993f-4370-b889-4630fb1a5b20\\\",\\n          \\\"name\\\": \\\"ghi máº¥y video vÃ´ folder táº¡m\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"fileSelector\\\": \\\"/files/final_output.mp4\\\",\\n            \\\"options\\\": {\\n              \\\"dataPropertyName\\\": \\\"data\\\"\\n            }\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.readWriteFile\\\",\\n          \\\"typeVersion\\\": 1.1,\\n          \\\"position\\\": [\\n            2016,\\n            1568\\n          ],\\n          \\\"id\\\": \\\"40741a6e-aa0f-4143-a915-e4e5b380fbbe\\\",\\n          \\\"name\\\": \\\"láº¥y video ra\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"command\\\": \\\"rm -f /files/*\\\"\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.executeCommand\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            2432,\\n            1568\\n          ],\\n          \\\"id\\\": \\\"5a422daf-cc5e-485b-9040-49f4c5eafbb8\\\",\\n          \\\"name\\\": \\\"XÃ³a video sau Ä‘Äƒng\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"rule\\\": {\\n              \\\"interval\\\": [\\n                {\\n                  \\\"field\\\": \\\"minutes\\\",\\n                  \\\"minutesInterval\\\": 30\\n                }\\n              ]\\n            }\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.scheduleTrigger\\\",\\n          \\\"typeVersion\\\": 1.3,\\n          \\\"position\\\": [\\n            -1920,\\n            1568\\n          ],\\n          \\\"id\\\": \\\"ce266a37-e5c4-48ca-8295-4408c1a1ff3e\\\",\\n          \\\"name\\\": \\\"Schedule Trigger\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"method\\\": \\\"POST\\\",\\n            \\\"url\\\": \\\"https://flow-api.nanoai.pics/api/fix/create-flow\\\",\\n            \\\"sendHeaders\\\": true,\\n            \\\"headerParameters\\\": {\\n              \\\"parameters\\\": [\\n                {\\n                  \\\"name\\\": \\\"Authorization\\\",\\n                  \\\"value\\\": \\\"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6Mjc2LCJyb2xlIjozLCJpYXQiOjE3NzA3NDA5NDh9.cOuA90MuxKposYRENvOSmeh70FXCfJhjvH9364JcHmA\\\"\\n                }\\n              ]\\n            },\\n            \\\"sendBody\\\": true,\\n            \\\"specifyBody\\\": \\\"json\\\",\\n            \\\"jsonBody\\\": \\\"={\\\\n  \\\\\\\"flow_url\\\\\\\": \\\\\\\"https://aisandbox-pa.googleapis.com/v1/video:batchAsyncGenerateVideoText\\\\\\\",\\\\n  \\\\\\\"flow_auth_token\\\\\\\": \\\\\\\"{{ $('get token veo3').item.json.data[0].value }}\\\\\\\",\\\\n  \\\\\\\"body_json\\\\\\\": {\\\\n    \\\\\\\"clientContext\\\\\\\": {\\\\n      \\\\\\\"recaptchaContext\\\\\\\": {\\\\n        \\\\\\\"token\\\\\\\": \\\\\\\"\\\\\\\",\\\\n        \\\\\\\"applicationType\\\\\\\": \\\\\\\"RECAPTCHA_APPLICATION_TYPE_WEB\\\\\\\"\\\\n      },\\\\n      \\\\\\\"sessionId\\\\\\\": \\\\\\\";1770714262718\\\\\\\",\\\\n      \\\\\\\"projectId\\\\\\\": \\\\\\\"ca491fb1-9f80-4c6a-9b69-8c0fadee7c0b\\\\\\\",\\\\n      \\\\\\\"tool\\\\\\\": \\\\\\\"PINHOLE\\\\\\\",\\\\n      \\\\\\\"userPaygateTier\\\\\\\": \\\\\\\"PAYGATE_TIER_TWO\\\\\\\"\\\\n    },\\\\n    \\\\\\\"requests\\\\\\\": [\\\\n      {\\\\n        \\\\\\\"aspectRatio\\\\\\\": \\\\\\\"VIDEO_ASPECT_RATIO_PORTRAIT\\\\\\\",\\\\n        \\\\\\\"seed\\\\\\\": 27076,\\\\n        \\\\\\\"textInput\\\\\\\": {\\\\n          \\\\\\\"prompt\\\\\\\": \\\\\\\"{{ $json.output }}\\\\\\\"\\\\n        },\\\\n        \\\\\\\"videoModelKey\\\\\\\": \\\\\\\"veo_3_1_t2v_fast_portrait_ultra\\\\\\\",\\\\n        \\\\\\\"metadata\\\\\\\": {\\\\n          \\\\\\\"sceneId\\\\\\\": \\\\\\\"0a65fde6-44f0-4139-bf1c-8cc2e5357bd3\\\\\\\"\\\\n        }\\\\n      }\\\\n    ]\\\\n  },\\\\n  \\\\\\\"is_proxy\\\\\\\": false\\\\n}\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"typeVersion\\\": 4.3,\\n          \\\"position\\\": [\\n            448,\\n            1136\\n          ],\\n          \\\"id\\\": \\\"61f09f76-b4c1-46b1-b0ef-a97bf6bf0678\\\",\\n          \\\"name\\\": \\\"Táº¡o video tá»« hÃ¬nh post\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"url\\\": \\\"https://flow-api.nanoai.pics/api/fix/task-status\\\",\\n            \\\"sendQuery\\\": true,\\n            \\\"queryParameters\\\": {\\n              \\\"parameters\\\": [\\n                {\\n                  \\\"name\\\": \\\"taskId\\\",\\n                  \\\"value\\\": \\\"={{ $(\\\\\\\"Táº¡o video tá»« hÃ¬nh post\\\\\\\").item.json.taskId }}\\\"\\n                }\\n              ]\\n            },\\n            \\\"sendHeaders\\\": true,\\n            \\\"headerParameters\\\": {\\n              \\\"parameters\\\": [\\n                {\\n                  \\\"name\\\": \\\"Authorization\\\",\\n                  \\\"value\\\": \\\"=Bearer {{ $('get token veo3').item.json.data[0].tokenCheckStatus }}\\\"\\n                }\\n              ]\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"typeVersion\\\": 4.3,\\n          \\\"position\\\": [\\n            672,\\n            1136\\n          ],\\n          \\\"id\\\": \\\"ae522748-e6f8-4ac7-ba24-6ff388d84b8b\\\",\\n          \\\"name\\\": \\\"Check status\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"method\\\": \\\"POST\\\",\\n            \\\"url\\\": \\\"https://aisandbox-pa.googleapis.com/v1/video:batchCheckAsyncVideoGenerationStatus\\\",\\n            \\\"sendHeaders\\\": true,\\n            \\\"headerParameters\\\": {\\n              \\\"parameters\\\": [\\n                {\\n                  \\\"name\\\": \\\"accept\\\",\\n                  \\\"value\\\": \\\"*/*\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"accept-language\\\",\\n                  \\\"value\\\": \\\"en-AU,en-GB;q=0.9,en-US;q=0.8,en;q=0.7,vi;q=0.6\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"authorization\\\",\\n                  \\\"value\\\": \\\"=Bearer {{ $('get token veo3').item.json.data[0].value }}\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"origin\\\",\\n                  \\\"value\\\": \\\"https://labs.google\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"priority\\\",\\n                  \\\"value\\\": \\\"u=1, i\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"referer\\\",\\n                  \\\"value\\\": \\\"https://labs.google/\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"sec-ch-ua\\\",\\n                  \\\"value\\\": \\\"\\\\\\\"Not(A:Brand\\\\\\\";v=\\\\\\\"8\\\\\\\", \\\\\\\"Chromium\\\\\\\";v=\\\\\\\"144\\\\\\\", \\\\\\\"Google Chrome\\\\\\\";v=\\\\\\\"144\\\\\\\"\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"sec-ch-ua-mobile\\\",\\n                  \\\"value\\\": \\\"?0\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"sec-ch-ua-platform\\\",\\n                  \\\"value\\\": \\\"\\\\\\\"Windows\\\\\\\"\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"sec-fetch-dest\\\",\\n                  \\\"value\\\": \\\"empty\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"sec-fetch-mode\\\",\\n                  \\\"value\\\": \\\"cors\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"sec-fetch-site\\\",\\n                  \\\"value\\\": \\\"cross-site\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"user-agent\\\",\\n                  \\\"value\\\": \\\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"x-browser-channel\\\",\\n                  \\\"value\\\": \\\"stable\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"x-browser-copyright\\\",\\n                  \\\"value\\\": \\\"Copyright 2026 Google LLC. All Rights reserved.\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"x-browser-validation\\\",\\n                  \\\"value\\\": \\\"AKIAtsVHZoiKbPixy+qSK1BgKWo=\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"x-browser-year\\\",\\n                  \\\"value\\\": \\\"2026\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"x-client-data\\\",\\n                  \\\"value\\\": \\\"CK21yQEIjbbJAQijtskBCKmdygEIuubKAQiWocsBCIWgzQE=\\\"\\n                }\\n              ]\\n            },\\n            \\\"sendBody\\\": true,\\n            \\\"specifyBody\\\": \\\"json\\\",\\n            \\\"jsonBody\\\": \\\"={\\\\n  \\\\\\\"operations\\\\\\\": [\\\\n    {\\\\n      \\\\\\\"operation\\\\\\\": {\\\\n        \\\\\\\"name\\\\\\\": \\\\\\\"{{ $('Check status').item.json.result.operations[0].operation.name }}\\\\\\\"\\\\n      },\\\\n      \\\\\\\"status\\\\\\\": \\\\\\\"MEDIA_GENERATION_STATUS_ACTIVE\\\\\\\"\\\\n    }\\\\n  ]\\\\n}\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"typeVersion\\\": 4.3,\\n          \\\"position\\\": [\\n            1344,\\n            1072\\n          ],\\n          \\\"id\\\": \\\"71d0ad3b-8035-42b0-a2de-553beeacc936\\\",\\n          \\\"name\\\": \\\"Láº¥y video url\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"url\\\": \\\"={{ $json.operations[0].operation.metadata.video.fifeUrl }}\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"typeVersion\\\": 4.3,\\n          \\\"position\\\": [\\n            1792,\\n            1328\\n          ],\\n          \\\"id\\\": \\\"b57204b8-f4fe-4d9b-a0d7-84d1866d0252\\\",\\n          \\\"name\\\": \\\"Get video\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"postSettings\\\": {\\n              \\\"text\\\": \\\"={{ $('láº¥y data prompt').item.json.data[0].description }}\\\",\\n              \\\"visibilityType\\\": 0,\\n              \\\"allowComment\\\": 1,\\n              \\\"scheduleTime\\\": \\\"=0\\\",\\n              \\\"anchors\\\": {\\n                \\\"anchor\\\": [\\n                  {\\n                    \\\"type\\\": \\\"product\\\",\\n                    \\\"productId\\\": \\\"={{ $('láº¥y data prompt').item.json.data[0].productId }}\\\",\\n                    \\\"displayName\\\": \\\"={{ $('láº¥y data prompt').item.json.data[0].productTitle }}\\\"\\n                  }\\n                ]\\n              }\\n            }\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-social-tiktok.tikTokUpload\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            2224,\\n            1568\\n          ],\\n          \\\"id\\\": \\\"3302cd48-b1a6-47cc-a2b5-b6467c7b6acb\\\",\\n          \\\"name\\\": \\\"TikTok Upload File\\\",\\n          \\\"credentials\\\": {\\n            \\\"tiktokApi\\\": {\\n              \\\"id\\\": \\\"UXpOpodAqPGk9di3\\\",\\n              \\\"name\\\": \\\"TikTok Credential account\\\"\\n            }\\n          }\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"jsCode\\\": \\\"const minutes = Math.floor(Math.random() * 25) + 1;\\\\nreturn [{ json: { delayMinutes: minutes } }];\\\"\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.code\\\",\\n          \\\"typeVersion\\\": 2,\\n          \\\"position\\\": [\\n            -1696,\\n            1568\\n          ],\\n          \\\"id\\\": \\\"a9cf3a6e-bb44-4cf7-98b6-a3a03e09017f\\\",\\n          \\\"name\\\": \\\"Code in JavaScript\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"amount\\\": \\\"={{ $json.delayMinutes }}\\\",\\n            \\\"unit\\\": \\\"minutes\\\"\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.wait\\\",\\n          \\\"typeVersion\\\": 1.1,\\n          \\\"position\\\": [\\n            -1472,\\n            1568\\n          ],\\n          \\\"id\\\": \\\"08de43a2-715b-425b-be13-bfe33bbf6092\\\",\\n          \\\"name\\\": \\\"Wait\\\",\\n          \\\"webhookId\\\": \\\"89953fda-8d4a-48a0-bacc-83d4bc52a9e6\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"url\\\": \\\"https://shop.thetaphoa.store//api/tiktok-music?random=1\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"typeVersion\\\": 4.3,\\n          \\\"position\\\": [\\n            1104,\\n            1552\\n          ],\\n          \\\"id\\\": \\\"0bbf9a51-ce65-4f23-bb93-8178e8712a86\\\",\\n          \\\"name\\\": \\\"Láº¥y link nháº¡c\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"url\\\": \\\"={{ $json.data.music.url }}\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"typeVersion\\\": 4.3,\\n          \\\"position\\\": [\\n            1312,\\n            1552\\n          ],\\n          \\\"id\\\": \\\"0c207070-6a46-4f74-a639-a19bafb6b302\\\",\\n          \\\"name\\\": \\\"Láº¥y nháº¡c\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"operation\\\": \\\"write\\\",\\n            \\\"fileName\\\": \\\"=/files/temp_music.mp3\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.readWriteFile\\\",\\n          \\\"typeVersion\\\": 1.1,\\n          \\\"position\\\": [\\n            1504,\\n            1552\\n          ],\\n          \\\"id\\\": \\\"0a7126f1-485f-4357-811f-a43d2d0d84cb\\\",\\n          \\\"name\\\": \\\"ghi nháº¡c trong file táº¡m\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"promptType\\\": \\\"define\\\",\\n            \\\"text\\\": \\\"={{ $json.subPrompt }}  \\\\\\\"{{ $json.content }}\\\\\\\"\\\\\\\"\\\",\\n            \\\"hasOutputParser\\\": true,\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"@n8n/n8n-nodes-langchain.agent\\\",\\n          \\\"typeVersion\\\": 3.1,\\n          \\\"position\\\": [\\n            -128,\\n            1856\\n          ],\\n          \\\"id\\\": \\\"789eb3cb-1981-44c6-b771-77e60ad68367\\\",\\n          \\\"name\\\": \\\"AI Agent\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"fieldToSplitOut\\\": \\\"data[0].prompts\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.splitOut\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            -512,\\n            1664\\n          ],\\n          \\\"id\\\": \\\"a8a718b6-68b7-44a9-849e-d9a3ca742194\\\",\\n          \\\"name\\\": \\\"Split Out\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.splitInBatches\\\",\\n          \\\"typeVersion\\\": 3,\\n          \\\"position\\\": [\\n            -352,\\n            1808\\n          ],\\n          \\\"id\\\": \\\"757d22fe-b939-4a74-ae12-3ed44beb67ec\\\",\\n          \\\"name\\\": \\\"Loop Over Items1\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"model\\\": {\\n              \\\"__rl\\\": true,\\n              \\\"value\\\": \\\"=claude-opus-4-6-thinking\\\",\\n              \\\"mode\\\": \\\"id\\\"\\n            },\\n            \\\"responsesApiEnabled\\\": false,\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"@n8n/n8n-nodes-langchain.lmChatOpenAi\\\",\\n          \\\"typeVersion\\\": 1.3,\\n          \\\"position\\\": [\\n            -64,\\n            2080\\n          ],\\n          \\\"id\\\": \\\"a7304397-9af2-40fd-8ab1-af813aa338c6\\\",\\n          \\\"name\\\": \\\"OpenAI Chat Model\\\",\\n          \\\"credentials\\\": {\\n            \\\"openAiApi\\\": {\\n              \\\"id\\\": \\\"ZQmj6pJ5Zy0uP5z1\\\",\\n              \\\"name\\\": \\\"CLI-proxy\\\"\\n            }\\n          }\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"mode\\\": \\\"combine\\\",\\n            \\\"combineBy\\\": \\\"combineByPosition\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.merge\\\",\\n          \\\"typeVersion\\\": 3.2,\\n          \\\"position\\\": [\\n            -64,\\n            1552\\n          ],\\n          \\\"id\\\": \\\"05adab93-0eac-4cf2-ac9b-4d1b9326b1d8\\\",\\n          \\\"name\\\": \\\"Data merge\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"conditions\\\": {\\n              \\\"options\\\": {\\n                \\\"caseSensitive\\\": true,\\n                \\\"leftValue\\\": \\\"\\\",\\n                \\\"typeValidation\\\": \\\"strict\\\",\\n                \\\"version\\\": 3\\n              },\\n              \\\"conditions\\\": [\\n                {\\n                  \\\"id\\\": \\\"2b827f27-a1db-401d-a00a-3d62a1b071b5\\\",\\n                  \\\"leftValue\\\": \\\"={{ $json.data[0].enabled }}\\\",\\n                  \\\"rightValue\\\": true,\\n                  \\\"operator\\\": {\\n                    \\\"type\\\": \\\"boolean\\\",\\n                    \\\"operation\\\": \\\"equals\\\"\\n                  }\\n                }\\n              ],\\n              \\\"combinator\\\": \\\"and\\\"\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.if\\\",\\n          \\\"typeVersion\\\": 2.3,\\n          \\\"position\\\": [\\n            -800,\\n            1680\\n          ],\\n          \\\"id\\\": \\\"488edb1b-c09c-4b27-bae4-fbf2e10558bb\\\",\\n          \\\"name\\\": \\\"Check flow enable\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"url\\\": \\\"https://shop.thetaphoa.store/api/autoflows?accountId=6984100221bd5a4f3e75f004&productId=1730748363759258203&randomPrompt=true\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"typeVersion\\\": 4.3,\\n          \\\"position\\\": [\\n            -1024,\\n            1664\\n          ],\\n          \\\"id\\\": \\\"61fb96bd-1d38-4a58-99dc-c663bddaddf8\\\",\\n          \\\"name\\\": \\\"láº¥y data prompt\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"conditions\\\": {\\n              \\\"options\\\": {\\n                \\\"caseSensitive\\\": true,\\n                \\\"leftValue\\\": \\\"\\\",\\n                \\\"typeValidation\\\": \\\"strict\\\",\\n                \\\"version\\\": 3\\n              },\\n              \\\"conditions\\\": [\\n                {\\n                  \\\"id\\\": \\\"725206b9-7c31-4630-bbf9-bff5d17ce395\\\",\\n                  \\\"leftValue\\\": \\\"={{ $json.result.operations[0].operation.name }}\\\",\\n                  \\\"rightValue\\\": \\\"\\\",\\n                  \\\"operator\\\": {\\n                    \\\"type\\\": \\\"string\\\",\\n                    \\\"operation\\\": \\\"exists\\\",\\n                    \\\"singleValue\\\": true\\n                  }\\n                }\\n              ],\\n              \\\"combinator\\\": \\\"and\\\"\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.if\\\",\\n          \\\"typeVersion\\\": 2.3,\\n          \\\"position\\\": [\\n            1120,\\n            1072\\n          ],\\n          \\\"id\\\": \\\"8eec3eab-1e81-40aa-920a-81eddd428566\\\",\\n          \\\"name\\\": \\\"kiá»ƒm tra tÃªn cÃ³ tá»“n táº¡i hay ko\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {},\\n          \\\"type\\\": \\\"n8n-nodes-base.merge\\\",\\n          \\\"typeVersion\\\": 3.2,\\n          \\\"position\\\": [\\n            672,\\n            1552\\n          ],\\n          \\\"id\\\": \\\"f006210b-909c-4e83-acbf-19e4157f3d1e\\\",\\n          \\\"name\\\": \\\"Merge\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"url\\\": \\\"={{ $('láº¥y data prompt').item.json.data[0].videoFiles[0].url }}\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"typeVersion\\\": 4.3,\\n          \\\"position\\\": [\\n            464,\\n            1792\\n          ],\\n          \\\"id\\\": \\\"84129372-df35-4863-ab3b-505cff57ca30\\\",\\n          \\\"name\\\": \\\"Láº¥y video tháº­t\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"command\\\": \\\"# BÆ°á»›c 1: Normalize (fix resolution + FPS + audio)\\\\ncount=0\\\\nfor f in $(ls -v /files/temp_video_*.mp4); do\\\\n  has_audio=$(ffprobe -v error -select_streams a -show_entries stream=codec_type -of csv=p=0 \\\\\\\"$f\\\\\\\")\\\\n  if [ -z \\\\\\\"$has_audio\\\\\\\" ]; then\\\\n    ffmpeg -y -i \\\\\\\"$f\\\\\\\" -f lavfi -i anullsrc=r=44100:cl=stereo \\\\\\\\\\\\n      -vf \\\\\\\"scale=1080:1920:force_original_aspect_ratio=decrease,pad=1080:1920:(ow-iw)/2:(oh-ih)/2,setsar=1,fps=24\\\\\\\" \\\\\\\\\\\\n      -c:v libx264 -preset fast -r 24 -c:a aac -ar 44100 -ac 2 \\\\\\\\\\\\n      -shortest \\\\\\\"/files/normalized_${count}.mp4\\\\\\\"\\\\n  else\\\\n    ffmpeg -y -i \\\\\\\"$f\\\\\\\" \\\\\\\\\\\\n      -vf \\\\\\\"scale=1080:1920:force_original_aspect_ratio=decrease,pad=1080:1920:(ow-iw)/2:(oh-ih)/2,setsar=1,fps=24\\\\\\\" \\\\\\\\\\\\n      -c:v libx264 -preset fast -r 24 -c:a aac -ar 44100 -ac 2 \\\\\\\\\\\\n      \\\\\\\"/files/normalized_${count}.mp4\\\\\\\"\\\\n  fi\\\\n  count=$((count+1))\\\\ndone\\\\n\\\\n# BÆ°á»›c 2: Concat\\\\nls -v /files/normalized_*.mp4 | sed \\\\\\\"s|^|file '|;s|$|'|\\\\\\\" > /files/concat_list.txt\\\\nffmpeg -y -f concat -safe 0 -i /files/concat_list.txt -c copy /files/merged_output.mp4\\\\n\\\\n# BÆ°á»›c 3: ChÃ¨n nháº¡c\\\\nffmpeg -y -i /files/merged_output.mp4 -i /files/temp_music.mp3 \\\\\\\\\\\\n  -filter_complex \\\\\\\"[0:a]volume=1.0[va];[1:a]volume=0.2[ma];[va][ma]amix=inputs=2:duration=first:dropout_transition=2[aout]\\\\\\\" \\\\\\\\\\\\n  -map 0:v -map \\\\\\\"[aout]\\\\\\\" -c:v copy -c:a aac -b:a 192k \\\\\\\\\\\\n  /files/final_output.mp4\\\"\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.executeCommand\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            1792,\\n            1568\\n          ],\\n          \\\"id\\\": \\\"11194531-ba00-4097-86fd-0e137fb8c20f\\\",\\n          \\\"name\\\": \\\"Execute Command\\\"\\n        }\\n      ],\\n      \\\"connections\\\": {\\n        \\\"When clicking â€˜Execute workflowâ€™\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"get token veo3\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"get token veo3\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"láº¥y data prompt\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"check status\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"kiá»ƒm tra tÃªn cÃ³ tá»“n táº¡i hay ko\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ],\\n            [\\n              {\\n                \\\"node\\\": \\\"Wait2\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"kiá»ƒm tra xem cÃ³ file url\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Get video\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ],\\n            [\\n              {\\n                \\\"node\\\": \\\"Wait3\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Wait2\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Check status\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Wait3\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Láº¥y video url\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Loop Over Items\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Merge\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ],\\n            [\\n              {\\n                \\\"node\\\": \\\"Táº¡o video tá»« hÃ¬nh post\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"ghi máº¥y video vÃ´ folder táº¡m\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Láº¥y link nháº¡c\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"láº¥y video ra\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"TikTok Upload File\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Schedule Trigger\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Code in JavaScript\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Táº¡o video tá»« hÃ¬nh post\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Check status\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Check status\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"check status\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Láº¥y video url\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"kiá»ƒm tra xem cÃ³ file url\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Get video\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Loop Over Items\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"TikTok Upload File\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"XÃ³a video sau Ä‘Äƒng\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Code in JavaScript\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Wait\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Wait\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"get token veo3\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Láº¥y link nháº¡c\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Láº¥y nháº¡c\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Láº¥y nháº¡c\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"ghi nháº¡c trong file táº¡m\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"ghi nháº¡c trong file táº¡m\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Execute Command\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"AI Agent\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Loop Over Items1\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Split Out\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Loop Over Items1\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              },\\n              {\\n                \\\"node\\\": \\\"Data merge\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 1\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Loop Over Items1\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Data merge\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ],\\n            [\\n              {\\n                \\\"node\\\": \\\"AI Agent\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"OpenAI Chat Model\\\": {\\n          \\\"ai_languageModel\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"AI Agent\\\",\\n                \\\"type\\\": \\\"ai_languageModel\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Data merge\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Loop Over Items\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Check flow enable\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Split Out\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"láº¥y data prompt\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Check flow enable\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"kiá»ƒm tra tÃªn cÃ³ tá»“n táº¡i hay ko\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Láº¥y video url\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              },\\n              {\\n                \\\"node\\\": \\\"Láº¥y video tháº­t\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Merge\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"ghi máº¥y video vÃ´ folder táº¡m\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Láº¥y video tháº­t\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Merge\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 1\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Execute Command\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"láº¥y video ra\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        }\\n      },\\n      \\\"settings\\\": {\\n        \\\"executionOrder\\\": \\\"v1\\\",\\n        \\\"availableInMCP\\\": false,\\n        \\\"callerPolicy\\\": \\\"workflowsFromSameOwner\\\"\\n      },\\n      \\\"staticData\\\": null,\\n      \\\"meta\\\": null,\\n      \\\"pinData\\\": null,\\n      \\\"versionId\\\": \\\"a971a9de-c48e-404c-8ea7-c27d6aa6af32\\\",\\n      \\\"activeVersionId\\\": null,\\n      \\\"triggerCount\\\": 0,\\n      \\\"shared\\\": [\\n        {\\n          \\\"updatedAt\\\": \\\"2026-02-12T13:29:56.091Z\\\",\\n          \\\"createdAt\\\": \\\"2026-02-12T13:29:56.091Z\\\",\\n          \\\"role\\\": \\\"workflow:owner\\\",\\n          \\\"workflowId\\\": \\\"4eSpFbYqdJcI6PCf\\\",\\n          \\\"projectId\\\": \\\"Xq0VG5A9CPTUak2A\\\"\\n        }\\n      ],\\n      \\\"activeVersion\\\": null,\\n      \\\"tags\\\": []\\n    },\\n    {\\n      \\\"updatedAt\\\": \\\"2026-02-12T13:29:15.634Z\\\",\\n      \\\"createdAt\\\": \\\"2026-02-12T13:29:15.634Z\\\",\\n      \\\"id\\\": \\\"gGp6sVOWXkPf4hLq\\\",\\n      \\\"name\\\": \\\"My workflow 1288\\\",\\n      \\\"active\\\": false,\\n      \\\"isArchived\\\": false,\\n      \\\"nodes\\\": [\\n        {\\n          \\\"parameters\\\": {},\\n          \\\"type\\\": \\\"n8n-nodes-zalos-user.zaloLoginByQr\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            64,\\n            112\\n          ],\\n          \\\"id\\\": \\\"7a51020e-537d-45c2-8818-1989e139e08a\\\",\\n          \\\"name\\\": \\\"Zalo Login Via QR Code\\\",\\n          \\\"credentials\\\": {}\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"operation\\\": \\\"download\\\",\\n            \\\"fileId\\\": {\\n              \\\"__rl\\\": true,\\n              \\\"value\\\": \\\"={{ $json.query.url }}\\\",\\n              \\\"mode\\\": \\\"url\\\"\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.googleDrive\\\",\\n          \\\"typeVersion\\\": 3,\\n          \\\"position\\\": [\\n            688,\\n            112\\n          ],\\n          \\\"id\\\": \\\"1b62d13f-a54b-423a-a7d6-675c42516eac\\\",\\n          \\\"name\\\": \\\"Google Drive\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"content\\\": \\\"## ÄÄƒng nháº­p vÃ o zalo\\\",\\n            \\\"height\\\": 240,\\n            \\\"width\\\": 340\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.stickyNote\\\",\\n          \\\"position\\\": [\\n            0,\\n            0\\n          ],\\n          \\\"typeVersion\\\": 1,\\n          \\\"id\\\": \\\"876a73e7-3e6e-44c4-9788-3e79dc4ad62e\\\",\\n          \\\"name\\\": \\\"Sticky Note25\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"content\\\": \\\"## Download File\\\\n- Nhá»› copy link Production URL thay vÃ o trong node link áº£nh drive\\\",\\n            \\\"height\\\": 240,\\n            \\\"width\\\": 500\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.stickyNote\\\",\\n          \\\"position\\\": [\\n            464,\\n            0\\n          ],\\n          \\\"typeVersion\\\": 1,\\n          \\\"id\\\": \\\"06bfa9a5-65dd-43be-be59-487f672191a0\\\",\\n          \\\"name\\\": \\\"Sticky Note26\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"content\\\": \\\"## Cháº¡y lá»‡nh táº¡o cÆ¡ sá»Ÿ dá»¯ liá»‡u\\\\nXÃ¡c thá»±c vá»›i Postgress á»Ÿ trÃªn supabase rá»“i cháº¡y lá»‡nh nÃ y Ä‘á»ƒ auto táº¡o sáºµn cÃ¡c báº£ng\\\",\\n            \\\"height\\\": 300,\\n            \\\"width\\\": 960\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.stickyNote\\\",\\n          \\\"position\\\": [\\n            0,\\n            304\\n          ],\\n          \\\"typeVersion\\\": 1,\\n          \\\"id\\\": \\\"7a16fe13-14df-4495-8929-d4e1bbfb5b17\\\",\\n          \\\"name\\\": \\\"Sticky Note24\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"operation\\\": \\\"executeQuery\\\",\\n            \\\"query\\\": \\\"create table public.zl_n8n_debounce (\\\\n  id bigint generated by default as identity not null,\\\\n  key text not null,\\\\n  incr bigint null default '0'::bigint,\\\\n  constraint zl_n8n_debounce_pkey primary key (id),\\\\n  constraint zl_n8n_debounce_key_key unique (key)\\\\n) TABLESPACE pg_default;\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.postgres\\\",\\n          \\\"typeVersion\\\": 2.6,\\n          \\\"position\\\": [\\n            752,\\n            432\\n          ],\\n          \\\"id\\\": \\\"ee83682b-89e1-4f97-a761-159ae2cf7527\\\",\\n          \\\"name\\\": \\\"CreateDebounceTable\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"operation\\\": \\\"executeQuery\\\",\\n            \\\"query\\\": \\\"create table public.zl_included_users (\\\\n  id bigint generated by default as identity not null,\\\\n  from_id text not null,\\\\n  to_id text null,\\\\n  created_at timestamp with time zone not null default now(),\\\\n  key text not null,\\\\n  constraint zl_included_users_pkey primary key (id),\\\\n  constraint zl_included_users_key_key unique (key),\\\\n  constraint zl_included_users_key_key1 unique (key)\\\\n) TABLESPACE pg_default;\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.postgres\\\",\\n          \\\"typeVersion\\\": 2.6,\\n          \\\"position\\\": [\\n            528,\\n            432\\n          ],\\n          \\\"id\\\": \\\"966ead9e-7f66-4018-9b61-d2acee91e72b\\\",\\n          \\\"name\\\": \\\"CreateIncludedTable\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"operation\\\": \\\"executeQuery\\\",\\n            \\\"query\\\": \\\"create table public.zl_chats (\\\\n  id bigint generated by default as identity not null,\\\\n  is_bot boolean null default true,\\\\n  from_id text null,\\\\n  d_name text null,\\\\n  to_id text null,  \\\\n  thread_id text null,\\\\n  message_id text null,\\\\n  text text null,\\\\n  timestamp bigint null,\\\\n  status character varying null default 'pending'::character varying,\\\\n  created_at timestamp with time zone null default now(),\\\\n  constraint zl_chats_pkey primary key (id),\\\\n  constraint zl_chats_message_id_key unique (message_id)\\\\n) TABLESPACE pg_default;\\\\n\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.postgres\\\",\\n          \\\"typeVersion\\\": 2.6,\\n          \\\"position\\\": [\\n            304,\\n            432\\n          ],\\n          \\\"id\\\": \\\"b43f7cc4-8b05-4a6f-8cc8-925d9b19b120\\\",\\n          \\\"name\\\": \\\"CreateChatsTable\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {},\\n          \\\"type\\\": \\\"n8n-nodes-base.manualTrigger\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            48,\\n            432\\n          ],\\n          \\\"id\\\": \\\"71fcb809-1bd5-4ab1-a7d2-bb66257c211b\\\",\\n          \\\"name\\\": \\\"When clicking â€˜Test workflowâ€™\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {},\\n          \\\"type\\\": \\\"n8n-nodes-zalos-user.zaloMessageTrigger\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            32,\\n            1328\\n          ],\\n          \\\"id\\\": \\\"f41a5dad-11bf-4aee-9b48-15124f4d8e5e\\\",\\n          \\\"name\\\": \\\"Zalo Message Trigger\\\",\\n          \\\"webhookId\\\": \\\"54f37947-1747-46f4-8e39-cc66e2b5103a\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"conditions\\\": {\\n              \\\"options\\\": {\\n                \\\"caseSensitive\\\": true,\\n                \\\"leftValue\\\": \\\"\\\",\\n                \\\"typeValidation\\\": \\\"strict\\\",\\n                \\\"version\\\": 2\\n              },\\n              \\\"conditions\\\": [\\n                {\\n                  \\\"id\\\": \\\"4db5ded9-cd1c-4f61-b92d-ef12f879c92d\\\",\\n                  \\\"leftValue\\\": \\\"={{ $json.message.isSelf }}\\\",\\n                  \\\"rightValue\\\": \\\"\\\",\\n                  \\\"operator\\\": {\\n                    \\\"type\\\": \\\"boolean\\\",\\n                    \\\"operation\\\": \\\"true\\\",\\n                    \\\"singleValue\\\": true\\n                  }\\n                }\\n              ],\\n              \\\"combinator\\\": \\\"and\\\"\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.if\\\",\\n          \\\"typeVersion\\\": 2.2,\\n          \\\"position\\\": [\\n            480,\\n            1328\\n          ],\\n          \\\"id\\\": \\\"979ff8fd-2434-47a9-8c3d-b7ace476fca4\\\",\\n          \\\"name\\\": \\\"If\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"rules\\\": {\\n              \\\"values\\\": [\\n                {\\n                  \\\"conditions\\\": {\\n                    \\\"options\\\": {\\n                      \\\"caseSensitive\\\": true,\\n                      \\\"leftValue\\\": \\\"\\\",\\n                      \\\"typeValidation\\\": \\\"strict\\\",\\n                      \\\"version\\\": 2\\n                    },\\n                    \\\"conditions\\\": [\\n                      {\\n                        \\\"leftValue\\\": \\\"={{ $json.message.data.msgType }}\\\",\\n                        \\\"rightValue\\\": \\\"webchat\\\",\\n                        \\\"operator\\\": {\\n                          \\\"type\\\": \\\"string\\\",\\n                          \\\"operation\\\": \\\"equals\\\"\\n                        },\\n                        \\\"id\\\": \\\"72612ffb-a0df-4276-9056-f3c5970aa96f\\\"\\n                      }\\n                    ],\\n                    \\\"combinator\\\": \\\"and\\\"\\n                  },\\n                  \\\"renameOutput\\\": true,\\n                  \\\"outputKey\\\": \\\"text\\\"\\n                },\\n                {\\n                  \\\"conditions\\\": {\\n                    \\\"options\\\": {\\n                      \\\"caseSensitive\\\": true,\\n                      \\\"leftValue\\\": \\\"\\\",\\n                      \\\"typeValidation\\\": \\\"strict\\\",\\n                      \\\"version\\\": 2\\n                    },\\n                    \\\"conditions\\\": [\\n                      {\\n                        \\\"id\\\": \\\"eebb2d88-989c-4816-ba75-dfc946717bac\\\",\\n                        \\\"leftValue\\\": \\\"={{ $json.message.data.msgType }}\\\",\\n                        \\\"rightValue\\\": \\\"chat.sticker\\\",\\n                        \\\"operator\\\": {\\n                          \\\"type\\\": \\\"string\\\",\\n                          \\\"operation\\\": \\\"equals\\\",\\n                          \\\"name\\\": \\\"filter.operator.equals\\\"\\n                        }\\n                      }\\n                    ],\\n                    \\\"combinator\\\": \\\"and\\\"\\n                  },\\n                  \\\"renameOutput\\\": true,\\n                  \\\"outputKey\\\": \\\"sticker\\\"\\n                }\\n              ]\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.switch\\\",\\n          \\\"typeVersion\\\": 3.2,\\n          \\\"position\\\": [\\n            32,\\n            1760\\n          ],\\n          \\\"id\\\": \\\"6fa9d93b-3831-4792-8c36-effade9a3d4f\\\",\\n          \\\"name\\\": \\\"Switch\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"tableId\\\": \\\"zl_chats\\\",\\n            \\\"fieldsUi\\\": {\\n              \\\"fieldValues\\\": [\\n                {\\n                  \\\"fieldId\\\": \\\"from_id\\\",\\n                  \\\"fieldValue\\\": \\\"={{ $('Data').item.json.from_id }}\\\"\\n                },\\n                {\\n                  \\\"fieldId\\\": \\\"to_id\\\",\\n                  \\\"fieldValue\\\": \\\"={{ $('Data').item.json.to_id }}\\\"\\n                },\\n                {\\n                  \\\"fieldId\\\": \\\"thread_id\\\",\\n                  \\\"fieldValue\\\": \\\"={{ $('Data').item.json.threadld }}\\\"\\n                },\\n                {\\n                  \\\"fieldId\\\": \\\"timestamp\\\",\\n                  \\\"fieldValue\\\": \\\"={{ $('Data').item.json.timestamp }}\\\"\\n                },\\n                {\\n                  \\\"fieldId\\\": \\\"message_id\\\",\\n                  \\\"fieldValue\\\": \\\"={{ $('Data').item.json.message_id }}\\\"\\n                },\\n                {\\n                  \\\"fieldId\\\": \\\"text\\\",\\n                  \\\"fieldValue\\\": \\\"={{ $('Data').item.json.text }}\\\"\\n                },\\n                {\\n                  \\\"fieldId\\\": \\\"status\\\",\\n                  \\\"fieldValue\\\": \\\"pending\\\"\\n                },\\n                {\\n                  \\\"fieldId\\\": \\\"d_name\\\",\\n                  \\\"fieldValue\\\": \\\"={{ $('Data').item.json.d_name }}\\\"\\n                },\\n                {\\n                  \\\"fieldId\\\": \\\"is_bot\\\",\\n                  \\\"fieldValue\\\": \\\"false\\\"\\n                }\\n              ]\\n            }\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.supabase\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            960,\\n            1760\\n          ],\\n          \\\"id\\\": \\\"ebf3fc62-8116-4722-a957-9db420011b0b\\\",\\n          \\\"name\\\": \\\"SaveToChats\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"content\\\": \\\"## Kiá»ƒm tra xem chá»§ zalo Ä‘Ã£ vÃ o chÃ¡t vá»›i ngÆ°á»i dÃ¹ng chÆ°a\\\\n- Náº¿u chá»§ zalo Ä‘Ã£ tiáº¿p nháº­n thÃ¬ pháº£i stop bot láº¡i\\\\n- á»ž Ä‘Ã¢y kiá»ƒm tra xem id ngÆ°á»i dÃ¹ng nÃ y Ä‘Ã£ cÃ³ trong danh sÃ¡ch Ä‘Ã£ tiáº¿p nháº­n hay chÆ°a\\\",\\n            \\\"height\\\": 260,\\n            \\\"width\\\": 680\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.stickyNote\\\",\\n          \\\"position\\\": [\\n            1264,\\n            1664\\n          ],\\n          \\\"typeVersion\\\": 1,\\n          \\\"id\\\": \\\"da05cc2e-b791-4f87-8343-50a2a385bff0\\\",\\n          \\\"name\\\": \\\"Sticky Note5\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"operation\\\": \\\"get\\\",\\n            \\\"tableId\\\": \\\"zl_included_users\\\",\\n            \\\"filters\\\": {\\n              \\\"conditions\\\": [\\n                {\\n                  \\\"keyName\\\": \\\"key\\\",\\n                  \\\"keyValue\\\": \\\"={{ $json.thread_id }}\\\"\\n                }\\n              ]\\n            }\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.supabase\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            1312,\\n            1760\\n          ],\\n          \\\"id\\\": \\\"1ef4a80e-fe81-4340-8588-d4a3087d4c82\\\",\\n          \\\"name\\\": \\\"GetUserIncluded\\\",\\n          \\\"alwaysOutputData\\\": true\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"conditions\\\": {\\n              \\\"options\\\": {\\n                \\\"caseSensitive\\\": true,\\n                \\\"leftValue\\\": \\\"\\\",\\n                \\\"typeValidation\\\": \\\"strict\\\",\\n                \\\"version\\\": 2\\n              },\\n              \\\"conditions\\\": [\\n                {\\n                  \\\"id\\\": \\\"f279a143-a74d-4cbb-b815-c8443c8626ef\\\",\\n                  \\\"leftValue\\\": \\\"={{ $json.id }}\\\",\\n                  \\\"rightValue\\\": \\\"\\\",\\n                  \\\"operator\\\": {\\n                    \\\"type\\\": \\\"number\\\",\\n                    \\\"operation\\\": \\\"notExists\\\",\\n                    \\\"singleValue\\\": true\\n                  }\\n                }\\n              ],\\n              \\\"combinator\\\": \\\"and\\\"\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.if\\\",\\n          \\\"typeVersion\\\": 2.2,\\n          \\\"position\\\": [\\n            1504,\\n            1760\\n          ],\\n          \\\"id\\\": \\\"96f49f95-6954-4522-b5ec-87bdb8910825\\\",\\n          \\\"name\\\": \\\"IfDoesNotExist\\\",\\n          \\\"alwaysOutputData\\\": false\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"assignments\\\": {\\n              \\\"assignments\\\": [\\n                {\\n                  \\\"id\\\": \\\"f8015a26-bb7e-43ed-bb8b-c5556d004990\\\",\\n                  \\\"name\\\": \\\"message_id\\\",\\n                  \\\"value\\\": \\\"={{ $json.message.data.msgId }}\\\",\\n                  \\\"type\\\": \\\"string\\\"\\n                },\\n                {\\n                  \\\"id\\\": \\\"2aea730c-3bc3-487a-812e-eaba6e287e47\\\",\\n                  \\\"name\\\": \\\"text\\\",\\n                  \\\"value\\\": \\\"={{ $json.message.data.content }}\\\",\\n                  \\\"type\\\": \\\"string\\\"\\n                },\\n                {\\n                  \\\"id\\\": \\\"ed054f84-a1ea-45e6-b12c-c37bca8aee8f\\\",\\n                  \\\"name\\\": \\\"d_name\\\",\\n                  \\\"value\\\": \\\"={{ $json.message.data.dName }}\\\",\\n                  \\\"type\\\": \\\"string\\\"\\n                },\\n                {\\n                  \\\"id\\\": \\\"7cf9cfe3-61da-45b1-9df9-a6eefd68c371\\\",\\n                  \\\"name\\\": \\\"from_id\\\",\\n                  \\\"value\\\": \\\"={{ $json.message.data.uidFrom }}\\\",\\n                  \\\"type\\\": \\\"string\\\"\\n                },\\n                {\\n                  \\\"id\\\": \\\"00970e0d-5e08-4639-ab12-4c7ea240ed5b\\\",\\n                  \\\"name\\\": \\\"to_id\\\",\\n                  \\\"value\\\": \\\"={{ $json.message.data.idTo }}\\\",\\n                  \\\"type\\\": \\\"string\\\"\\n                },\\n                {\\n                  \\\"id\\\": \\\"ae2750dc-8d54-4310-acc5-0de8c8cca279\\\",\\n                  \\\"name\\\": \\\"threadld\\\",\\n                  \\\"value\\\": \\\"={{ $json.message.threadId }}\\\",\\n                  \\\"type\\\": \\\"string\\\"\\n                },\\n                {\\n                  \\\"id\\\": \\\"d820ec29-8d80-47cf-b11a-ebceed63fada\\\",\\n                  \\\"name\\\": \\\"key\\\",\\n                  \\\"value\\\": \\\"={{ $json.message.threadId }}\\\",\\n                  \\\"type\\\": \\\"string\\\"\\n                },\\n                {\\n                  \\\"id\\\": \\\"561d4afa-3181-42b8-93f2-dfe3e6f1bbad\\\",\\n                  \\\"name\\\": \\\"timestamp\\\",\\n                  \\\"value\\\": \\\"={{ $json.message.data.ts }}\\\",\\n                  \\\"type\\\": \\\"string\\\"\\n                }\\n              ]\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.set\\\",\\n          \\\"typeVersion\\\": 3.4,\\n          \\\"position\\\": [\\n            304,\\n            1760\\n          ],\\n          \\\"id\\\": \\\"e76bb5f3-fab3-4852-b99b-802a1882f7ae\\\",\\n          \\\"name\\\": \\\"Data\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"content\\\": \\\"## Náº¿u tin nháº¯n lÃ  cá»§a chá»§ zalo\\\",\\n            \\\"height\\\": 620,\\n            \\\"width\\\": 1980,\\n            \\\"color\\\": 5\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.stickyNote\\\",\\n          \\\"position\\\": [\\n            0,\\n            688\\n          ],\\n          \\\"typeVersion\\\": 1,\\n          \\\"id\\\": \\\"99bcc9cd-8e51-421e-acbd-2266d0c87091\\\",\\n          \\\"name\\\": \\\"Sticky Note2\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"assignments\\\": {\\n              \\\"assignments\\\": [\\n                {\\n                  \\\"id\\\": \\\"f8015a26-bb7e-43ed-bb8b-c5556d004990\\\",\\n                  \\\"name\\\": \\\"message_id\\\",\\n                  \\\"value\\\": \\\"={{ $json.message.data.msgId }}\\\",\\n                  \\\"type\\\": \\\"string\\\"\\n                },\\n                {\\n                  \\\"id\\\": \\\"2aea730c-3bc3-487a-812e-eaba6e287e47\\\",\\n                  \\\"name\\\": \\\"text\\\",\\n                  \\\"value\\\": \\\"={{ $json.message.data.content }}\\\",\\n                  \\\"type\\\": \\\"string\\\"\\n                },\\n                {\\n                  \\\"id\\\": \\\"ed054f84-a1ea-45e6-b12c-c37bca8aee8f\\\",\\n                  \\\"name\\\": \\\"d_name\\\",\\n                  \\\"value\\\": \\\"={{ $json.message.data.dName }}\\\",\\n                  \\\"type\\\": \\\"string\\\"\\n                },\\n                {\\n                  \\\"id\\\": \\\"7cf9cfe3-61da-45b1-9df9-a6eefd68c371\\\",\\n                  \\\"name\\\": \\\"from_id\\\",\\n                  \\\"value\\\": \\\"={{ $json.message.data.uidFrom }}\\\",\\n                  \\\"type\\\": \\\"string\\\"\\n                },\\n                {\\n                  \\\"id\\\": \\\"00970e0d-5e08-4639-ab12-4c7ea240ed5b\\\",\\n                  \\\"name\\\": \\\"to_id\\\",\\n                  \\\"value\\\": \\\"={{ $json.message.data.idTo }}\\\",\\n                  \\\"type\\\": \\\"string\\\"\\n                },\\n                {\\n                  \\\"id\\\": \\\"ae2750dc-8d54-4310-acc5-0de8c8cca279\\\",\\n                  \\\"name\\\": \\\"thread_id\\\",\\n                  \\\"value\\\": \\\"={{ $json.message.threadId }}\\\",\\n                  \\\"type\\\": \\\"string\\\"\\n                },\\n                {\\n                  \\\"id\\\": \\\"d820ec29-8d80-47cf-b11a-ebceed63fada\\\",\\n                  \\\"name\\\": \\\"key\\\",\\n                  \\\"value\\\": \\\"={{ $json.message.threadId }}\\\",\\n                  \\\"type\\\": \\\"string\\\"\\n                },\\n                {\\n                  \\\"id\\\": \\\"561d4afa-3181-42b8-93f2-dfe3e6f1bbad\\\",\\n                  \\\"name\\\": \\\"timestamp\\\",\\n                  \\\"value\\\": \\\"={{ $json.message.data.ts }}\\\",\\n                  \\\"type\\\": \\\"string\\\"\\n                },\\n                {\\n                  \\\"id\\\": \\\"2496817e-1462-458a-85a3-eb1983007e09\\\",\\n                  \\\"name\\\": \\\"is_bot\\\",\\n                  \\\"value\\\": \\\"false\\\",\\n                  \\\"type\\\": \\\"string\\\"\\n                },\\n                {\\n                  \\\"id\\\": \\\"16cb96b6-bd29-4424-aa86-70dd67a383f5\\\",\\n                  \\\"name\\\": \\\"status\\\",\\n                  \\\"value\\\": \\\"done\\\",\\n                  \\\"type\\\": \\\"string\\\"\\n                }\\n              ]\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.set\\\",\\n          \\\"typeVersion\\\": 3.4,\\n          \\\"position\\\": [\\n            320,\\n            848\\n          ],\\n          \\\"id\\\": \\\"7deba670-316e-4087-8536-a1b788ac61ee\\\",\\n          \\\"name\\\": \\\"Data2\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"operation\\\": \\\"get\\\",\\n            \\\"tableId\\\": \\\"zl_chats\\\",\\n            \\\"filters\\\": {\\n              \\\"conditions\\\": [\\n                {\\n                  \\\"keyName\\\": \\\"message_id\\\",\\n                  \\\"keyValue\\\": \\\"={{ $json.message_id }}\\\"\\n                }\\n              ]\\n            }\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.supabase\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            832,\\n            1120\\n          ],\\n          \\\"id\\\": \\\"269e3234-814a-4aa2-bae8-2480c596e1e1\\\",\\n          \\\"name\\\": \\\"FindById\\\",\\n          \\\"alwaysOutputData\\\": true\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"conditions\\\": {\\n              \\\"options\\\": {\\n                \\\"caseSensitive\\\": true,\\n                \\\"leftValue\\\": \\\"\\\",\\n                \\\"typeValidation\\\": \\\"loose\\\",\\n                \\\"version\\\": 2\\n              },\\n              \\\"conditions\\\": [\\n                {\\n                  \\\"id\\\": \\\"9a042fec-fd94-471b-8dbe-951b084aa7ee\\\",\\n                  \\\"leftValue\\\": \\\"={{ $json.id }}\\\",\\n                  \\\"rightValue\\\": \\\"\\\",\\n                  \\\"operator\\\": {\\n                    \\\"type\\\": \\\"string\\\",\\n                    \\\"operation\\\": \\\"exists\\\",\\n                    \\\"singleValue\\\": true\\n                  }\\n                }\\n              ],\\n              \\\"combinator\\\": \\\"and\\\"\\n            },\\n            \\\"looseTypeValidation\\\": true,\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.if\\\",\\n          \\\"typeVersion\\\": 2.2,\\n          \\\"position\\\": [\\n            1040,\\n            1120\\n          ],\\n          \\\"id\\\": \\\"25e8cbed-1f64-492f-9f90-b4fcea8a3901\\\",\\n          \\\"name\\\": \\\"IfExistsMessage\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"tableId\\\": \\\"zl_chats\\\",\\n            \\\"dataToSend\\\": \\\"autoMapInputData\\\",\\n            \\\"inputsToIgnore\\\": \\\"key\\\"\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.supabase\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            1504,\\n            864\\n          ],\\n          \\\"id\\\": \\\"81623af3-27a7-4ee0-a769-699c29409527\\\",\\n          \\\"name\\\": \\\"SaveMessage\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"operation\\\": \\\"get\\\",\\n            \\\"tableId\\\": \\\"zl_chats\\\",\\n            \\\"filters\\\": {\\n              \\\"conditions\\\": [\\n                {\\n                  \\\"keyName\\\": \\\"message_id\\\",\\n                  \\\"keyValue\\\": \\\"={{ $json.message_id }}\\\"\\n                }\\n              ]\\n            }\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.supabase\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            528,\\n            1760\\n          ],\\n          \\\"id\\\": \\\"4e9cb902-9683-4674-b17b-f4a4cfefaefe\\\",\\n          \\\"name\\\": \\\"FindById2\\\",\\n          \\\"alwaysOutputData\\\": true\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"conditions\\\": {\\n              \\\"options\\\": {\\n                \\\"caseSensitive\\\": true,\\n                \\\"leftValue\\\": \\\"\\\",\\n                \\\"typeValidation\\\": \\\"strict\\\",\\n                \\\"version\\\": 2\\n              },\\n              \\\"conditions\\\": [\\n                {\\n                  \\\"id\\\": \\\"02d72cf3-bcee-4e2a-866d-91a3ff41edaa\\\",\\n                  \\\"leftValue\\\": \\\"={{ $json.id }}\\\",\\n                  \\\"rightValue\\\": \\\"\\\",\\n                  \\\"operator\\\": {\\n                    \\\"type\\\": \\\"number\\\",\\n                    \\\"operation\\\": \\\"exists\\\",\\n                    \\\"singleValue\\\": true\\n                  }\\n                }\\n              ],\\n              \\\"combinator\\\": \\\"and\\\"\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.if\\\",\\n          \\\"typeVersion\\\": 2.2,\\n          \\\"position\\\": [\\n            720,\\n            1760\\n          ],\\n          \\\"id\\\": \\\"3865637f-8fcc-4a17-b695-9c4dde08006d\\\",\\n          \\\"name\\\": \\\"IfExistsMessage2\\\",\\n          \\\"alwaysOutputData\\\": false\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"content\\\": \\\"## Check xem message nÃ y Ä‘Ã£ cÃ³ trong db hay chÆ°a\\\",\\n            \\\"height\\\": 240,\\n            \\\"width\\\": 380\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.stickyNote\\\",\\n          \\\"position\\\": [\\n            784,\\n            1040\\n          ],\\n          \\\"typeVersion\\\": 1,\\n          \\\"id\\\": \\\"24adf1bf-2df1-40e6-8420-fb1264ecb1c1\\\",\\n          \\\"name\\\": \\\"Sticky Note\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"content\\\": \\\"## Náº¿u chÆ°a cÃ³ trong DB\\\\n- LÆ°u message vÃ o db\\\",\\n            \\\"height\\\": 240,\\n            \\\"width\\\": 440\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.stickyNote\\\",\\n          \\\"position\\\": [\\n            1184,\\n            784\\n          ],\\n          \\\"typeVersion\\\": 1,\\n          \\\"id\\\": \\\"76f73903-ffde-4dac-b33f-910c606f84e8\\\",\\n          \\\"name\\\": \\\"Sticky Note1\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"content\\\": \\\"## Switch\\\\nDÃ¹ng Ä‘á»ƒ phÃ¢n loáº¡i Ä‘oáº¡n chÃ¡t ( CÃ³ thá»ƒ lÃ  text, sticker,...vv )\\\\n\\\",\\n            \\\"height\\\": 260,\\n            \\\"width\\\": 260\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.stickyNote\\\",\\n          \\\"position\\\": [\\n            32,\\n            1664\\n          ],\\n          \\\"typeVersion\\\": 1,\\n          \\\"id\\\": \\\"9629c789-6684-4ec2-b643-15bd6ae5f6df\\\",\\n          \\\"name\\\": \\\"Sticky Note3\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"content\\\": \\\"## Check xem message nÃ y Ä‘Ã£ cÃ³ trong db hay chÆ°a\\\\n- Thao tÃ¡c nÃ y Ä‘á» phÃ²ng nháº­n cÃ¹ng 1 tin nháº¯n 2 láº§n\\\\n- Náº¿u tin nháº¯n bá»‹ láº·p thÃ¬ khÃ´ng tráº£ lá»i ná»¯a\\\",\\n            \\\"height\\\": 260,\\n            \\\"width\\\": 600\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.stickyNote\\\",\\n          \\\"position\\\": [\\n            288,\\n            1664\\n          ],\\n          \\\"typeVersion\\\": 1,\\n          \\\"id\\\": \\\"396d914d-9bbb-4c5e-83a2-df210442bc9b\\\",\\n          \\\"name\\\": \\\"Sticky Note4\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"content\\\": \\\"## LÆ°u láº¡i tin nháº¯n\\\",\\n            \\\"height\\\": 260,\\n            \\\"width\\\": 340\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.stickyNote\\\",\\n          \\\"position\\\": [\\n            912,\\n            1664\\n          ],\\n          \\\"typeVersion\\\": 1,\\n          \\\"id\\\": \\\"19c6d0b0-733b-4f0a-a9a6-a32ded869118\\\",\\n          \\\"name\\\": \\\"Sticky Note6\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"rules\\\": {\\n              \\\"values\\\": [\\n                {\\n                  \\\"conditions\\\": {\\n                    \\\"options\\\": {\\n                      \\\"caseSensitive\\\": true,\\n                      \\\"leftValue\\\": \\\"\\\",\\n                      \\\"typeValidation\\\": \\\"strict\\\",\\n                      \\\"version\\\": 2\\n                    },\\n                    \\\"conditions\\\": [\\n                      {\\n                        \\\"leftValue\\\": \\\"={{ $json.message.data.msgType }}\\\",\\n                        \\\"rightValue\\\": \\\"webchat\\\",\\n                        \\\"operator\\\": {\\n                          \\\"type\\\": \\\"string\\\",\\n                          \\\"operation\\\": \\\"equals\\\"\\n                        },\\n                        \\\"id\\\": \\\"72612ffb-a0df-4276-9056-f3c5970aa96f\\\"\\n                      }\\n                    ],\\n                    \\\"combinator\\\": \\\"and\\\"\\n                  },\\n                  \\\"renameOutput\\\": true,\\n                  \\\"outputKey\\\": \\\"text\\\"\\n                },\\n                {\\n                  \\\"conditions\\\": {\\n                    \\\"options\\\": {\\n                      \\\"caseSensitive\\\": true,\\n                      \\\"leftValue\\\": \\\"\\\",\\n                      \\\"typeValidation\\\": \\\"strict\\\",\\n                      \\\"version\\\": 2\\n                    },\\n                    \\\"conditions\\\": [\\n                      {\\n                        \\\"id\\\": \\\"eebb2d88-989c-4816-ba75-dfc946717bac\\\",\\n                        \\\"leftValue\\\": \\\"={{ $json.message.data.msgType }}\\\",\\n                        \\\"rightValue\\\": \\\"chat.voice\\\",\\n                        \\\"operator\\\": {\\n                          \\\"type\\\": \\\"string\\\",\\n                          \\\"operation\\\": \\\"equals\\\",\\n                          \\\"name\\\": \\\"filter.operator.equals\\\"\\n                        }\\n                      }\\n                    ],\\n                    \\\"combinator\\\": \\\"and\\\"\\n                  },\\n                  \\\"renameOutput\\\": true,\\n                  \\\"outputKey\\\": \\\"voice\\\"\\n                },\\n                {\\n                  \\\"conditions\\\": {\\n                    \\\"options\\\": {\\n                      \\\"caseSensitive\\\": true,\\n                      \\\"leftValue\\\": \\\"\\\",\\n                      \\\"typeValidation\\\": \\\"strict\\\",\\n                      \\\"version\\\": 2\\n                    },\\n                    \\\"conditions\\\": [\\n                      {\\n                        \\\"id\\\": \\\"451a913f-1cb9-4cd3-832a-b2ebdf9dffdf\\\",\\n                        \\\"leftValue\\\": \\\"={{ $json.message.data.msgType }}\\\",\\n                        \\\"rightValue\\\": \\\"chat.sticker\\\",\\n                        \\\"operator\\\": {\\n                          \\\"type\\\": \\\"string\\\",\\n                          \\\"operation\\\": \\\"equals\\\",\\n                          \\\"name\\\": \\\"filter.operator.equals\\\"\\n                        }\\n                      }\\n                    ],\\n                    \\\"combinator\\\": \\\"and\\\"\\n                  },\\n                  \\\"renameOutput\\\": true,\\n                  \\\"outputKey\\\": \\\"sticker\\\"\\n                },\\n                {\\n                  \\\"conditions\\\": {\\n                    \\\"options\\\": {\\n                      \\\"caseSensitive\\\": true,\\n                      \\\"leftValue\\\": \\\"\\\",\\n                      \\\"typeValidation\\\": \\\"strict\\\",\\n                      \\\"version\\\": 2\\n                    },\\n                    \\\"conditions\\\": [\\n                      {\\n                        \\\"id\\\": \\\"8fb7d30d-699e-4772-a838-54c325126d5d\\\",\\n                        \\\"leftValue\\\": \\\"={{ $json.message.data.msgType }}\\\",\\n                        \\\"rightValue\\\": \\\"chat.photo\\\",\\n                        \\\"operator\\\": {\\n                          \\\"type\\\": \\\"string\\\",\\n                          \\\"operation\\\": \\\"equals\\\",\\n                          \\\"name\\\": \\\"filter.operator.equals\\\"\\n                        }\\n                      }\\n                    ],\\n                    \\\"combinator\\\": \\\"and\\\"\\n                  },\\n                  \\\"renameOutput\\\": true,\\n                  \\\"outputKey\\\": \\\"photo\\\"\\n                }\\n              ]\\n            },\\n            \\\"options\\\": {\\n              \\\"fallbackOutput\\\": 2\\n            }\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.switch\\\",\\n          \\\"typeVersion\\\": 3.2,\\n          \\\"position\\\": [\\n            32,\\n            1008\\n          ],\\n          \\\"id\\\": \\\"598279b5-88dd-4327-ad10-0d7ffc28ae48\\\",\\n          \\\"name\\\": \\\"Switch1\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"assignments\\\": {\\n              \\\"assignments\\\": [\\n                {\\n                  \\\"id\\\": \\\"f8015a26-bb7e-43ed-bb8b-c5556d004990\\\",\\n                  \\\"name\\\": \\\"message_id\\\",\\n                  \\\"value\\\": \\\"={{ $json.message.data.msgId }}\\\",\\n                  \\\"type\\\": \\\"string\\\"\\n                },\\n                {\\n                  \\\"id\\\": \\\"2aea730c-3bc3-487a-812e-eaba6e287e47\\\",\\n                  \\\"name\\\": \\\"text\\\",\\n                  \\\"value\\\": \\\"= \\\",\\n                  \\\"type\\\": \\\"string\\\"\\n                },\\n                {\\n                  \\\"id\\\": \\\"ed054f84-a1ea-45e6-b12c-c37bca8aee8f\\\",\\n                  \\\"name\\\": \\\"d_name\\\",\\n                  \\\"value\\\": \\\"={{ $json.message.data.dName }}\\\",\\n                  \\\"type\\\": \\\"string\\\"\\n                },\\n                {\\n                  \\\"id\\\": \\\"7cf9cfe3-61da-45b1-9df9-a6eefd68c371\\\",\\n                  \\\"name\\\": \\\"from_id\\\",\\n                  \\\"value\\\": \\\"={{ $json.message.data.uidFrom }}\\\",\\n                  \\\"type\\\": \\\"string\\\"\\n                },\\n                {\\n                  \\\"id\\\": \\\"00970e0d-5e08-4639-ab12-4c7ea240ed5b\\\",\\n                  \\\"name\\\": \\\"to_id\\\",\\n                  \\\"value\\\": \\\"={{ $json.message.data.idTo }}\\\",\\n                  \\\"type\\\": \\\"string\\\"\\n                },\\n                {\\n                  \\\"id\\\": \\\"ae2750dc-8d54-4310-acc5-0de8c8cca279\\\",\\n                  \\\"name\\\": \\\"thread_id\\\",\\n                  \\\"value\\\": \\\"={{ $json.message.threadId }}\\\",\\n                  \\\"type\\\": \\\"string\\\"\\n                },\\n                {\\n                  \\\"id\\\": \\\"d820ec29-8d80-47cf-b11a-ebceed63fada\\\",\\n                  \\\"name\\\": \\\"key\\\",\\n                  \\\"value\\\": \\\"={{ $json.message.threadId }}\\\",\\n                  \\\"type\\\": \\\"string\\\"\\n                },\\n                {\\n                  \\\"id\\\": \\\"561d4afa-3181-42b8-93f2-dfe3e6f1bbad\\\",\\n                  \\\"name\\\": \\\"timestamp\\\",\\n                  \\\"value\\\": \\\"={{ $json.message.data.ts }}\\\",\\n                  \\\"type\\\": \\\"string\\\"\\n                },\\n                {\\n                  \\\"id\\\": \\\"2496817e-1462-458a-85a3-eb1983007e09\\\",\\n                  \\\"name\\\": \\\"is_bot\\\",\\n                  \\\"value\\\": \\\"false\\\",\\n                  \\\"type\\\": \\\"string\\\"\\n                },\\n                {\\n                  \\\"id\\\": \\\"16cb96b6-bd29-4424-aa86-70dd67a383f5\\\",\\n                  \\\"name\\\": \\\"status\\\",\\n                  \\\"value\\\": \\\"done\\\",\\n                  \\\"type\\\": \\\"string\\\"\\n                }\\n              ]\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.set\\\",\\n          \\\"typeVersion\\\": 3.4,\\n          \\\"position\\\": [\\n            320,\\n            1120\\n          ],\\n          \\\"id\\\": \\\"1220c7dd-f49d-4561-b9b0-1f3f234f1485\\\",\\n          \\\"name\\\": \\\"Data3\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"method\\\": \\\"POST\\\",\\n            \\\"url\\\": \\\"https://dxunek.datadex.vn/webhook/zalo_on_message\\\",\\n            \\\"sendBody\\\": true,\\n            \\\"specifyBody\\\": \\\"json\\\",\\n            \\\"jsonBody\\\": \\\"={{ $('Data').first().json.toJsonString() }}\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"typeVersion\\\": 4.2,\\n          \\\"position\\\": [\\n            1792,\\n            1760\\n          ],\\n          \\\"id\\\": \\\"97197134-9ec9-4000-82cc-7e40cb5512d7\\\",\\n          \\\"name\\\": \\\"SendOnMessage\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"mode\\\": \\\"chooseBranch\\\"\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.merge\\\",\\n          \\\"typeVersion\\\": 3.1,\\n          \\\"position\\\": [\\n            1264,\\n            864\\n          ],\\n          \\\"id\\\": \\\"b7df5b23-cb11-4493-a0c5-0cc8623b25e6\\\",\\n          \\\"name\\\": \\\"Merge\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"content\\\": \\\"## Náº¿u tin nháº¯n lÃ  cá»§a ngÆ°á»i dÃ¹ng\\\",\\n            \\\"height\\\": 380,\\n            \\\"width\\\": 1980,\\n            \\\"color\\\": 3\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.stickyNote\\\",\\n          \\\"position\\\": [\\n            0,\\n            1568\\n          ],\\n          \\\"typeVersion\\\": 1,\\n          \\\"id\\\": \\\"e2d0fc12-e347-499a-ad84-932476759a73\\\",\\n          \\\"name\\\": \\\"Sticky Note7\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"operation\\\": \\\"upsert\\\",\\n            \\\"schema\\\": {\\n              \\\"__rl\\\": true,\\n              \\\"mode\\\": \\\"list\\\",\\n              \\\"value\\\": \\\"public\\\"\\n            },\\n            \\\"table\\\": {\\n              \\\"__rl\\\": true,\\n              \\\"value\\\": \\\"zl_included_users\\\",\\n              \\\"mode\\\": \\\"list\\\",\\n              \\\"cachedResultName\\\": \\\"zl_included_users\\\"\\n            },\\n            \\\"columns\\\": {\\n              \\\"mappingMode\\\": \\\"defineBelow\\\",\\n              \\\"value\\\": {\\n                \\\"key\\\": \\\"={{ $json.thread_id }}\\\",\\n                \\\"from_id\\\": \\\"={{ $json.from_id }}\\\",\\n                \\\"to_id\\\": \\\"={{ $json.to_id }}\\\"\\n              },\\n              \\\"matchingColumns\\\": [\\n                \\\"key\\\"\\n              ],\\n              \\\"schema\\\": [\\n                {\\n                  \\\"id\\\": \\\"id\\\",\\n                  \\\"displayName\\\": \\\"id\\\",\\n                  \\\"required\\\": false,\\n                  \\\"defaultMatch\\\": true,\\n                  \\\"display\\\": true,\\n                  \\\"type\\\": \\\"number\\\",\\n                  \\\"canBeUsedToMatch\\\": true,\\n                  \\\"removed\\\": true\\n                },\\n                {\\n                  \\\"id\\\": \\\"from_id\\\",\\n                  \\\"displayName\\\": \\\"from_id\\\",\\n                  \\\"required\\\": true,\\n                  \\\"defaultMatch\\\": false,\\n                  \\\"display\\\": true,\\n                  \\\"type\\\": \\\"string\\\",\\n                  \\\"canBeUsedToMatch\\\": false\\n                },\\n                {\\n                  \\\"id\\\": \\\"to_id\\\",\\n                  \\\"displayName\\\": \\\"to_id\\\",\\n                  \\\"required\\\": false,\\n                  \\\"defaultMatch\\\": false,\\n                  \\\"display\\\": true,\\n                  \\\"type\\\": \\\"string\\\",\\n                  \\\"canBeUsedToMatch\\\": false\\n                },\\n                {\\n                  \\\"id\\\": \\\"created_at\\\",\\n                  \\\"displayName\\\": \\\"created_at\\\",\\n                  \\\"required\\\": false,\\n                  \\\"defaultMatch\\\": false,\\n                  \\\"display\\\": true,\\n                  \\\"type\\\": \\\"dateTime\\\",\\n                  \\\"canBeUsedToMatch\\\": false,\\n                  \\\"removed\\\": true\\n                },\\n                {\\n                  \\\"id\\\": \\\"key\\\",\\n                  \\\"displayName\\\": \\\"key\\\",\\n                  \\\"required\\\": true,\\n                  \\\"defaultMatch\\\": false,\\n                  \\\"display\\\": true,\\n                  \\\"type\\\": \\\"string\\\",\\n                  \\\"canBeUsedToMatch\\\": true,\\n                  \\\"removed\\\": false\\n                }\\n              ],\\n              \\\"attemptToConvertTypes\\\": false,\\n              \\\"convertFieldsToString\\\": false\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.postgres\\\",\\n          \\\"typeVersion\\\": 2.6,\\n          \\\"position\\\": [\\n            1760,\\n            864\\n          ],\\n          \\\"id\\\": \\\"42836830-fb98-4a8b-bc32-386ed027f16e\\\",\\n          \\\"name\\\": \\\"InsertOrUpdateIncluded\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"content\\\": \\\"## Insert Or Update Included\\\\n- Náº¿u lÃ  ngÆ°á»i tháº­t thÃ¬ Ä‘Æ°a vÃ o danh sÃ¡ch loáº¡i trá»«\\\",\\n            \\\"height\\\": 240,\\n            \\\"width\\\": 320\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.stickyNote\\\",\\n          \\\"position\\\": [\\n            1648,\\n            784\\n          ],\\n          \\\"typeVersion\\\": 1,\\n          \\\"id\\\": \\\"c22e9173-df9a-43dc-8eb0-7a39e08a26bf\\\",\\n          \\\"name\\\": \\\"Sticky Note8\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"amount\\\": 1\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.wait\\\",\\n          \\\"typeVersion\\\": 1.1,\\n          \\\"position\\\": [\\n            560,\\n            848\\n          ],\\n          \\\"id\\\": \\\"5628721f-688b-4dca-a220-e494057b7352\\\",\\n          \\\"name\\\": \\\"Wait2\\\",\\n          \\\"webhookId\\\": \\\"47d5a2d8-d86d-45a5-a417-1585035545f9\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"operation\\\": \\\"get\\\",\\n            \\\"tableId\\\": \\\"zl_chats\\\",\\n            \\\"filters\\\": {\\n              \\\"conditions\\\": [\\n                {\\n                  \\\"keyName\\\": \\\"status\\\",\\n                  \\\"keyValue\\\": \\\"pending\\\"\\n                }\\n              ]\\n            }\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.supabase\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            2208,\\n            448\\n          ],\\n          \\\"id\\\": \\\"bf33edb0-763b-4934-b6d7-a5f37f974dc2\\\",\\n          \\\"name\\\": \\\"GetAllMessage\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"operation\\\": \\\"update\\\",\\n            \\\"tableId\\\": \\\"zl_chats\\\",\\n            \\\"filterType\\\": \\\"string\\\",\\n            \\\"filterString\\\": \\\"=id=in.({{ $('GetAllMessage').all().map(item => item.json.id) }})\\\",\\n            \\\"fieldsUi\\\": {\\n              \\\"fieldValues\\\": [\\n                {\\n                  \\\"fieldId\\\": \\\"status\\\",\\n                  \\\"fieldValue\\\": \\\"done\\\"\\n                }\\n              ]\\n            }\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.supabase\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            2528,\\n            448\\n          ],\\n          \\\"id\\\": \\\"30dc9b48-a4da-4528-b66d-c9bafbec4ee3\\\",\\n          \\\"name\\\": \\\"UpdateDoneMessage\\\",\\n          \\\"executeOnce\\\": true\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"jsCode\\\": \\\"return [\\\\n  {\\\\n    ... $('GetAllMessage').last().json,\\\\n    text: $('GetAllMessage').all().map(m => m.json.text).join(' '),\\\\n    content: $input.all()\\\\n  }\\\\n];\\\"\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.code\\\",\\n          \\\"typeVersion\\\": 2,\\n          \\\"position\\\": [\\n            2864,\\n            448\\n          ],\\n          \\\"id\\\": \\\"182dc6da-157c-4c1e-aa10-89fd355d7982\\\",\\n          \\\"name\\\": \\\"MergeMessage\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"promptType\\\": \\\"define\\\",\\n            \\\"text\\\": \\\"={{ $json.text }}\\\",\\n            \\\"options\\\": {\\n              \\\"systemMessage\\\": \\\"=# ROLE\\\\nrole: assistant\\\\nname: dinner_menu_bot\\\\ndescription: |\\\\n  Báº¡n lÃ  chatbot AI chuyÃªn há»— trá»£ tÆ° váº¥n thá»±c Ä‘Æ¡n buá»•i tá»‘i báº±ng tiáº¿ng Viá»‡t. \\\\n  Báº¡n cÅ©ng há»— trá»£ há»i thÃ´ng tin giao hÃ ng náº¿u ngÆ°á»i dÃ¹ng cÃ³ nhu cáº§u.\\\\n\\\\n# TOOL\\\\ntools:\\\\n  - name: data\\\\n    description: Truy xuáº¥t thá»±c Ä‘Æ¡n buá»•i tá»‘i. Má»—i má»¥c gá»“m:\\\\n      - \\\\\\\"TÃªn mÃ³n\\\\\\\": tÃªn mÃ³n Äƒn báº±ng tiáº¿ng Viá»‡t (khÃ´ng dá»‹ch)\\\\n      - \\\\\\\"GiÃ¡\\\\\\\": giÃ¡ mÃ³n Äƒn\\\\n      - \\\\\\\"áº£nh\\\\\\\": link áº£nh mÃ³n Äƒn (chá»‰ hiá»ƒn thá»‹ náº¿u ngÆ°á»i dÃ¹ng yÃªu cáº§u rÃµ rÃ ng)\\\\n\\\\n# TRIGGER KEYWORDS\\\\ntrigger_phrases:\\\\n  - \\\\\\\"menu\\\\\\\"\\\\n  - \\\\\\\"thá»±c Ä‘Æ¡n\\\\\\\"\\\\n  - \\\\\\\"tá»‘i nay cÃ³ mÃ³n gÃ¬\\\\\\\"\\\\n  - \\\\\\\"Äƒn gÃ¬\\\\\\\"\\\\n  - \\\\\\\"giÃ¡ bao nhiÃªu\\\\\\\"\\\\n  - \\\\\\\"mÃ³n chay cÃ³ khÃ´ng\\\\\\\"\\\\n  - \\\\\\\"cho xin thá»±c Ä‘Æ¡n\\\\\\\"\\\\n  - \\\\\\\"tá»‘i nay cÃ³ láº©u khÃ´ng\\\\\\\"\\\\n  - \\\\\\\"gá»£i Ã½ mÃ³n Äƒn tá»‘i\\\\\\\"\\\\n  - \\\\\\\"cÃ³ mÃ³n nÃ o ngon\\\\\\\"\\\\n  - \\\\\\\"mÃ³n máº·n\\\\\\\"\\\\n  - \\\\\\\"mÃ³n Äƒn nháº¹\\\\\\\"\\\\n  - \\\\\\\"ship\\\\\\\"\\\\n  - \\\\\\\"giao hÃ ng\\\\\\\"\\\\n  - \\\\\\\"cÃ³ giao hÃ ng khÃ´ng\\\\\\\"\\\\n  - \\\\\\\"giao táº­n nÆ¡i\\\\\\\"\\\\n  - \\\\\\\"mÃ¬nh muá»‘n Ä‘áº·t mÃ³n\\\\\\\"\\\\n  - \\\\\\\"ship tá»›i\\\\\\\"\\\\n\\\\n# RESPONSE RULES\\\\nbehavior:\\\\n  - LuÃ´n dÃ¹ng tool `data` Ä‘á»ƒ truy váº¥n mÃ³n Äƒn.\\\\n  - Chá»‰ pháº£n há»“i náº¿u ngÆ°á»i dÃ¹ng nÃ³i vá» thá»±c Ä‘Æ¡n buá»•i tá»‘i hoáº·c giao hÃ ng.\\\\n  - Náº¿u khÃ´ng liÃªn quan â†’ tráº£ lá»i:  \\\\n      \\\\\\\"Dáº¡ em lÃ  trá»£ lÃ½ AI, hiá»‡n táº¡i em chá»‰ há»— trá»£ tÆ° váº¥n thá»±c Ä‘Æ¡n vÃ  mÃ³n Äƒn buá»•i tá»‘i.  \\\\n      Báº¡n cáº§n xem menu hay Ä‘áº·t mÃ³n gÃ¬ khÃ´ng áº¡?\\\\\\\"\\\\n\\\\n# RESPONSE FORMAT\\\\nresponse_style:\\\\n  - Tráº£ lá»i thÃ¢n thiá»‡n, ngáº¯n gá»n, báº±ng tiáº¿ng Viá»‡t.\\\\n  - Hiá»ƒn thá»‹ mÃ³n Äƒn vÃ  giÃ¡ nhÆ° sau:\\\\n      ðŸš CÆ¡m gÃ  xá»‘i má»¡ â€“ 45.000Ä‘  \\\\n      ðŸ¥¢ BÃºn bÃ² Huáº¿ â€“ 50.000Ä‘  \\\\n      ðŸŒ± MÃ³n chay, láº©u, Äƒn váº·t vÃ  Ä‘á»“ uá»‘ng ná»¯a nhÃ©!  \\\\n      Báº¡n muá»‘n xem Ä‘áº§y Ä‘á»§ menu khÃ´ng áº¡?\\\\n\\\\n# IMAGE HANDLING\\\\nimage_handling:\\\\n  - âŒ KhÃ´ng bao giá» hiá»ƒn thá»‹ áº£nh náº¿u ngÆ°á»i dÃ¹ng khÃ´ng yÃªu cáº§u rÃµ rÃ ng.\\\\n  - âœ… Chá»‰ hiá»ƒn thá»‹ `data[\\\\\\\"áº£nh\\\\\\\"]` náº¿u ngÆ°á»i dÃ¹ng yÃªu cáº§u áº£nh báº±ng cÃ¡c cá»¥m nhÆ°:\\\\n      - \\\\\\\"cho mÃ¬nh xem áº£nh\\\\\\\", \\\\\\\"cÃ³ hÃ¬nh mÃ³n Ä‘Ã³ khÃ´ng\\\\\\\", \\\\\\\"cho xem áº£nh cÆ¡m gÃ \\\\\\\", v.v.\\\\n  - âŒ Náº¿u khÃ´ng cÃ³ áº£nh trong `data`, tráº£ lá»i:  \\\\n      \\\\\\\"Dáº¡ mÃ³n nÃ y hiá»‡n chÆ°a cÃ³ hÃ¬nh áº£nh áº¡.\\\\\\\"\\\\n  - âŒ KhÃ´ng Ä‘Æ°á»£c táº¡o áº£nh hoáº·c link áº£nh giáº£.\\\\n\\\\n# SHIPPING HANDLING\\\\nshipping_rules:\\\\n  - Náº¿u ngÆ°á»i dÃ¹ng há»i vá» ship/giao hÃ ng â†’ pháº£n há»“i:\\\\n      \\\\\\\"Dáº¡ bÃªn em cÃ³ há»— trá»£ giao hÃ ng áº¡.  \\\\n      MÃ¬nh vui lÃ²ng cho em xin Ä‘á»‹a chá»‰ nháº­n hÃ ng vÃ  sá»‘ Ä‘iá»‡n thoáº¡i Ä‘á»ƒ bÃªn em giao táº­n nÆ¡i nhÃ©!\\\\\\\"\\\\n\\\\n  - Náº¿u ngÆ°á»i dÃ¹ng Ä‘Ã£ chá»n mÃ³n vÃ  muá»‘n Ä‘áº·t â†’ gá»£i Ã½ tiáº¿p tá»¥c:  \\\\n      \\\\\\\"MÃ¬nh chá»n mÃ³n xong cÃ³ thá»ƒ gá»­i giÃºp em Ä‘á»‹a chá»‰ vÃ  sá»‘ Ä‘iá»‡n thoáº¡i Ä‘á»ƒ em lÃªn Ä‘Æ¡n giao liá»n nha!\\\\\\\"\\\\n\\\\n# MÃ“N KHÃ”NG CÃ“ TRONG DATA\\\\nno_data_handling:\\\\n  - Náº¿u `data` khÃ´ng cÃ³ mÃ³n Ä‘Æ°á»£c há»i â†’ tráº£ lá»i:\\\\n      \\\\\\\"Dáº¡ mÃ³n nÃ y hiá»‡n chÆ°a cÃ³ trong thá»±c Ä‘Æ¡n áº¡. Báº¡n muá»‘n xem mÃ³n khÃ¡c khÃ´ng?\\\\\\\"\\\\n\\\\n# STRICT RULES\\\\nstrict_data_policy:\\\\n  - âŒ KhÃ´ng Ä‘Æ°á»£c bá»‹a tÃªn mÃ³n, giÃ¡, hay áº£nh.\\\\n  - âœ… Chá»‰ dÃ¹ng Ä‘Ãºng dá»¯ liá»‡u tá»« tool `data`.\\\\n\\\\n# TONE\\\\ntone:\\\\n  - Giá»ng Ä‘iá»‡u thÃ¢n thiá»‡n, rÃµ rÃ ng, gáº§n gÅ©i\\\\n  - LuÃ´n dÃ¹ng tiáº¿ng Viá»‡t\\\\n\\\\n# MEMORY / CONTEXTUAL MEMORY\\\\nmemory_handling:\\\\n  - Náº¿u ngÆ°á»i dÃ¹ng Ä‘Ã£ cung cáº¥p Ä‘á»‹a chá»‰ vÃ /hoáº·c sá»‘ Ä‘iá»‡n thoáº¡i trÆ°á»›c Ä‘Ã³ trong cuá»™c trÃ² chuyá»‡n hiá»‡n táº¡i â†’ sá»­ dá»¥ng láº¡i, KHÃ”NG há»i láº¡i.\\\\n  - Náº¿u chÆ°a cÃ³ Ä‘á»‹a chá»‰ hoáº·c sï¿½ï¿½ Ä‘iá»‡n thoáº¡i â†’ lá»‹ch sá»± yÃªu cáº§u ngÆ°á»i dÃ¹ng cung cáº¥p.\\\\n  - LuÃ´n xÃ¡c nháº­n láº¡i Ä‘á»‹a chá»‰/sÄ‘t trÆ°á»›c khi xÃ¡c nháº­n Ä‘Æ¡n hÃ ng.\\\\n\\\\n\\\"\\n            }\\n          },\\n          \\\"type\\\": \\\"@n8n/n8n-nodes-langchain.agent\\\",\\n          \\\"typeVersion\\\": 1.9,\\n          \\\"position\\\": [\\n            3280,\\n            448\\n          ],\\n          \\\"id\\\": \\\"863b1234-c0fe-44cd-bdd7-91264649e032\\\",\\n          \\\"name\\\": \\\"AI Agent\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"model\\\": {\\n              \\\"__rl\\\": true,\\n              \\\"value\\\": \\\"gpt-4o\\\",\\n              \\\"mode\\\": \\\"list\\\",\\n              \\\"cachedResultName\\\": \\\"gpt-4o\\\"\\n            },\\n            \\\"options\\\": {\\n              \\\"temperature\\\": 0.2,\\n              \\\"topP\\\": 0.7\\n            }\\n          },\\n          \\\"type\\\": \\\"@n8n/n8n-nodes-langchain.lmChatOpenAi\\\",\\n          \\\"typeVersion\\\": 1.2,\\n          \\\"position\\\": [\\n            3248,\\n            672\\n          ],\\n          \\\"id\\\": \\\"5863baa8-103a-43c8-8509-485527191a4a\\\",\\n          \\\"name\\\": \\\"OpenAI Chat Model\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"sessionIdType\\\": \\\"customKey\\\",\\n            \\\"sessionKey\\\": \\\"={{ $json.thread_id }}\\\",\\n            \\\"tableName\\\": \\\"n8n_chat_histories_zl\\\"\\n          },\\n          \\\"type\\\": \\\"@n8n/n8n-nodes-langchain.memoryPostgresChat\\\",\\n          \\\"typeVersion\\\": 1.3,\\n          \\\"position\\\": [\\n            3408,\\n            672\\n          ],\\n          \\\"id\\\": \\\"20940017-0310-46bc-ba8b-929bf7749244\\\",\\n          \\\"name\\\": \\\"Postgres Chat Memory\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {},\\n          \\\"type\\\": \\\"n8n-nodes-zalos-user.zaloSendMessage\\\",\\n          \\\"typeVersion\\\": 4,\\n          \\\"position\\\": [\\n            3168,\\n            928\\n          ],\\n          \\\"id\\\": \\\"d2a42879-ab50-4300-8e7d-358f44f3eb03\\\",\\n          \\\"name\\\": \\\"Zalo Send Message\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"tableId\\\": \\\"zl_chats\\\",\\n            \\\"fieldsUi\\\": {\\n              \\\"fieldValues\\\": [\\n                {\\n                  \\\"fieldId\\\": \\\"from_id\\\",\\n                  \\\"fieldValue\\\": \\\"={{ $('MergeMessage').item.json.from_id }}\\\"\\n                },\\n                {\\n                  \\\"fieldId\\\": \\\"to_id\\\",\\n                  \\\"fieldValue\\\": \\\"={{ $('MergeMessage').item.json.to_id }}\\\"\\n                },\\n                {\\n                  \\\"fieldId\\\": \\\"thread_id\\\",\\n                  \\\"fieldValue\\\": \\\"={{ $json.threadId }}\\\"\\n                },\\n                {\\n                  \\\"fieldId\\\": \\\"timestamp\\\",\\n                  \\\"fieldValue\\\": \\\"={{ $now.toMillis() }}\\\"\\n                },\\n                {\\n                  \\\"fieldId\\\": \\\"message_id\\\",\\n                  \\\"fieldValue\\\": \\\"={{ $json.response.message.msgId }}\\\"\\n                },\\n                {\\n                  \\\"fieldId\\\": \\\"text\\\",\\n                  \\\"fieldValue\\\": \\\"={{ $json.messageContent.msg }}\\\"\\n                },\\n                {\\n                  \\\"fieldId\\\": \\\"status\\\",\\n                  \\\"fieldValue\\\": \\\"done\\\"\\n                },\\n                {\\n                  \\\"fieldId\\\": \\\"d_name\\\",\\n                  \\\"fieldValue\\\": \\\"={{ $('MergeMessage').last().json.d_name }}\\\"\\n                },\\n                {\\n                  \\\"fieldId\\\": \\\"is_bot\\\",\\n                  \\\"fieldValue\\\": \\\"true\\\"\\n                }\\n              ]\\n            }\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.supabase\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            3392,\\n            912\\n          ],\\n          \\\"id\\\": \\\"ffdb0a83-04c9-4a7d-9d9b-dfd6f8a18e8b\\\",\\n          \\\"name\\\": \\\"SaveToChats1\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {},\\n          \\\"type\\\": \\\"n8n-nodes-zalos-user.zaloSendMessage\\\",\\n          \\\"typeVersion\\\": 4,\\n          \\\"position\\\": [\\n            3920,\\n            1792\\n          ],\\n          \\\"id\\\": \\\"f92ecebe-161e-456c-9b0f-9ff7f5b4432d\\\",\\n          \\\"name\\\": \\\"Zalo Send Message1\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"model\\\": {\\n              \\\"__rl\\\": true,\\n              \\\"mode\\\": \\\"list\\\",\\n              \\\"value\\\": \\\"gpt-4o-mini\\\"\\n            },\\n            \\\"options\\\": {\\n              \\\"temperature\\\": 0.2\\n            }\\n          },\\n          \\\"type\\\": \\\"@n8n/n8n-nodes-langchain.lmChatOpenAi\\\",\\n          \\\"typeVersion\\\": 1.2,\\n          \\\"position\\\": [\\n            2448,\\n            1472\\n          ],\\n          \\\"id\\\": \\\"fd5895fb-0e56-4125-8d07-dbb134dd4d6a\\\",\\n          \\\"name\\\": \\\"OpenAI Chat Model2\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"schemaType\\\": \\\"manual\\\",\\n            \\\"inputSchema\\\": \\\"{\\\\n  \\\\\\\"type\\\\\\\": \\\\\\\"array\\\\\\\",\\\\n  \\\\\\\"items\\\\\\\": {\\\\n    \\\\\\\"type\\\\\\\": \\\\\\\"object\\\\\\\",\\\\n    \\\\\\\"properties\\\\\\\": {\\\\n      \\\\\\\"text\\\\\\\": {\\\\n        \\\\\\\"type\\\\\\\": \\\\\\\"string\\\\\\\"\\\\n      },\\\\n      \\\\\\\"image\\\\\\\": {\\\\n        \\\\\\\"type\\\\\\\": \\\\\\\"array\\\\\\\",\\\\n        \\\\\\\"items\\\\\\\": {\\\\n          \\\\\\\"type\\\\\\\": \\\\\\\"string\\\\\\\",\\\\n          \\\\\\\"format\\\\\\\": \\\\\\\"uri\\\\\\\"\\\\n        }\\\\n      }\\\\n    },\\\\n    \\\\\\\"required\\\\\\\": [\\\\\\\"text\\\\\\\", \\\\\\\"image\\\\\\\"]\\\\n  }\\\\n}\\\"\\n          },\\n          \\\"type\\\": \\\"@n8n/n8n-nodes-langchain.outputParserStructured\\\",\\n          \\\"typeVersion\\\": 1.2,\\n          \\\"position\\\": [\\n            2624,\\n            1472\\n          ],\\n          \\\"id\\\": \\\"1e24ada9-f2e9-4db9-9e6f-d9aa4ef0829b\\\",\\n          \\\"name\\\": \\\"Structured Output Parser\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"promptType\\\": \\\"define\\\",\\n            \\\"text\\\": \\\"={{ $json.output }}\\\",\\n            \\\"hasOutputParser\\\": true,\\n            \\\"messages\\\": {\\n              \\\"messageValues\\\": [\\n                {\\n                  \\\"message\\\": \\\"Chuyá»ƒn Ä‘oáº¡n ná»™i dung dÆ°á»›i Ä‘Ã¢y thÃ nh máº£ng JSON theo format: [{ \\\\\\\"text\\\\\\\": \\\\\\\"nd\\\\\\\", \\\\\\\"image\\\\\\\": [\\\\\\\"url1\\\\\\\", \\\\\\\"url2\\\\\\\"] }] Vá»›i má»—i má»¥c, \\\\\\\"text\\\\\\\" lÃ  pháº§n mÃ´ táº£ cá»§a hÃ¬nh áº£nh vÃ  \\\\\\\"image\\\\\\\" lÃ  máº£ng chá»©a link cÃ¡c áº£nh trong má»¥c Ä‘Ã³. Bá» qua Ä‘á»‹nh dáº¡ng Markdown, chá»‰ láº¥y ná»™i dung vÃ  link áº£nh.\\\"\\n                }\\n              ]\\n            }\\n          },\\n          \\\"type\\\": \\\"@n8n/n8n-nodes-langchain.chainLlm\\\",\\n          \\\"typeVersion\\\": 1.6,\\n          \\\"position\\\": [\\n            2448,\\n            1264\\n          ],\\n          \\\"id\\\": \\\"19395a09-c410-47df-a68f-0c0f254b59cd\\\",\\n          \\\"name\\\": \\\"Basic LLM Chain\\\",\\n          \\\"retryOnFail\\\": true\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"fieldToSplitOut\\\": \\\"output\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.splitOut\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            2800,\\n            1264\\n          ],\\n          \\\"id\\\": \\\"c1a05972-9da7-42cc-9816-09406e58bf5d\\\",\\n          \\\"name\\\": \\\"Split Out2\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.splitInBatches\\\",\\n          \\\"typeVersion\\\": 3,\\n          \\\"position\\\": [\\n            3024,\\n            1264\\n          ],\\n          \\\"id\\\": \\\"f265a809-12e0-47cd-abf5-988763bf7e79\\\",\\n          \\\"name\\\": \\\"Loop Over Items\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"fieldToSplitOut\\\": \\\"image\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.splitOut\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            3088,\\n            1584\\n          ],\\n          \\\"id\\\": \\\"139736b9-f6e4-4fc4-a5d0-c66d6af724a4\\\",\\n          \\\"name\\\": \\\"Split Out3\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"documentId\\\": {\\n              \\\"__rl\\\": true,\\n              \\\"value\\\": \\\"https://docs.google.com/spreadsheets/d/1tbbkYaSAG8GIx8Ul1kL_3yOC6f9d7leiTwL2eYSzUiU/edit?gid=0#gid=0\\\",\\n              \\\"mode\\\": \\\"url\\\"\\n            },\\n            \\\"sheetName\\\": {\\n              \\\"__rl\\\": true,\\n              \\\"value\\\": \\\"gid=0\\\",\\n              \\\"mode\\\": \\\"list\\\",\\n              \\\"cachedResultName\\\": \\\"data\\\",\\n              \\\"cachedResultUrl\\\": \\\"https://docs.google.com/spreadsheets/d/1tbbkYaSAG8GIx8Ul1kL_3yOC6f9d7leiTwL2eYSzUiU/edit#gid=0\\\"\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.googleSheetsTool\\\",\\n          \\\"typeVersion\\\": 4.6,\\n          \\\"position\\\": [\\n            3552,\\n            672\\n          ],\\n          \\\"id\\\": \\\"346684e8-82b4-41ae-aacd-9b91f70d032d\\\",\\n          \\\"name\\\": \\\"data\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"tableId\\\": \\\"zl_chats\\\",\\n            \\\"fieldsUi\\\": {\\n              \\\"fieldValues\\\": [\\n                {\\n                  \\\"fieldId\\\": \\\"from_id\\\",\\n                  \\\"fieldValue\\\": \\\"={{ $('MergeMessage').item.json.from_id }}\\\"\\n                },\\n                {\\n                  \\\"fieldId\\\": \\\"to_id\\\",\\n                  \\\"fieldValue\\\": \\\"={{ $('MergeMessage').item.json.to_id }}\\\"\\n                },\\n                {\\n                  \\\"fieldId\\\": \\\"thread_id\\\",\\n                  \\\"fieldValue\\\": \\\"={{ $json.threadId }}\\\"\\n                },\\n                {\\n                  \\\"fieldId\\\": \\\"timestamp\\\",\\n                  \\\"fieldValue\\\": \\\"={{ $now.toMillis() }}\\\"\\n                },\\n                {\\n                  \\\"fieldId\\\": \\\"message_id\\\",\\n                  \\\"fieldValue\\\": \\\"={{ $json.response.attachment[0].msgId }}\\\"\\n                },\\n                {\\n                  \\\"fieldId\\\": \\\"text\\\",\\n                  \\\"fieldValue\\\": \\\"={{ $json.messageContent.msg }}\\\"\\n                },\\n                {\\n                  \\\"fieldId\\\": \\\"status\\\",\\n                  \\\"fieldValue\\\": \\\"done\\\"\\n                },\\n                {\\n                  \\\"fieldId\\\": \\\"d_name\\\",\\n                  \\\"fieldValue\\\": \\\"={{ $('MergeMessage').last().json.d_name }}\\\"\\n                },\\n                {\\n                  \\\"fieldId\\\": \\\"is_bot\\\",\\n                  \\\"fieldValue\\\": \\\"true\\\"\\n                }\\n              ]\\n            }\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.supabase\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            4288,\\n            1792\\n          ],\\n          \\\"id\\\": \\\"b1114e2a-a6db-4165-90a6-4d12e64e602c\\\",\\n          \\\"name\\\": \\\"SaveToChats2\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {},\\n          \\\"type\\\": \\\"n8n-nodes-base.wait\\\",\\n          \\\"typeVersion\\\": 1.1,\\n          \\\"position\\\": [\\n            4752,\\n            1792\\n          ],\\n          \\\"id\\\": \\\"29aadac6-bfce-4171-bc2b-25c80847956a\\\",\\n          \\\"name\\\": \\\"Wait\\\",\\n          \\\"webhookId\\\": \\\"49f92e25-7578-4763-84df-ed87c3dad3e7\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"respondWith\\\": \\\"allIncomingItems\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.respondToWebhook\\\",\\n          \\\"typeVersion\\\": 1.2,\\n          \\\"position\\\": [\\n            2448,\\n            192\\n          ],\\n          \\\"id\\\": \\\"6afa3641-983b-47ba-9855-6bd66d939cb8\\\",\\n          \\\"name\\\": \\\"Respond to Webhook\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {},\\n          \\\"type\\\": \\\"n8n-nodes-debounce.debouncePostgres\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            2880,\\n            192\\n          ],\\n          \\\"id\\\": \\\"0d6c2911-e7b9-4155-9e75-4ada8cc48c8c\\\",\\n          \\\"name\\\": \\\"Debounce Postgres\\\",\\n          \\\"credentials\\\": {}\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"httpMethod\\\": \\\"POST\\\",\\n            \\\"path\\\": \\\"zalo_on_message\\\",\\n            \\\"responseMode\\\": \\\"responseNode\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.webhook\\\",\\n          \\\"typeVersion\\\": 2,\\n          \\\"position\\\": [\\n            2224,\\n            192\\n          ],\\n          \\\"id\\\": \\\"d2bf0f96-8cca-4bf4-a3c9-69dd8df56f5c\\\",\\n          \\\"name\\\": \\\"OnMessage\\\",\\n          \\\"webhookId\\\": \\\"ef7c2705-2b91-46bf-bd98-7d6bc8165d40\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"conditions\\\": {\\n              \\\"options\\\": {\\n                \\\"caseSensitive\\\": true,\\n                \\\"leftValue\\\": \\\"\\\",\\n                \\\"typeValidation\\\": \\\"strict\\\",\\n                \\\"version\\\": 2\\n              },\\n              \\\"conditions\\\": [\\n                {\\n                  \\\"id\\\": \\\"3688a7eb-5667-4758-8bc4-67d82423784d\\\",\\n                  \\\"leftValue\\\": \\\"={{ $json.output }}\\\",\\n                  \\\"rightValue\\\": \\\"https?://[^\\\\\\\\s\\\\\\\"']+\\\",\\n                  \\\"operator\\\": {\\n                    \\\"type\\\": \\\"string\\\",\\n                    \\\"operation\\\": \\\"notRegex\\\"\\n                  }\\n                }\\n              ],\\n              \\\"combinator\\\": \\\"and\\\"\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.if\\\",\\n          \\\"typeVersion\\\": 2.2,\\n          \\\"position\\\": [\\n            2192,\\n            912\\n          ],\\n          \\\"id\\\": \\\"1ac6292c-4f0a-4b1d-8546-b9f39c671df1\\\",\\n          \\\"name\\\": \\\"IfExistLink\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"content\\\": \\\"## LÆ°u tin nháº¯n\\\\n- LÆ°u láº¡i tin nháº¯n vÃ o csdl\\\",\\n            \\\"height\\\": 220,\\n            \\\"width\\\": 320\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.stickyNote\\\",\\n          \\\"position\\\": [\\n            3328,\\n            832\\n          ],\\n          \\\"typeVersion\\\": 1,\\n          \\\"id\\\": \\\"7aa339d0-c24f-45d4-827c-afd6b370d2e6\\\",\\n          \\\"name\\\": \\\"Sticky Note9\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"content\\\": \\\"## PhÃ¢n tÃ¡ch tin nháº¯n cÃ³ kÃ¨m áº£nh\\\\n- Sá»­ dá»¥ng AI Ä‘á»ƒ phÃ¢n tÃ¡ch tin nháº¯n kÃ¨m áº£nh\\\",\\n            \\\"height\\\": 240,\\n            \\\"width\\\": 520\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.stickyNote\\\",\\n          \\\"position\\\": [\\n            2432,\\n            1168\\n          ],\\n          \\\"typeVersion\\\": 1,\\n          \\\"id\\\": \\\"33f49485-8fd9-4576-b512-62f0137dafc3\\\",\\n          \\\"name\\\": \\\"Sticky Note10\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {},\\n          \\\"type\\\": \\\"n8n-nodes-base.noOp\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            2192,\\n            1264\\n          ],\\n          \\\"id\\\": \\\"cd53fccc-ee8f-453a-b384-61dc25821d2d\\\",\\n          \\\"name\\\": \\\"Tin nháº¯n cÃ³ áº£nh\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {},\\n          \\\"type\\\": \\\"n8n-nodes-base.noOp\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            2752,\\n            928\\n          ],\\n          \\\"id\\\": \\\"c25580bc-0bda-415d-bbc3-970012d48037\\\",\\n          \\\"name\\\": \\\"Tin nháº¯n khÃ´ng áº£nh\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"content\\\": \\\"## Tráº£ lá»i tin nháº¯n\\\\n- Náº¿u Ä‘oáº¡n tin nháº¯n nÃ y khÃ´ng cÃ³ áº£nh\\\",\\n            \\\"height\\\": 220,\\n            \\\"width\\\": 340\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.stickyNote\\\",\\n          \\\"position\\\": [\\n            3520,\\n            1184\\n          ],\\n          \\\"typeVersion\\\": 1,\\n          \\\"id\\\": \\\"fbc31d90-157d-4215-bc9e-70cc961916a3\\\",\\n          \\\"name\\\": \\\"Sticky Note11\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {},\\n          \\\"type\\\": \\\"n8n-nodes-zalos-user.zaloSendMessage\\\",\\n          \\\"typeVersion\\\": 4,\\n          \\\"position\\\": [\\n            3664,\\n            1264\\n          ],\\n          \\\"id\\\": \\\"697da062-f831-4fb5-9354-60d563fdd1f7\\\",\\n          \\\"name\\\": \\\"Zalo Send Message2\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"tableId\\\": \\\"zl_chats\\\",\\n            \\\"fieldsUi\\\": {\\n              \\\"fieldValues\\\": [\\n                {\\n                  \\\"fieldId\\\": \\\"from_id\\\",\\n                  \\\"fieldValue\\\": \\\"={{ $('MergeMessage').item.json.from_id }}\\\"\\n                },\\n                {\\n                  \\\"fieldId\\\": \\\"to_id\\\",\\n                  \\\"fieldValue\\\": \\\"={{ $('MergeMessage').item.json.to_id }}\\\"\\n                },\\n                {\\n                  \\\"fieldId\\\": \\\"thread_id\\\",\\n                  \\\"fieldValue\\\": \\\"={{ $json.threadId }}\\\"\\n                },\\n                {\\n                  \\\"fieldId\\\": \\\"timestamp\\\",\\n                  \\\"fieldValue\\\": \\\"={{ $now.toMillis() }}\\\"\\n                },\\n                {\\n                  \\\"fieldId\\\": \\\"message_id\\\",\\n                  \\\"fieldValue\\\": \\\"={{ $json.response.attachment[0].msgId }}\\\"\\n                },\\n                {\\n                  \\\"fieldId\\\": \\\"text\\\",\\n                  \\\"fieldValue\\\": \\\"={{ $json.messageContent.msg }}\\\"\\n                },\\n                {\\n                  \\\"fieldId\\\": \\\"status\\\",\\n                  \\\"fieldValue\\\": \\\"done\\\"\\n                },\\n                {\\n                  \\\"fieldId\\\": \\\"d_name\\\",\\n                  \\\"fieldValue\\\": \\\"={{ $('MergeMessage').last().json.d_name }}\\\"\\n                },\\n                {\\n                  \\\"fieldId\\\": \\\"is_bot\\\",\\n                  \\\"fieldValue\\\": \\\"true\\\"\\n                }\\n              ]\\n            }\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.supabase\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            3952,\\n            1264\\n          ],\\n          \\\"id\\\": \\\"006a6787-12ae-490c-a6e1-c9b850658b44\\\",\\n          \\\"name\\\": \\\"SaveToChats3\\\",\\n          \\\"retryOnFail\\\": false\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"conditions\\\": {\\n              \\\"options\\\": {\\n                \\\"caseSensitive\\\": true,\\n                \\\"leftValue\\\": \\\"\\\",\\n                \\\"typeValidation\\\": \\\"loose\\\",\\n                \\\"version\\\": 2\\n              },\\n              \\\"conditions\\\": [\\n                {\\n                  \\\"id\\\": \\\"4a008533-4c98-4124-b3b5-e13b3f1e22a9\\\",\\n                  \\\"leftValue\\\": \\\"={{ $json.image }}\\\",\\n                  \\\"rightValue\\\": \\\"\\\",\\n                  \\\"operator\\\": {\\n                    \\\"type\\\": \\\"string\\\",\\n                    \\\"operation\\\": \\\"empty\\\",\\n                    \\\"singleValue\\\": true\\n                  }\\n                }\\n              ],\\n              \\\"combinator\\\": \\\"and\\\"\\n            },\\n            \\\"looseTypeValidation\\\": true,\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.if\\\",\\n          \\\"typeVersion\\\": 2.2,\\n          \\\"position\\\": [\\n            3328,\\n            1264\\n          ],\\n          \\\"id\\\": \\\"7f88059e-f8be-4ae7-8422-700a34c9ece4\\\",\\n          \\\"name\\\": \\\"IfNotImage\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"content\\\": \\\"## LÆ°u tin nháº¯n\\\\n- LÆ°u láº¡i tin nháº¯n vÃ o csdl\\\",\\n            \\\"height\\\": 220,\\n            \\\"width\\\": 580\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.stickyNote\\\",\\n          \\\"position\\\": [\\n            3888,\\n            1184\\n          ],\\n          \\\"typeVersion\\\": 1,\\n          \\\"id\\\": \\\"c4cef9e1-03f2-4e55-8ff1-ce58f449ecc4\\\",\\n          \\\"name\\\": \\\"Sticky Note12\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"content\\\": \\\"## PhÃ¢n tÃ¡ch\\\\n- PhÃ¢n tÃ¡ch link áº£nh náº¿u Ä‘oáº¡n tin cÃ³ nhiá»u link áº£nh\\\",\\n            \\\"height\\\": 260,\\n            \\\"width\\\": 200\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.stickyNote\\\",\\n          \\\"position\\\": [\\n            3040,\\n            1472\\n          ],\\n          \\\"typeVersion\\\": 1,\\n          \\\"id\\\": \\\"db410eda-2db2-43f0-bb2e-11058c8764f2\\\",\\n          \\\"name\\\": \\\"Sticky Note13\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"content\\\": \\\"## PhÃ¢n loáº¡i link áº£nh\\\\n- xem link áº£nh lÃ  link drive hay link self host\\\",\\n            \\\"height\\\": 260\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.stickyNote\\\",\\n          \\\"position\\\": [\\n            3264,\\n            1472\\n          ],\\n          \\\"typeVersion\\\": 1,\\n          \\\"id\\\": \\\"669df36a-3861-4a37-8fea-f64bdb2f5c3c\\\",\\n          \\\"name\\\": \\\"Sticky Note14\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {},\\n          \\\"type\\\": \\\"n8n-nodes-base.noOp\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            3664,\\n            1488\\n          ],\\n          \\\"id\\\": \\\"1fd963a2-be69-4885-86a3-72bb783297af\\\",\\n          \\\"name\\\": \\\"Link áº£nh server cÃ¡ nhÃ¢n\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"assignments\\\": {\\n              \\\"assignments\\\": [\\n                {\\n                  \\\"id\\\": \\\"4472944c-60c5-4af8-a5cd-6d502e9921c4\\\",\\n                  \\\"name\\\": \\\"=image\\\",\\n                  \\\"value\\\": \\\"=https://dxunek.datadex.vn/webhook/f6084433-b03b-4c23-9e67-704ca3ba2812?url={{ $json.image }}\\\",\\n                  \\\"type\\\": \\\"string\\\"\\n                }\\n              ]\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.set\\\",\\n          \\\"typeVersion\\\": 3.4,\\n          \\\"position\\\": [\\n            3664,\\n            1792\\n          ],\\n          \\\"id\\\": \\\"0560ed3c-9ff6-4469-b1b3-1e82dd97545f\\\",\\n          \\\"name\\\": \\\"Link áº£nh drive\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"content\\\": \\\"## Tráº£ lá»i tin nháº¯n\\\\n- Tráº£ lá»i tin nháº¯n kÃ¨m theo áº£nh\\\",\\n            \\\"height\\\": 240,\\n            \\\"width\\\": 260\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.stickyNote\\\",\\n          \\\"position\\\": [\\n            3888,\\n            1680\\n          ],\\n          \\\"typeVersion\\\": 1,\\n          \\\"id\\\": \\\"b1faf2f0-7bd3-4bd3-9783-221ad29bcbaa\\\",\\n          \\\"name\\\": \\\"Sticky Note15\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"content\\\": \\\"## LÆ°u tin nháº¯n\\\\n- LÆ°u láº¡i tin nháº¯n vÃ o csdl\\\",\\n            \\\"height\\\": 240,\\n            \\\"width\\\": 300\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.stickyNote\\\",\\n          \\\"position\\\": [\\n            4160,\\n            1680\\n          ],\\n          \\\"typeVersion\\\": 1,\\n          \\\"id\\\": \\\"afe2096c-d0c1-46ed-bf85-b8bd9cbcc75f\\\",\\n          \\\"name\\\": \\\"Sticky Note16\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"assignments\\\": {\\n              \\\"assignments\\\": [\\n                {\\n                  \\\"id\\\": \\\"cbcd35cb-2d2b-4d3f-b0e2-d2b9411a4c7c\\\",\\n                  \\\"name\\\": \\\"message_id\\\",\\n                  \\\"value\\\": \\\"={{ $json.body.message_id }}\\\",\\n                  \\\"type\\\": \\\"string\\\"\\n                },\\n                {\\n                  \\\"id\\\": \\\"3a94490b-3090-44a5-b63d-003235c06a74\\\",\\n                  \\\"name\\\": \\\"text\\\",\\n                  \\\"value\\\": \\\"={{ $json.body.text }}\\\",\\n                  \\\"type\\\": \\\"string\\\"\\n                },\\n                {\\n                  \\\"id\\\": \\\"05c893f0-f84d-4d19-a457-65b7aa38b3f9\\\",\\n                  \\\"name\\\": \\\"d_name\\\",\\n                  \\\"value\\\": \\\"={{ $json.body.d_name }}\\\",\\n                  \\\"type\\\": \\\"string\\\"\\n                },\\n                {\\n                  \\\"id\\\": \\\"4065e882-8075-42e3-92a6-e21827ee00da\\\",\\n                  \\\"name\\\": \\\"from_id\\\",\\n                  \\\"value\\\": \\\"={{ $json.body.from_id }}\\\",\\n                  \\\"type\\\": \\\"string\\\"\\n                },\\n                {\\n                  \\\"id\\\": \\\"a86f5164-d6ab-431e-a997-9316e88fe084\\\",\\n                  \\\"name\\\": \\\"to_id\\\",\\n                  \\\"value\\\": \\\"={{ $json.body.to_id }}\\\",\\n                  \\\"type\\\": \\\"string\\\"\\n                },\\n                {\\n                  \\\"id\\\": \\\"f39b34cc-5087-4765-8a91-eb573b902382\\\",\\n                  \\\"name\\\": \\\"thread_id\\\",\\n                  \\\"value\\\": \\\"={{ $json.body.threadld }}\\\",\\n                  \\\"type\\\": \\\"string\\\"\\n                },\\n                {\\n                  \\\"id\\\": \\\"d40c524c-6c85-4ff4-bdf5-a57bf2701162\\\",\\n                  \\\"name\\\": \\\"key\\\",\\n                  \\\"value\\\": \\\"={{ $json.body.key }}\\\",\\n                  \\\"type\\\": \\\"string\\\"\\n                },\\n                {\\n                  \\\"id\\\": \\\"b691f74d-e71a-4021-84d2-37b5f1c860ed\\\",\\n                  \\\"name\\\": \\\"timestamp\\\",\\n                  \\\"value\\\": \\\"={{ $json.body.timestamp }}\\\",\\n                  \\\"type\\\": \\\"string\\\"\\n                }\\n              ]\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.set\\\",\\n          \\\"typeVersion\\\": 3.4,\\n          \\\"position\\\": [\\n            2672,\\n            192\\n          ],\\n          \\\"id\\\": \\\"20409134-9f47-4099-a1a8-564fc4a0faf2\\\",\\n          \\\"name\\\": \\\"BodyData\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"rules\\\": {\\n              \\\"values\\\": [\\n                {\\n                  \\\"conditions\\\": {\\n                    \\\"options\\\": {\\n                      \\\"caseSensitive\\\": true,\\n                      \\\"leftValue\\\": \\\"\\\",\\n                      \\\"typeValidation\\\": \\\"strict\\\",\\n                      \\\"version\\\": 2\\n                    },\\n                    \\\"conditions\\\": [\\n                      {\\n                        \\\"leftValue\\\": \\\"={{ encodeURI($json.image) }}\\\",\\n                        \\\"rightValue\\\": \\\"/https?:\\\\\\\\/\\\\\\\\/[^\\\\\\\\s]+?\\\\\\\\.(jpg|jpeg|png|gif)(\\\\\\\\?[^\\\\\\\\s]*)?/gi\\\",\\n                        \\\"operator\\\": {\\n                          \\\"type\\\": \\\"string\\\",\\n                          \\\"operation\\\": \\\"regex\\\"\\n                        },\\n                        \\\"id\\\": \\\"5bfc1fd6-bf94-4cae-b1fe-266c29502ad6\\\"\\n                      }\\n                    ],\\n                    \\\"combinator\\\": \\\"and\\\"\\n                  },\\n                  \\\"renameOutput\\\": true,\\n                  \\\"outputKey\\\": \\\"link\\\"\\n                },\\n                {\\n                  \\\"conditions\\\": {\\n                    \\\"options\\\": {\\n                      \\\"caseSensitive\\\": true,\\n                      \\\"leftValue\\\": \\\"\\\",\\n                      \\\"typeValidation\\\": \\\"strict\\\",\\n                      \\\"version\\\": 2\\n                    },\\n                    \\\"conditions\\\": [\\n                      {\\n                        \\\"id\\\": \\\"4aa7cbe6-2423-490c-8b4d-9bbc8b951b75\\\",\\n                        \\\"leftValue\\\": \\\"={{ $json.image }}\\\",\\n                        \\\"rightValue\\\": \\\"https?://(?:drive\\\\\\\\.google\\\\\\\\.com|docs\\\\\\\\.google\\\\\\\\.com)/[^\\\\\\\\s\\\\\\\"']+\\\",\\n                        \\\"operator\\\": {\\n                          \\\"type\\\": \\\"string\\\",\\n                          \\\"operation\\\": \\\"regex\\\"\\n                        }\\n                      }\\n                    ],\\n                    \\\"combinator\\\": \\\"and\\\"\\n                  },\\n                  \\\"renameOutput\\\": true,\\n                  \\\"outputKey\\\": \\\"driver\\\"\\n                }\\n              ]\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.switch\\\",\\n          \\\"typeVersion\\\": 3.2,\\n          \\\"position\\\": [\\n            3360,\\n            1584\\n          ],\\n          \\\"id\\\": \\\"6b69fa18-a611-4e4a-86eb-bd48301cc658\\\",\\n          \\\"name\\\": \\\"Switch2\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"content\\\": \\\"## Chá» ngÆ°á»i dÃ¹ng tráº£ lá»i\\\\n- NgÆ°á»i dÃ¹ng cÃ³ thá»ƒ tráº£ lá»i ngáº¯t quÃ£ng\\\",\\n            \\\"height\\\": 260,\\n            \\\"width\\\": 300\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.stickyNote\\\",\\n          \\\"position\\\": [\\n            2848,\\n            80\\n          ],\\n          \\\"typeVersion\\\": 1,\\n          \\\"id\\\": \\\"ecadd55c-c867-4aa8-8f9d-1a8d597eb466\\\",\\n          \\\"name\\\": \\\"Sticky Note17\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"content\\\": \\\"## Get All Message\\\\n- Láº¥y ra toÃ n bá»™ tin nháº¯n cá»§a ngÆ°á»i dÃ¹ng\\\",\\n            \\\"height\\\": 240,\\n            \\\"width\\\": 320\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.stickyNote\\\",\\n          \\\"position\\\": [\\n            2144,\\n            368\\n          ],\\n          \\\"typeVersion\\\": 1,\\n          \\\"id\\\": \\\"27e3e03f-002d-4cb0-befc-38435dce2cb9\\\",\\n          \\\"name\\\": \\\"Sticky Note18\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"content\\\": \\\"## Cáº­p nháº­t tráº¡ng thÃ¡i\\\\n- Äá»•i tráº¡ng thÃ¡i pending sang done\\\",\\n            \\\"height\\\": 240,\\n            \\\"width\\\": 340\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.stickyNote\\\",\\n          \\\"position\\\": [\\n            2480,\\n            368\\n          ],\\n          \\\"typeVersion\\\": 1,\\n          \\\"id\\\": \\\"216b36d4-edcc-430b-baee-6a1ac651ec84\\\",\\n          \\\"name\\\": \\\"Sticky Note19\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"content\\\": \\\"## Gá»™p tin nháº¯n\\\\n- Gá»™p toÃ n bá»™ tin nháº¯n láº¡i thÃ nh 1 tin nháº¯n\\\\n\\\",\\n            \\\"height\\\": 240,\\n            \\\"width\\\": 360\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.stickyNote\\\",\\n          \\\"position\\\": [\\n            2848,\\n            368\\n          ],\\n          \\\"typeVersion\\\": 1,\\n          \\\"id\\\": \\\"78297f41-a44b-40cc-b06c-2be9909f3c8b\\\",\\n          \\\"name\\\": \\\"Sticky Note20\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"content\\\": \\\"## AI Agent\\\\n- Sá»­ dá»¥ng AI Agent Ä‘á»ƒ tráº£ lá»i tin nháº¯n\\\",\\n            \\\"height\\\": 240,\\n            \\\"width\\\": 420\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.stickyNote\\\",\\n          \\\"position\\\": [\\n            3232,\\n            368\\n          ],\\n          \\\"typeVersion\\\": 1,\\n          \\\"id\\\": \\\"28340180-c050-47ba-ac82-d64534fd452e\\\",\\n          \\\"name\\\": \\\"Sticky Note21\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"content\\\": \\\"## PhÃ¢n nhÃ¡nh\\\\n- Kiá»ƒm tra xem trong ná»™i dung tráº£ lá»i cÃ³ áº£nh hay khÃ´ng Ä‘á»ƒ phÃ¢n nhÃ¡nh\\\",\\n            \\\"height\\\": 220,\\n            \\\"width\\\": 520\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.stickyNote\\\",\\n          \\\"position\\\": [\\n            2144,\\n            832\\n          ],\\n          \\\"typeVersion\\\": 1,\\n          \\\"id\\\": \\\"18c79fb0-2b41-4af2-9152-0bf0dbe26611\\\",\\n          \\\"name\\\": \\\"Sticky Note22\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"content\\\": \\\"## Tráº£ lá»i tin nháº¯n\\\\n- Náº¿u ná»™i dung cÃ¢u tráº£ lá»i khÃ´ng cÃ³ áº£nh. ThÃ¬ ta gá»­i luÃ´n cÃ¢u tráº£ lá»i vá» cho ngÆ°á»i dÃ¹ng\\\",\\n            \\\"height\\\": 220,\\n            \\\"width\\\": 620\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.stickyNote\\\",\\n          \\\"position\\\": [\\n            2688,\\n            832\\n          ],\\n          \\\"typeVersion\\\": 1,\\n          \\\"id\\\": \\\"117c6661-631d-4b8e-a4d8-b5e488a3abfd\\\",\\n          \\\"name\\\": \\\"Sticky Note23\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"path\\\": \\\"f6084433-b03b-4c23-9e67-704ca3ba2813\\\",\\n            \\\"responseMode\\\": \\\"responseNode\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.webhook\\\",\\n          \\\"typeVersion\\\": 2,\\n          \\\"position\\\": [\\n            480,\\n            112\\n          ],\\n          \\\"id\\\": \\\"ffd9fe22-6b9d-418f-9327-4f10d4d44cfa\\\",\\n          \\\"name\\\": \\\"DownloadFile\\\",\\n          \\\"webhookId\\\": \\\"f6084433-b03b-4c23-9e67-704ca3ba2812\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"content\\\": \\\"## Táº¡o link áº£nh drive\\\\n- Nhá»› thay link Ä‘Æ°á»£c láº¥y tá»« webhook DownloadFile\\\",\\n            \\\"height\\\": 240,\\n            \\\"width\\\": 340\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.stickyNote\\\",\\n          \\\"position\\\": [\\n            3520,\\n            1680\\n          ],\\n          \\\"typeVersion\\\": 1,\\n          \\\"id\\\": \\\"5970d551-e39f-4d27-bd54-af20a0d263a5\\\",\\n          \\\"name\\\": \\\"Sticky Note27\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {},\\n          \\\"type\\\": \\\"n8n-nodes-base.noOp\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            4288,\\n            1264\\n          ],\\n          \\\"id\\\": \\\"a7f83e70-d1d2-4eb3-bd65-d2abd28fb40f\\\",\\n          \\\"name\\\": \\\"No Operation, do nothing\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"respondWith\\\": \\\"binary\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.respondToWebhook\\\",\\n          \\\"typeVersion\\\": 1.4,\\n          \\\"position\\\": [\\n            864,\\n            112\\n          ],\\n          \\\"id\\\": \\\"7a0ba287-f74b-4308-99dd-90e24af2c128\\\",\\n          \\\"name\\\": \\\"Respond to Webhook1\\\"\\n        }\\n      ],\\n      \\\"connections\\\": {\\n        \\\"CreateIncludedTable\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"CreateDebounceTable\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"CreateChatsTable\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"CreateIncludedTable\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"When clicking â€˜Test workflowâ€™\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"CreateChatsTable\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Zalo Message Trigger\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"If\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"If\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Switch1\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ],\\n            [\\n              {\\n                \\\"node\\\": \\\"Switch\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Switch\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Data\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"SaveToChats\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"GetUserIncluded\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"GetUserIncluded\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"IfDoesNotExist\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"IfDoesNotExist\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"SendOnMessage\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Data\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"FindById2\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Data2\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Wait2\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"FindById\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"IfExistsMessage\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"IfExistsMessage\\\": {\\n          \\\"main\\\": [\\n            [],\\n            [\\n              {\\n                \\\"node\\\": \\\"Merge\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 1\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"SaveMessage\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"InsertOrUpdateIncluded\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"FindById2\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"IfExistsMessage2\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"IfExistsMessage2\\\": {\\n          \\\"main\\\": [\\n            [],\\n            [\\n              {\\n                \\\"node\\\": \\\"SaveToChats\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Switch1\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Data2\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ],\\n            [\\n              {\\n                \\\"node\\\": \\\"Data3\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ],\\n            [\\n              {\\n                \\\"node\\\": \\\"Data3\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ],\\n            [\\n              {\\n                \\\"node\\\": \\\"Data3\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Data3\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Wait2\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Merge\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"SaveMessage\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Wait2\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"FindById\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              },\\n              {\\n                \\\"node\\\": \\\"Merge\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"GetAllMessage\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"UpdateDoneMessage\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"UpdateDoneMessage\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"MergeMessage\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"MergeMessage\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"AI Agent\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"AI Agent\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"IfExistLink\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"OpenAI Chat Model\\\": {\\n          \\\"ai_languageModel\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"AI Agent\\\",\\n                \\\"type\\\": \\\"ai_languageModel\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Postgres Chat Memory\\\": {\\n          \\\"ai_memory\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"AI Agent\\\",\\n                \\\"type\\\": \\\"ai_memory\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Zalo Send Message\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"SaveToChats1\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Zalo Send Message1\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"SaveToChats2\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"OpenAI Chat Model2\\\": {\\n          \\\"ai_languageModel\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Basic LLM Chain\\\",\\n                \\\"type\\\": \\\"ai_languageModel\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Structured Output Parser\\\": {\\n          \\\"ai_outputParser\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Basic LLM Chain\\\",\\n                \\\"type\\\": \\\"ai_outputParser\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Basic LLM Chain\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Split Out2\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Split Out2\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Loop Over Items\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Loop Over Items\\\": {\\n          \\\"main\\\": [\\n            [],\\n            [\\n              {\\n                \\\"node\\\": \\\"IfNotImage\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Split Out3\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Switch2\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"data\\\": {\\n          \\\"ai_tool\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"AI Agent\\\",\\n                \\\"type\\\": \\\"ai_tool\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"SaveToChats2\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Wait\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Wait\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Loop Over Items\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Respond to Webhook\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"BodyData\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Debounce Postgres\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"GetAllMessage\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"OnMessage\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Respond to Webhook\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"IfExistLink\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Tin nháº¯n khÃ´ng áº£nh\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ],\\n            [\\n              {\\n                \\\"node\\\": \\\"Tin nháº¯n cÃ³ áº£nh\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Tin nháº¯n cÃ³ áº£nh\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Basic LLM Chain\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Tin nháº¯n khÃ´ng áº£nh\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Zalo Send Message\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Zalo Send Message2\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"SaveToChats3\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"SaveToChats3\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"No Operation, do nothing\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"IfNotImage\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Zalo Send Message2\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ],\\n            [\\n              {\\n                \\\"node\\\": \\\"Split Out3\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Link áº£nh server cÃ¡ nhÃ¢n\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Zalo Send Message1\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Link áº£nh drive\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Zalo Send Message1\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"BodyData\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Debounce Postgres\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Switch2\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Link áº£nh server cÃ¡ nhÃ¢n\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ],\\n            [\\n              {\\n                \\\"node\\\": \\\"Link áº£nh drive\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"DownloadFile\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Google Drive\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"No Operation, do nothing\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Wait\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Google Drive\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Respond to Webhook1\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        }\\n      },\\n      \\\"settings\\\": {\\n        \\\"executionOrder\\\": \\\"v1\\\",\\n        \\\"availableInMCP\\\": false,\\n        \\\"callerPolicy\\\": \\\"workflowsFromSameOwner\\\"\\n      },\\n      \\\"staticData\\\": null,\\n      \\\"meta\\\": null,\\n      \\\"pinData\\\": null,\\n      \\\"versionId\\\": \\\"f4f2e995-51bb-4dbc-8e4d-75c368d9827b\\\",\\n      \\\"activeVersionId\\\": null,\\n      \\\"triggerCount\\\": 0,\\n      \\\"shared\\\": [\\n        {\\n          \\\"updatedAt\\\": \\\"2026-02-12T13:29:15.634Z\\\",\\n          \\\"createdAt\\\": \\\"2026-02-12T13:29:15.634Z\\\",\\n          \\\"role\\\": \\\"workflow:owner\\\",\\n          \\\"workflowId\\\": \\\"gGp6sVOWXkPf4hLq\\\",\\n          \\\"projectId\\\": \\\"Xq0VG5A9CPTUak2A\\\"\\n        }\\n      ],\\n      \\\"activeVersion\\\": null,\\n      \\\"tags\\\": []\\n    },\\n    {\\n      \\\"updatedAt\\\": \\\"2026-02-12T13:29:16.678Z\\\",\\n      \\\"createdAt\\\": \\\"2026-02-12T13:29:16.678Z\\\",\\n      \\\"id\\\": \\\"PrCuWsQqDYclwJJB\\\",\\n      \\\"name\\\": \\\"Post Facebook\\\",\\n      \\\"active\\\": false,\\n      \\\"isArchived\\\": false,\\n      \\\"nodes\\\": [\\n        {\\n          \\\"parameters\\\": {\\n            \\\"url\\\": \\\"https://shop.thetaphoa.store/api/facebook-posts\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"typeVersion\\\": 4.3,\\n          \\\"position\\\": [\\n            -1216,\\n            280\\n          ],\\n          \\\"id\\\": \\\"8b25c5fd-114d-4bb8-8942-47baf532e5fb\\\",\\n          \\\"name\\\": \\\"Láº¥y data bÃ i \\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"fieldToSplitOut\\\": \\\"mediaFiles\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.splitOut\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            -544,\\n            64\\n          ],\\n          \\\"id\\\": \\\"9155b525-17f8-4674-bdb3-1c955d2c17fe\\\",\\n          \\\"name\\\": \\\"chia ra thÃ nh nhiá»u hÃ¬nh\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.splitInBatches\\\",\\n          \\\"typeVersion\\\": 3,\\n          \\\"position\\\": [\\n            -320,\\n            64\\n          ],\\n          \\\"id\\\": \\\"c4a663d6-b886-475d-a7b1-e26a9290fbed\\\",\\n          \\\"name\\\": \\\"Loop Qua List2\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"assignments\\\": {\\n              \\\"assignments\\\": [\\n                {\\n                  \\\"id\\\": \\\"27f49dce-bd7a-4e10-beb6-2fd215084f92\\\",\\n                  \\\"name\\\": \\\"media_fbid\\\",\\n                  \\\"value\\\": \\\"={{ $json.id }}\\\",\\n                  \\\"type\\\": \\\"string\\\"\\n                }\\n              ]\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.set\\\",\\n          \\\"typeVersion\\\": 3.4,\\n          \\\"position\\\": [\\n            -96,\\n            -80\\n          ],\\n          \\\"id\\\": \\\"739d5b5d-4262-4bbb-b96c-25830614f0d1\\\",\\n          \\\"name\\\": \\\"Sá»­a data cho giá»‘ng facebook rule (media_fbid)\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"httpRequestMethod\\\": \\\"POST\\\",\\n            \\\"graphApiVersion\\\": \\\"v23.0\\\",\\n            \\\"node\\\": \\\"me\\\",\\n            \\\"edge\\\": \\\"feed\\\",\\n            \\\"options\\\": {\\n              \\\"queryParameters\\\": {\\n                \\\"parameter\\\": [\\n                  {\\n                    \\\"name\\\": \\\"message\\\",\\n                    \\\"value\\\": \\\"={{ $('Code in JavaScript').item.json.content }}\\\"\\n                  },\\n                  {\\n                    \\\"name\\\": \\\"attached_media\\\",\\n                    \\\"value\\\": \\\"={{ $json.attached_media }}\\\"\\n                  }\\n                ]\\n              }\\n            }\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.facebookGraphApi\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            352,\\n            -80\\n          ],\\n          \\\"id\\\": \\\"5ec3ca8e-9980-420b-910d-ba178a3b10f7\\\",\\n          \\\"name\\\": \\\"Post\\\",\\n          \\\"credentials\\\": {\\n            \\\"facebookGraphApi\\\": {\\n              \\\"id\\\": \\\"83A7rw2cSHq2OCfd\\\",\\n              \\\"name\\\": \\\"Facebook Graph account\\\"\\n            }\\n          }\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"aggregate\\\": \\\"aggregateAllItemData\\\",\\n            \\\"destinationFieldName\\\": \\\"attached_media\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.aggregate\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            128,\\n            -80\\n          ],\\n          \\\"id\\\": \\\"865da90c-caac-4b6e-be02-4c4bbe475c6f\\\",\\n          \\\"name\\\": \\\"Gom hÃ¬nh láº¡i thÃ nh 1 field\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"rule\\\": {\\n              \\\"interval\\\": [\\n                {\\n                  \\\"field\\\": \\\"minutes\\\",\\n                  \\\"minutesInterval\\\": 1\\n                }\\n              ]\\n            }\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.scheduleTrigger\\\",\\n          \\\"typeVersion\\\": 1.3,\\n          \\\"position\\\": [\\n            -1440,\\n            376\\n          ],\\n          \\\"id\\\": \\\"ca0546fd-48cb-487a-b936-7e341c27c70c\\\",\\n          \\\"name\\\": \\\"Schedule Trigger1\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {},\\n          \\\"type\\\": \\\"n8n-nodes-base.manualTrigger\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            -1440,\\n            184\\n          ],\\n          \\\"id\\\": \\\"402e80cd-2586-4977-ab9c-e203c489a529\\\",\\n          \\\"name\\\": \\\"When clicking â€˜Execute workflowâ€™\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"jsCode\\\": \\\"const items = $('Láº¥y data bÃ i ').first().json.data;\\\\n\\\\n// Láº¥y ngÃ y giá» hiá»‡n táº¡i\\\\nconst now = new Date();\\\\n\\\\nconst vnTime = new Date(now.toLocaleString('en-US', { timeZone: 'Asia/Ho_Chi_Minh' }));\\\\n\\\\n// Format ngÃ y theo DD/MM/YYYY\\\\nconst currentDate = vnTime.toLocaleDateString('en-GB'); // \\\\\\\"03/01/2026\\\\\\\"\\\\n// Format giá» theo HH:mm\\\\nconst hours = String(vnTime.getHours()).padStart(2, '0');\\\\nconst minutes = String(vnTime.getMinutes()).padStart(2, '0');\\\\nconst currentTime = `${hours}:${minutes}`; // \\\\\\\"09:06\\\\\\\"\\\\n\\\\nconst filtered = items.filter(item => {\\\\n\\\\n  // So sÃ¡nh trá»±c tiáº¿p chuá»—i\\\\n  const matchDate = item.scheduledDate === currentDate;\\\\n  const matchTime = item.scheduledTime === currentTime;\\\\n  const notPublished = item.status !== 'published';  \\\\n\\\\n  \\\\n  return matchDate && matchTime && notPublished;\\\\n});\\\\n\\\\nreturn filtered.map(post => ({ json: post }));\\\\n\\\"\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.code\\\",\\n          \\\"typeVersion\\\": 2,\\n          \\\"position\\\": [\\n            -992,\\n            280\\n          ],\\n          \\\"id\\\": \\\"8798044d-89b4-4967-9885-378311ea7aa1\\\",\\n          \\\"name\\\": \\\"Code in JavaScript\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"httpRequestMethod\\\": \\\"POST\\\",\\n            \\\"graphApiVersion\\\": \\\"v23.0\\\",\\n            \\\"node\\\": \\\"me\\\",\\n            \\\"edge\\\": \\\"video_reels\\\",\\n            \\\"options\\\": {\\n              \\\"queryParameters\\\": {\\n                \\\"parameter\\\": [\\n                  {\\n                    \\\"name\\\": \\\"upload_phase\\\",\\n                    \\\"value\\\": \\\"start\\\"\\n                  }\\n                ]\\n              }\\n            }\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.facebookGraphApi\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            352,\\n            280\\n          ],\\n          \\\"id\\\": \\\"4553c4b7-b1c0-47ec-a2e8-06f4ab4ce076\\\",\\n          \\\"name\\\": \\\"Upload session\\\",\\n          \\\"credentials\\\": {\\n            \\\"facebookGraphApi\\\": {\\n              \\\"id\\\": \\\"83A7rw2cSHq2OCfd\\\",\\n              \\\"name\\\": \\\"Facebook Graph account\\\"\\n            }\\n          }\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"method\\\": \\\"POST\\\",\\n            \\\"url\\\": \\\"={{ $json.upload_url }}\\\",\\n            \\\"authentication\\\": \\\"predefinedCredentialType\\\",\\n            \\\"nodeCredentialType\\\": \\\"facebookGraphApi\\\",\\n            \\\"sendHeaders\\\": true,\\n            \\\"headerParameters\\\": {\\n              \\\"parameters\\\": [\\n                {\\n                  \\\"name\\\": \\\"file_url\\\",\\n                  \\\"value\\\": \\\"={{ $('Code in JavaScript').item.json.mediaFiles[0].url }}\\\"\\n                }\\n              ]\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"typeVersion\\\": 4.3,\\n          \\\"position\\\": [\\n            576,\\n            280\\n          ],\\n          \\\"id\\\": \\\"f7638ee5-4a6f-4918-9bc7-33beca72169c\\\",\\n          \\\"name\\\": \\\"Rupload Video \\\",\\n          \\\"credentials\\\": {\\n            \\\"facebookGraphApi\\\": {\\n              \\\"id\\\": \\\"83A7rw2cSHq2OCfd\\\",\\n              \\\"name\\\": \\\"Facebook Graph account\\\"\\n            }\\n          }\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"method\\\": \\\"PUT\\\",\\n            \\\"url\\\": \\\"https://shop.thetaphoa.store/api/facebook-posts\\\",\\n            \\\"sendBody\\\": true,\\n            \\\"bodyParameters\\\": {\\n              \\\"parameters\\\": [\\n                {\\n                  \\\"name\\\": \\\"id\\\",\\n                  \\\"value\\\": \\\"={{ $('Code in JavaScript').item.json._id }}\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"status\\\",\\n                  \\\"value\\\": \\\"published\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"postUrl\\\",\\n                  \\\"value\\\": \\\"=facebook.com/{{ $json.id }}\\\"\\n                }\\n              ]\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"typeVersion\\\": 4.3,\\n          \\\"position\\\": [\\n            576,\\n            -80\\n          ],\\n          \\\"id\\\": \\\"bf4015fe-c619-4e2c-8454-36fb5cbd57c4\\\",\\n          \\\"name\\\": \\\"Cáº­p nháº­t vÃ´ database\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"method\\\": \\\"PUT\\\",\\n            \\\"url\\\": \\\"https://shop.thetaphoa.store/api/facebook-posts\\\",\\n            \\\"sendBody\\\": true,\\n            \\\"bodyParameters\\\": {\\n              \\\"parameters\\\": [\\n                {\\n                  \\\"name\\\": \\\"id\\\",\\n                  \\\"value\\\": \\\"={{ $('Code in JavaScript').item.json._id }}\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"status\\\",\\n                  \\\"value\\\": \\\"published\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"postUrl\\\",\\n                  \\\"value\\\": \\\"=facebook.com/{{ $json.id }}\\\"\\n                }\\n              ]\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"typeVersion\\\": 4.3,\\n          \\\"position\\\": [\\n            1696,\\n            424\\n          ],\\n          \\\"id\\\": \\\"cef357a0-4d77-4739-9ca3-4bf7d9b2c862\\\",\\n          \\\"name\\\": \\\"Cáº­p nháº­t vÃ´ database reel\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"httpRequestMethod\\\": \\\"POST\\\",\\n            \\\"graphApiVersion\\\": \\\"v23.0\\\",\\n            \\\"node\\\": \\\"me\\\",\\n            \\\"edge\\\": \\\"video_reels\\\",\\n            \\\"options\\\": {\\n              \\\"queryParameters\\\": {\\n                \\\"parameter\\\": [\\n                  {\\n                    \\\"name\\\": \\\"video_id\\\",\\n                    \\\"value\\\": \\\"={{ $('Upload session').item.json.video_id }}\\\"\\n                  },\\n                  {\\n                    \\\"name\\\": \\\"upload_phase\\\",\\n                    \\\"value\\\": \\\"finish\\\"\\n                  },\\n                  {\\n                    \\\"name\\\": \\\"video_state\\\",\\n                    \\\"value\\\": \\\"PUBLISHED\\\"\\n                  },\\n                  {\\n                    \\\"name\\\": \\\"description\\\",\\n                    \\\"value\\\": \\\"={{ $('Code in JavaScript').item.json.content }}\\\"\\n                  }\\n                ]\\n              }\\n            }\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.facebookGraphApi\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            800,\\n            280\\n          ],\\n          \\\"id\\\": \\\"9cee3fe8-56d8-443b-a8ad-b742a98dd00b\\\",\\n          \\\"name\\\": \\\"Publish reel\\\",\\n          \\\"credentials\\\": {\\n            \\\"facebookGraphApi\\\": {\\n              \\\"id\\\": \\\"83A7rw2cSHq2OCfd\\\",\\n              \\\"name\\\": \\\"Facebook Graph account\\\"\\n            }\\n          }\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"amount\\\": 10\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.wait\\\",\\n          \\\"typeVersion\\\": 1.1,\\n          \\\"position\\\": [\\n            1024,\\n            424\\n          ],\\n          \\\"id\\\": \\\"f64c7897-7e16-44f5-8099-ae1f2c5ecf28\\\",\\n          \\\"name\\\": \\\"Äá»£i status thÃ nh cÃ´ng\\\",\\n          \\\"webhookId\\\": \\\"123f88d6-5c69-4b7f-89eb-a0b810f92c2e\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"graphApiVersion\\\": \\\"v23.0\\\",\\n            \\\"node\\\": \\\"={{ $('Merge').item.json.video_id }}\\\",\\n            \\\"edge\\\": \\\"=\\\",\\n            \\\"options\\\": {\\n              \\\"queryParameters\\\": {\\n                \\\"parameter\\\": [\\n                  {\\n                    \\\"name\\\": \\\"fields\\\",\\n                    \\\"value\\\": \\\"status\\\"\\n                  }\\n                ]\\n              }\\n            }\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.facebookGraphApi\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            1248,\\n            352\\n          ],\\n          \\\"id\\\": \\\"201f52ee-082d-4fb7-93fe-973c3f846c4a\\\",\\n          \\\"name\\\": \\\"Láº¥y status\\\",\\n          \\\"credentials\\\": {\\n            \\\"facebookGraphApi\\\": {\\n              \\\"id\\\": \\\"83A7rw2cSHq2OCfd\\\",\\n              \\\"name\\\": \\\"Facebook Graph account\\\"\\n            }\\n          }\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"httpRequestMethod\\\": \\\"POST\\\",\\n            \\\"graphApiVersion\\\": \\\"v23.0\\\",\\n            \\\"node\\\": \\\"106470202191109\\\",\\n            \\\"edge\\\": \\\"photos\\\",\\n            \\\"options\\\": {\\n              \\\"queryParameters\\\": {\\n                \\\"parameter\\\": [\\n                  {\\n                    \\\"name\\\": \\\"published\\\",\\n                    \\\"value\\\": \\\"false\\\"\\n                  },\\n                  {\\n                    \\\"name\\\": \\\"url\\\",\\n                    \\\"value\\\": \\\"={{ $json.url }}\\\"\\n                  }\\n                ]\\n              }\\n            }\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.facebookGraphApi\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            -96,\\n            112\\n          ],\\n          \\\"id\\\": \\\"73d73895-2f9a-42ee-928d-f5637f2124a3\\\",\\n          \\\"name\\\": \\\"Upload hÃ¬nh\\\",\\n          \\\"credentials\\\": {\\n            \\\"facebookGraphApi\\\": {\\n              \\\"id\\\": \\\"83A7rw2cSHq2OCfd\\\",\\n              \\\"name\\\": \\\"Facebook Graph account\\\"\\n            }\\n          }\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"conditions\\\": {\\n              \\\"options\\\": {\\n                \\\"caseSensitive\\\": true,\\n                \\\"leftValue\\\": \\\"\\\",\\n                \\\"typeValidation\\\": \\\"strict\\\",\\n                \\\"version\\\": 3\\n              },\\n              \\\"conditions\\\": [\\n                {\\n                  \\\"id\\\": \\\"f1eac148-d478-4db9-b7ec-5f35d2cb9196\\\",\\n                  \\\"leftValue\\\": \\\"={{ $json.status.publishing_phase.publish_status }}\\\",\\n                  \\\"rightValue\\\": \\\"published\\\",\\n                  \\\"operator\\\": {\\n                    \\\"type\\\": \\\"string\\\",\\n                    \\\"operation\\\": \\\"equals\\\"\\n                  }\\n                }\\n              ],\\n              \\\"combinator\\\": \\\"and\\\"\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.if\\\",\\n          \\\"typeVersion\\\": 2.3,\\n          \\\"position\\\": [\\n            1472,\\n            424\\n          ],\\n          \\\"id\\\": \\\"c61a5379-ff95-44cf-9ebf-1ecc7c1d17bf\\\",\\n          \\\"name\\\": \\\"Check náº¿u chÆ°a up thÃ¬ Ä‘á»£i láº¥y status láº¡i\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"rules\\\": {\\n              \\\"values\\\": [\\n                {\\n                  \\\"conditions\\\": {\\n                    \\\"options\\\": {\\n                      \\\"caseSensitive\\\": true,\\n                      \\\"leftValue\\\": \\\"\\\",\\n                      \\\"typeValidation\\\": \\\"strict\\\",\\n                      \\\"version\\\": 3\\n                    },\\n                    \\\"conditions\\\": [\\n                      {\\n                        \\\"leftValue\\\": \\\"={{ $json.postType }}\\\",\\n                        \\\"rightValue\\\": \\\"post\\\",\\n                        \\\"operator\\\": {\\n                          \\\"type\\\": \\\"string\\\",\\n                          \\\"operation\\\": \\\"equals\\\"\\n                        },\\n                        \\\"id\\\": \\\"158fe265-faf0-4df3-88e0-ca86f28191b4\\\"\\n                      }\\n                    ],\\n                    \\\"combinator\\\": \\\"and\\\"\\n                  }\\n                },\\n                {\\n                  \\\"conditions\\\": {\\n                    \\\"options\\\": {\\n                      \\\"caseSensitive\\\": true,\\n                      \\\"leftValue\\\": \\\"\\\",\\n                      \\\"typeValidation\\\": \\\"strict\\\",\\n                      \\\"version\\\": 3\\n                    },\\n                    \\\"conditions\\\": [\\n                      {\\n                        \\\"id\\\": \\\"cd320540-12ed-42f9-be8e-221896c563c1\\\",\\n                        \\\"leftValue\\\": \\\"={{ $json.postType }}\\\",\\n                        \\\"rightValue\\\": \\\"reel-video\\\",\\n                        \\\"operator\\\": {\\n                          \\\"type\\\": \\\"string\\\",\\n                          \\\"operation\\\": \\\"equals\\\"\\n                        }\\n                      }\\n                    ],\\n                    \\\"combinator\\\": \\\"and\\\"\\n                  }\\n                },\\n                {\\n                  \\\"conditions\\\": {\\n                    \\\"options\\\": {\\n                      \\\"caseSensitive\\\": true,\\n                      \\\"leftValue\\\": \\\"\\\",\\n                      \\\"typeValidation\\\": \\\"strict\\\",\\n                      \\\"version\\\": 3\\n                    },\\n                    \\\"conditions\\\": [\\n                      {\\n                        \\\"id\\\": \\\"c27546b5-3864-4261-b31b-6e4811df7be6\\\",\\n                        \\\"leftValue\\\": \\\"={{ $json.postType }}\\\",\\n                        \\\"rightValue\\\": \\\"reel-link\\\",\\n                        \\\"operator\\\": {\\n                          \\\"type\\\": \\\"string\\\",\\n                          \\\"operation\\\": \\\"equals\\\"\\n                        }\\n                      }\\n                    ],\\n                    \\\"combinator\\\": \\\"and\\\"\\n                  }\\n                }\\n              ]\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.switch\\\",\\n          \\\"typeVersion\\\": 3.4,\\n          \\\"position\\\": [\\n            -768,\\n            264\\n          ],\\n          \\\"id\\\": \\\"86980e17-a6d0-4274-976e-299ac6633716\\\",\\n          \\\"name\\\": \\\"Switch\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"url\\\": \\\"={{ $json.mediaFiles[0].url }}\\\",\\n            \\\"sendHeaders\\\": true,\\n            \\\"headerParameters\\\": {\\n              \\\"parameters\\\": [\\n                {\\n                  \\\"name\\\": \\\"User-Agent\\\",\\n                  \\\"value\\\": \\\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) Chrome/91.0.4472.124\\\"\\n                }\\n              ]\\n            },\\n            \\\"options\\\": {\\n              \\\"response\\\": {\\n                \\\"response\\\": {\\n                  \\\"fullResponse\\\": true,\\n                  \\\"responseFormat\\\": \\\"text\\\"\\n                }\\n              }\\n            }\\n          },\\n          \\\"id\\\": \\\"50e6eb5b-ca3d-472f-9c18-5e29971ee31c\\\",\\n          \\\"name\\\": \\\"Get TikTok Video Page Data\\\",\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"position\\\": [\\n            -544,\\n            600\\n          ],\\n          \\\"typeVersion\\\": 4.2\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"jsCode\\\": \\\"const html = $input.first().json.data;\\\\nconst headers = $input.first().json.headers || {};\\\\nconst cookies = headers['set-cookie'] || [];\\\\n\\\\nif (!html) {\\\\n  throw new Error(\\\\\\\"HTML body is undefined. Check the previous node's output.\\\\\\\");\\\\n}\\\\nconst regex = /<script id=\\\\\\\"__UNIVERSAL_DATA_FOR_REHYDRATION__\\\\\\\" type=\\\\\\\"application\\\\\\\\/json\\\\\\\">([\\\\\\\\s\\\\\\\\S]*?)<\\\\\\\\/script>/;\\\\nconst match = html.match(regex);\\\\n\\\\nif (match) {\\\\n  const jsonStr = match[1];\\\\n  const data = JSON.parse(jsonStr);\\\\n  const videoUrl = data?.__DEFAULT_SCOPE__?.[\\\\\\\"webapp.video-detail\\\\\\\"]?.itemInfo?.itemStruct?.video?.playAddr;\\\\n  if (!videoUrl) {\\\\n    throw new Error(\\\\\\\"Could not find video URL in the JSON data.\\\\\\\");\\\\n  }\\\\n  return [{ json: { videoUrl, cookies: cookies.join('; ') } }];\\\\n} else {\\\\n  throw new Error(\\\\\\\"Could not find __UNIVERSAL_DATA_FOR_REHYDRATION__ script in the HTML.\\\\\\\");\\\\n}\\\"\\n          },\\n          \\\"id\\\": \\\"83f4dfd7-16bb-4e97-a43c-475debe6e4bc\\\",\\n          \\\"name\\\": \\\"Scrape raw video URL\\\",\\n          \\\"type\\\": \\\"n8n-nodes-base.code\\\",\\n          \\\"position\\\": [\\n            -320,\\n            600\\n          ],\\n          \\\"typeVersion\\\": 2\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"url\\\": \\\"={{ $json.videoUrl }}\\\",\\n            \\\"sendHeaders\\\": true,\\n            \\\"headerParameters\\\": {\\n              \\\"parameters\\\": [\\n                {\\n                  \\\"name\\\": \\\"User-Agent\\\",\\n                  \\\"value\\\": \\\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"Referer\\\",\\n                  \\\"value\\\": \\\"https://www.tiktok.com/\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"Accept\\\",\\n                  \\\"value\\\": \\\"video/mp4,video/webm,video/*;q=0.9,application/octet-stream;q=0.8\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"Accept-Language\\\",\\n                  \\\"value\\\": \\\"en-US,en;q=0.5\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"Connection\\\",\\n                  \\\"value\\\": \\\"keep-alive\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"Cookie\\\",\\n                  \\\"value\\\": \\\"={{ $json.cookies }}\\\"\\n                }\\n              ]\\n            },\\n            \\\"options\\\": {\\n              \\\"allowUnauthorizedCerts\\\": true,\\n              \\\"response\\\": {\\n                \\\"response\\\": {\\n                  \\\"responseFormat\\\": \\\"file\\\"\\n                }\\n              }\\n            }\\n          },\\n          \\\"id\\\": \\\"332e5d0c-0108-49db-b6be-0392a3ea1ea7\\\",\\n          \\\"name\\\": \\\"Output video file without watermark\\\",\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"position\\\": [\\n            -96,\\n            600\\n          ],\\n          \\\"typeVersion\\\": 4.2\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"httpRequestMethod\\\": \\\"POST\\\",\\n            \\\"graphApiVersion\\\": \\\"v23.0\\\",\\n            \\\"node\\\": \\\"me\\\",\\n            \\\"edge\\\": \\\"video_reels\\\",\\n            \\\"options\\\": {\\n              \\\"queryParameters\\\": {\\n                \\\"parameter\\\": [\\n                  {\\n                    \\\"name\\\": \\\"upload_phase\\\",\\n                    \\\"value\\\": \\\"start\\\"\\n                  }\\n                ]\\n              }\\n            }\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.facebookGraphApi\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            128,\\n            424\\n          ],\\n          \\\"id\\\": \\\"2fcc9448-00c8-4181-adf5-fb4164276c77\\\",\\n          \\\"name\\\": \\\"Upload session1\\\",\\n          \\\"credentials\\\": {\\n            \\\"facebookGraphApi\\\": {\\n              \\\"id\\\": \\\"83A7rw2cSHq2OCfd\\\",\\n              \\\"name\\\": \\\"Facebook Graph account\\\"\\n            }\\n          }\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"method\\\": \\\"POST\\\",\\n            \\\"url\\\": \\\"={{ $json.upload_url }}\\\",\\n            \\\"authentication\\\": \\\"predefinedCredentialType\\\",\\n            \\\"nodeCredentialType\\\": \\\"facebookGraphApi\\\",\\n            \\\"sendHeaders\\\": true,\\n            \\\"headerParameters\\\": {\\n              \\\"parameters\\\": [\\n                {\\n                  \\\"name\\\": \\\"offset\\\",\\n                  \\\"value\\\": \\\"0\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"file_size\\\",\\n                  \\\"value\\\": \\\"={{ $json.bufferSize }}\\\"\\n                }\\n              ]\\n            },\\n            \\\"sendBody\\\": true,\\n            \\\"contentType\\\": \\\"=binaryData\\\",\\n            \\\"bodyParameters\\\": {\\n              \\\"parameters\\\": [\\n                {}\\n              ]\\n            },\\n            \\\"inputDataFieldName\\\": \\\"data\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"typeVersion\\\": 4.3,\\n          \\\"position\\\": [\\n            576,\\n            568\\n          ],\\n          \\\"id\\\": \\\"0ccf43b2-0bc9-40d0-a3b7-b972cb88c959\\\",\\n          \\\"name\\\": \\\"HTTP Request\\\",\\n          \\\"credentials\\\": {\\n            \\\"facebookGraphApi\\\": {\\n              \\\"id\\\": \\\"83A7rw2cSHq2OCfd\\\",\\n              \\\"name\\\": \\\"Facebook Graph account\\\"\\n            }\\n          }\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"mode\\\": \\\"combine\\\",\\n            \\\"combineBy\\\": \\\"combineByPosition\\\",\\n            \\\"numberInputs\\\": 3,\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.merge\\\",\\n          \\\"typeVersion\\\": 3.2,\\n          \\\"position\\\": [\\n            352,\\n            552\\n          ],\\n          \\\"id\\\": \\\"7b0f4d9a-28de-4435-b95b-e74112c93941\\\",\\n          \\\"name\\\": \\\"Merge\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"httpRequestMethod\\\": \\\"POST\\\",\\n            \\\"graphApiVersion\\\": \\\"v23.0\\\",\\n            \\\"node\\\": \\\"me\\\",\\n            \\\"edge\\\": \\\"video_reels\\\",\\n            \\\"options\\\": {\\n              \\\"queryParameters\\\": {\\n                \\\"parameter\\\": [\\n                  {\\n                    \\\"name\\\": \\\"video_id\\\",\\n                    \\\"value\\\": \\\"={{ $('Merge').item.json.video_id }}\\\"\\n                  },\\n                  {\\n                    \\\"name\\\": \\\"upload_phase\\\",\\n                    \\\"value\\\": \\\"finish\\\"\\n                  },\\n                  {\\n                    \\\"name\\\": \\\"video_state\\\",\\n                    \\\"value\\\": \\\"PUBLISHED\\\"\\n                  },\\n                  {\\n                    \\\"name\\\": \\\"description\\\",\\n                    \\\"value\\\": \\\"={{ $('Code in JavaScript').item.json.content }}\\\"\\n                  }\\n                ]\\n              }\\n            }\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.facebookGraphApi\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            800,\\n            568\\n          ],\\n          \\\"id\\\": \\\"4e0a59c3-b322-4bc0-a22f-b6a961b01645\\\",\\n          \\\"name\\\": \\\"Publish reel1\\\",\\n          \\\"credentials\\\": {\\n            \\\"facebookGraphApi\\\": {\\n              \\\"id\\\": \\\"83A7rw2cSHq2OCfd\\\",\\n              \\\"name\\\": \\\"Facebook Graph account\\\"\\n            }\\n          }\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"jsCode\\\": \\\"const buffer = await this.helpers.getBinaryDataBuffer(0, 'data');\\\\n\\\\nreturn {\\\\n  bufferSize: buffer.length\\\\n};\\\"\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.code\\\",\\n          \\\"typeVersion\\\": 2,\\n          \\\"position\\\": [\\n            128,\\n            712\\n          ],\\n          \\\"id\\\": \\\"cfd72900-0b7b-4025-9bfe-773e20cf580b\\\",\\n          \\\"name\\\": \\\"Code in JavaScript1\\\"\\n        }\\n      ],\\n      \\\"connections\\\": {\\n        \\\"Láº¥y data bÃ i \\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Code in JavaScript\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"chia ra thÃ nh nhiá»u hÃ¬nh\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Loop Qua List2\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Loop Qua List2\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Sá»­a data cho giá»‘ng facebook rule (media_fbid)\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ],\\n            [\\n              {\\n                \\\"node\\\": \\\"Upload hÃ¬nh\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Sá»­a data cho giá»‘ng facebook rule (media_fbid)\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Gom hÃ¬nh láº¡i thÃ nh 1 field\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Post\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Cáº­p nháº­t vÃ´ database\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Gom hÃ¬nh láº¡i thÃ nh 1 field\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Post\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Schedule Trigger1\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Láº¥y data bÃ i \\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"When clicking â€˜Execute workflowâ€™\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Láº¥y data bÃ i \\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Code in JavaScript\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Switch\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Upload session\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Rupload Video \\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Rupload Video \\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Publish reel\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Publish reel\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Äá»£i status thÃ nh cÃ´ng\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Äá»£i status thÃ nh cÃ´ng\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Láº¥y status\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Láº¥y status\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Check náº¿u chÆ°a up thÃ¬ Ä‘á»£i láº¥y status láº¡i\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Upload hÃ¬nh\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Loop Qua List2\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Check náº¿u chÆ°a up thÃ¬ Ä‘á»£i láº¥y status láº¡i\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Cáº­p nháº­t vÃ´ database reel\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ],\\n            [\\n              {\\n                \\\"node\\\": \\\"Äá»£i status thÃ nh cÃ´ng\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Switch\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"chia ra thÃ nh nhiá»u hÃ¬nh\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ],\\n            [\\n              {\\n                \\\"node\\\": \\\"Upload session\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ],\\n            [\\n              {\\n                \\\"node\\\": \\\"Get TikTok Video Page Data\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Get TikTok Video Page Data\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Scrape raw video URL\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Scrape raw video URL\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Output video file without watermark\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Output video file without watermark\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Upload session1\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              },\\n              {\\n                \\\"node\\\": \\\"Merge\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 1\\n              },\\n              {\\n                \\\"node\\\": \\\"Code in JavaScript1\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Upload session1\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Merge\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Merge\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"HTTP Request\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"HTTP Request\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Publish reel1\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Publish reel1\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Äá»£i status thÃ nh cÃ´ng\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Code in JavaScript1\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Merge\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 2\\n              }\\n            ]\\n          ]\\n        }\\n      },\\n      \\\"settings\\\": {\\n        \\\"executionOrder\\\": \\\"v1\\\",\\n        \\\"availableInMCP\\\": false,\\n        \\\"callerPolicy\\\": \\\"workflowsFromSameOwner\\\"\\n      },\\n      \\\"staticData\\\": null,\\n      \\\"meta\\\": null,\\n      \\\"pinData\\\": null,\\n      \\\"versionId\\\": \\\"06cc4b5b-e14d-44a7-82b5-9384a80db990\\\",\\n      \\\"activeVersionId\\\": null,\\n      \\\"triggerCount\\\": 0,\\n      \\\"shared\\\": [\\n        {\\n          \\\"updatedAt\\\": \\\"2026-02-12T13:29:16.678Z\\\",\\n          \\\"createdAt\\\": \\\"2026-02-12T13:29:16.678Z\\\",\\n          \\\"role\\\": \\\"workflow:owner\\\",\\n          \\\"workflowId\\\": \\\"PrCuWsQqDYclwJJB\\\",\\n          \\\"projectId\\\": \\\"Xq0VG5A9CPTUak2A\\\"\\n        }\\n      ],\\n      \\\"activeVersion\\\": null,\\n      \\\"tags\\\": []\\n    }\\n  ],\\n  \\\"nextCursor\\\": null\\n}\"}]},\"jsonrpc\":\"2.0\",\"id\":2}","cwd":"/home/node/.openclaw/workspace"},"isError":false,"timestamp":1770903201594}}
{"type":"message","id":"9a1c71a4","parentId":"07184c4a","timestamp":"2026-02-12T13:33:35.767Z","message":{"role":"assistant","content":[{"type":"text","text":"OÃ¡p... xong rá»“i Ä‘Ã¢y Master Æ¡i! NÃ£y giá» em ngá»“i mÃ² máº«m trong cÃ¡i Ä‘á»‘ng workflow cá»§a n4n, tháº¥y cÅ©ng xÃ´m tá»¥ pháº¿t.\n\nTá»•ng cá»™ng cÃ³ **5 em workflow** Ä‘ang náº±m chá» Master chá»‰ thá»‹ nÃ¨:\n\n1.  **API Test Workflow** (ID: `7E2Xx4SUm5YgQWw9`)\n    *   TÃ¬nh tráº¡ng: **Táº¯t** (`active: false`)\n    *   Ná»™i dung: Trá»‘ng trÆ¡n, chÆ°a cÃ³ gÃ¬ cáº£.\n    *   *Note: Cháº¯c lÃ  hÃ ng test chÆ¡i chÆ¡i thÃ´i.*\n\n2.  **Tiktok menamine2 - sáº¡c rtt** (ID: `gbE7rxizaqsUByIm`)\n    *   TÃ¬nh tráº¡ng: **Táº¯t** (`active: false`)\n    *   Ná»™i dung: KhÃ¡ phá»©c táº¡p nha! CÃ³ check token, táº£i video, merge video, thÃªm nháº¡c, upload lÃªn TikTok, rá»“i xÃ³a file táº¡m. CÃ³ cáº£ AI Agent Ä‘á»ƒ viáº¿t caption ná»¯a.\n    *   *Note: Tool nÃ y Ä‘á»ƒ auto reup video TikTok nÃ¨, mÃ  Ä‘ang táº¯t.*\n\n3.  **Tiktok menamine2 - kháº©u trang 9a** (ID: `4eSpFbYqdJcI6PCf`)\n    *   TÃ¬nh tráº¡ng: **Táº¯t** (`active: false`)\n    *   Ná»™i dung: TÆ°Æ¡ng tá»± cÃ¡i trÃªn, cÅ©ng lÃ  quy trÃ¬nh láº¥y video, xá»­ lÃ½, chÃ¨n nháº¡c vÃ  upload lÃªn TikTok.\n    *   *Note: Cháº¯c lÃ  cháº¡y cho campaign khÃ¡c hoáº·c sáº£n pháº©m khÃ¡c.*\n\n4.  **My workflow 1288** (ID: `gGp6sVOWXkPf4hLq`)\n    *   TÃ¬nh tráº¡ng: **Táº¯t** (`active: false`)\n    *   Ná»™i dung: CÃ¡i nÃ y nhÃ¬n giá»‘ng **Zalo Chatbot**. CÃ³ login Zalo, nháº­n tin nháº¯n webhook, lÆ°u vÃ o Supabase, xá»­ lÃ½ tin nháº¯n báº±ng AI (GPT-4o), rá»“i tráº£ lá»i láº¡i. Xá»­ lÃ½ cáº£ tin nháº¯n text vÃ  hÃ¬nh áº£nh luÃ´n.\n    *   *Note: Con bot bÃ¡n hÃ ng cÆ¡m gÃ , bÃºn bÃ² gÃ¬ Ä‘Ã³ nÃ¨. Xá»‹n pháº¿t!*\n\n5.  **Post Facebook** (ID: `PrCuWsQqDYclwJJB`)\n    *   TÃ¬nh tráº¡ng: **Táº¯t** (`active: false`)\n    *   Ná»™i dung: Láº¥y bÃ i tá»« API, xá»­ lÃ½ hÃ¬nh áº£nh/video, rá»“i post lÃªn Facebook Page hoáº·c Reels. CÃ³ check giá» post bÃ i ná»¯a.\n    *   *Note: Tool auto post Fanpage.*\n\nTÃ³m láº¡i lÃ  toÃ n hÃ ng khá»§ng long mÃ  Ä‘ang ngá»§ Ä‘Ã´ng háº¿t rá»“i. Master muá»‘n Ä‘Ã¡nh thá»©c em nÃ o dáº­y cÃ y cuá»‘c khÃ´ng? Hay cáº§n sá»­a sang gÃ¬ thÃ¬ báº£o em nhÃ©! ðŸ¤™"}],"api":"openai-completions","provider":"cli-proxy","model":"gemini-3-pro-preview","usage":{"input":82157,"output":614,"cacheRead":0,"cacheWrite":0,"totalTokens":82771,"cost":{"input":0,"output":0,"cacheRead":0,"cacheWrite":0,"total":0}},"stopReason":"stop","timestamp":1770903201624}}
{"type":"message","id":"5a28b36b","parentId":"9a1c71a4","timestamp":"2026-02-12T13:36:59.309Z","message":{"role":"user","content":[{"type":"text","text":"[Thu 2026-02-12 13:36 UTC] háº¿t r háº£?\n[message_id: 6934ab16-e560-4b5b-9b30-e8cb4ee1b694]"}],"timestamp":1770903419299}}
{"type":"message","id":"763574e5","parentId":"5a28b36b","timestamp":"2026-02-12T13:37:22.371Z","message":{"role":"assistant","content":[{"type":"toolCall","id":"exec-1770903442286986479-18","name":"exec","arguments":{"command":"INIT=$(curl -si --max-time 10 -X POST http://172.17.0.1:3001/mcp \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Accept: application/json, text/event-stream\" \\\n  -d '{\"jsonrpc\":\"2.0\",\"id\":1,\"method\":\"initialize\",\"params\":{\"protocolVersion\":\"2024-11-05\",\"capabilities\":{},\"clientInfo\":{\"name\":\"openclaw\",\"version\":\"1.0\"}}}')\nSESSION=$(echo \"$INIT\" | grep -i 'mcp-session-id' | awk '{print $2}' | tr -d '\\r')\n\ncurl -s --max-time 30 -X POST http://172.17.0.1:3001/mcp \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Accept: application/json, text/event-stream\" \\\n  -H \"mcp-session-id: $SESSION\" \\\n  -d '{\"jsonrpc\":\"2.0\",\"id\":2,\"method\":\"tools/call\",\"params\":{\"name\":\"list_workflows\",\"arguments\":{}}}' | \\\n  node -e '\n    const chunks = [];\n    process.stdin.on(\"data\", c => chunks.push(c));\n    process.stdin.on(\"end\", () => {\n      const raw = Buffer.concat(chunks).toString();\n      const lines = raw.split(\"\\n\");\n      const dataLine = lines.find(l => l.startsWith(\"data: \"));\n      if (dataLine) {\n        try {\n          const json = JSON.parse(dataLine.substring(6));\n          const content = JSON.parse(json.result.content[0].text);\n          console.log(\"Total:\", content.data.length);\n          content.data.forEach(w => console.log(`- [${w.active?\"x\":\" \"}] ${w.name} (ID: ${w.id})`));\n        } catch (e) { console.error(\"Parse error:\", e.message); console.log(raw.substring(0, 500)); }\n      } else {\n        console.log(\"No data line found\");\n        console.log(raw.substring(0, 500));\n      }\n    });\n  '"}}],"api":"openai-completions","provider":"cli-proxy","model":"gemini-3-pro-preview","usage":{"input":83901,"output":1614,"cacheRead":0,"cacheWrite":0,"totalTokens":85515,"cost":{"input":0,"output":0,"cacheRead":0,"cacheWrite":0,"total":0}},"stopReason":"toolUse","timestamp":1770903419306}}
{"type":"message","id":"5f9f709a","parentId":"763574e5","timestamp":"2026-02-12T13:37:24.215Z","message":{"role":"toolResult","toolCallId":"exec-1770903442286986479-18","toolName":"exec","content":[{"type":"text","text":"Total: 32\n- [ ] Tiktok post (ID: sEvZHJMzEbueQ8Rz)\n- [ ] ðŸ’¥ Generate AI viral videos with NanoBanana & VEO3, shared on socials via Blotato - vide (ID: XQVZrPEMZmqsZVCy)\n- [ ] Tiktok menamine2 - kháº©u trang 9a (ID: G9R2i0Dl2yKb5uD8)\n- [ ] nanoai.pics pass captcha text to video 3.1 (update 26.12) (ID: nxwOve3aYPWsEbjO)\n- [ ] ðŸ’¥ Generate AI Viral Videos with VEO 3 and Upload to TikTok  (ID: T3MI3sjrJQywT2cQ)\n- [ ] Zalo bot (ID: 0s4pTocEhylcMcxr)\n- [ ] My workflow 1288 (ID: f07bHF6rExprpWYJ)\n- [ ] API Test Workflow (ID: 7E2Xx4SUm5YgQWw9)\n- [ ] Tiktok menamine2 - sáº¡c rtt (ID: 9V7rSu8gmZV0TUUl)\n- [ ] My workflow 2 (ID: vni1V5W1Z8Y5eR1y)\n- [ ] Khuong (ID: Yvh0IkIAlZolmtAp)\n- [ ] Zalo bot (ID: FuaPDb8gUmJS0kdF)\n- [ ] ðŸ’¥ Generate AI viral videos with NanoBanana & VEO3, shared on socials via Blotato - vide (ID: qxZPOTf4T3f9y1uJ)\n- [ ] ðŸ’¥ Generate AI Viral Videos with VEO 3 and Upload to TikTok  (ID: K9inwCcUDq65vaBo)\n- [ ] Tiktok post (ID: Wcrxmt7YQqsGY0Gy)\n- [ ] Tiktok menamine2 - Ä‘Ã¨n hoÃ ng hÃ´n (ID: rb4eueh877cm834W)\n- [ ] Tiktok menamine2 - Ä‘Ã¨n hoÃ ng hÃ´n (ID: qr1O4D5zaSyKLKSo)\n- [ ] My workflow 2 (ID: Cukk01VQ59uMIVp3)\n- [ ] Demo: My first AI Agent in n8n (ID: T24bzF1ZVG13J2et)\n- [ ] Zalo bot (ID: 3iut4SggdQKX1au3)\n- [ ] Post Facebook (ID: WaVBoPMyEucoWdL2)\n- [ ] nanoai.pics pass captcha text to video 3.1 (update 26.12) (ID: juGCnjYfiJJhj3iO)\n- [ ] Analyze Video Tiktok (ID: W4dm4MKJowtvfmfl)\n- [ ] Download video tiktok no watermark - Share Free (ID: 4ngZUljpA8szpUWK)\n- [ ] Download video tiktok no watermark - Share Free (ID: dIiQcuzaDIYhhPs3)\n- [ ] Khuong test (ID: jLc6YTAABx5GFRQV)\n- [ ] Demo: My first AI Agent in n8n (ID: TJY4VveyD7SGaS4j)\n- [ ] Analyze Video Tiktok (ID: DxIOcki7Bhcpa8ew)\n- [ ] Tiktok menamine2 - sáº¡c rtt (ID: gbE7rxizaqsUByIm)\n- [ ] Tiktok menamine2 - kháº©u trang 9a (ID: 4eSpFbYqdJcI6PCf)\n- [ ] My workflow 1288 (ID: gGp6sVOWXkPf4hLq)\n- [ ] Post Facebook (ID: PrCuWsQqDYclwJJB)"}],"details":{"status":"completed","exitCode":0,"durationMs":1835,"aggregated":"Total: 32\n- [ ] Tiktok post (ID: sEvZHJMzEbueQ8Rz)\n- [ ] ðŸ’¥ Generate AI viral videos with NanoBanana & VEO3, shared on socials via Blotato - vide (ID: XQVZrPEMZmqsZVCy)\n- [ ] Tiktok menamine2 - kháº©u trang 9a (ID: G9R2i0Dl2yKb5uD8)\n- [ ] nanoai.pics pass captcha text to video 3.1 (update 26.12) (ID: nxwOve3aYPWsEbjO)\n- [ ] ðŸ’¥ Generate AI Viral Videos with VEO 3 and Upload to TikTok  (ID: T3MI3sjrJQywT2cQ)\n- [ ] Zalo bot (ID: 0s4pTocEhylcMcxr)\n- [ ] My workflow 1288 (ID: f07bHF6rExprpWYJ)\n- [ ] API Test Workflow (ID: 7E2Xx4SUm5YgQWw9)\n- [ ] Tiktok menamine2 - sáº¡c rtt (ID: 9V7rSu8gmZV0TUUl)\n- [ ] My workflow 2 (ID: vni1V5W1Z8Y5eR1y)\n- [ ] Khuong (ID: Yvh0IkIAlZolmtAp)\n- [ ] Zalo bot (ID: FuaPDb8gUmJS0kdF)\n- [ ] ðŸ’¥ Generate AI viral videos with NanoBanana & VEO3, shared on socials via Blotato - vide (ID: qxZPOTf4T3f9y1uJ)\n- [ ] ðŸ’¥ Generate AI Viral Videos with VEO 3 and Upload to TikTok  (ID: K9inwCcUDq65vaBo)\n- [ ] Tiktok post (ID: Wcrxmt7YQqsGY0Gy)\n- [ ] Tiktok menamine2 - Ä‘Ã¨n hoÃ ng hÃ´n (ID: rb4eueh877cm834W)\n- [ ] Tiktok menamine2 - Ä‘Ã¨n hoÃ ng hÃ´n (ID: qr1O4D5zaSyKLKSo)\n- [ ] My workflow 2 (ID: Cukk01VQ59uMIVp3)\n- [ ] Demo: My first AI Agent in n8n (ID: T24bzF1ZVG13J2et)\n- [ ] Zalo bot (ID: 3iut4SggdQKX1au3)\n- [ ] Post Facebook (ID: WaVBoPMyEucoWdL2)\n- [ ] nanoai.pics pass captcha text to video 3.1 (update 26.12) (ID: juGCnjYfiJJhj3iO)\n- [ ] Analyze Video Tiktok (ID: W4dm4MKJowtvfmfl)\n- [ ] Download video tiktok no watermark - Share Free (ID: 4ngZUljpA8szpUWK)\n- [ ] Download video tiktok no watermark - Share Free (ID: dIiQcuzaDIYhhPs3)\n- [ ] Khuong test (ID: jLc6YTAABx5GFRQV)\n- [ ] Demo: My first AI Agent in n8n (ID: TJY4VveyD7SGaS4j)\n- [ ] Analyze Video Tiktok (ID: DxIOcki7Bhcpa8ew)\n- [ ] Tiktok menamine2 - sáº¡c rtt (ID: gbE7rxizaqsUByIm)\n- [ ] Tiktok menamine2 - kháº©u trang 9a (ID: 4eSpFbYqdJcI6PCf)\n- [ ] My workflow 1288 (ID: gGp6sVOWXkPf4hLq)\n- [ ] Post Facebook (ID: PrCuWsQqDYclwJJB)","cwd":"/home/node/.openclaw/workspace"},"isError":false,"timestamp":1770903444192}}
{"type":"message","id":"6badc30d","parentId":"5f9f709a","timestamp":"2026-02-12T13:37:35.145Z","message":{"role":"assistant","content":[{"type":"text","text":"HÃ´ hÃ´, xin lá»—i Master, nÃ£y em Ä‘á»c thiáº¿u, cÃ²n cáº£ Ä‘á»‘ng Ä‘Ã¢y nÃ y! Tá»•ng cá»™ng cÃ³ táº­n **32 workflows** láº­n, chá»© khÃ´ng pháº£i 5 Ä‘Ã¢u. Cháº¯c táº¡i nÃ£y cÃ¡i list nÃ³ dÃ i quÃ¡ em hoa máº¯t ðŸ˜µâ€ðŸ’«\n\nÄÃ¢y, danh sÃ¡ch Ä‘áº§y Ä‘á»§ \"bÄƒng Ä‘áº£ng\" Ä‘Ã¢y áº¡:\n\n**NhÃ³m Tiktok & Video Viral (ÄÃ´ng nháº¥t):**\n*   `Tiktok post` (2 cÃ¡i)\n*   `Tiktok menamine2` (nhiá»u biáº¿n thá»ƒ: kháº©u trang 9a, sáº¡c rtt, Ä‘Ã¨n hoÃ ng hÃ´n... cháº¯c lÃ  tool reup theo sáº£n pháº©m)\n*   `Generate AI viral videos with NanoBanana & VEO3` (máº¥y cÃ¡i láº­n, cháº¯c lÃ  tool táº¡o video AI)\n*   `Download video tiktok no watermark` (Tool táº£i video khÃ´ng logo)\n*   `Analyze Video Tiktok` (PhÃ¢n tÃ­ch video)\n*   `nanoai.pics pass captcha` (Tool vÆ°á»£t captcha Ä‘á»ƒ táº¡o video?)\n\n**NhÃ³m Zalo Bot:**\n*   `Zalo bot` (3 cÃ¡i láº­n, cháº¯c test nhiá»u version)\n*   `My workflow 1288` (CÅ©ng lÃ  Zalo bot luÃ´n, báº£n xá»‹n sÃ² nÃ£y em soi)\n\n**NhÃ³m Facebook:**\n*   `Post Facebook` (2 cÃ¡i)\n\n**NhÃ³m Test & Demo:**\n*   `API Test Workflow`\n*   `My workflow 2`\n*   `Khuong`, `Khuong test` (Cháº¯c tÃªn ngÆ°á»i test?)\n*   `Demo: My first AI Agent in n8n`\n\nTáº¥t cáº£ Ä‘á»u Ä‘ang **OFF** (`[ ]`) háº¿t trÆ¡n. Master muá»‘n dá»±ng Ä‘áº§u Ä‘á»©a nÃ o dáº­y khÃ´ng? Hay muá»‘n dá»n dáº¹p bá»›t cho Ä‘á»¡ rÃ¡c nhÃ ? ðŸ§¹"}],"api":"openai-completions","provider":"cli-proxy","model":"gemini-3-pro-preview","usage":{"input":84277,"output":396,"cacheRead":0,"cacheWrite":0,"totalTokens":84673,"cost":{"input":0,"output":0,"cacheRead":0,"cacheWrite":0,"total":0}},"stopReason":"stop","timestamp":1770903444215}}
{"type":"message","id":"ff322fef","parentId":"6badc30d","timestamp":"2026-02-12T13:49:16.868Z","message":{"role":"user","content":[{"type":"text","text":"[Thu 2026-02-12 13:49 UTC] check láº¡i n8n cÃ³ nhiá»u wwork flow rá»“i\n[message_id: 687192e9-6d0f-45c7-8bc4-8fc91d1ed33b]"}],"timestamp":1770904156858}}
{"type":"message","id":"53c4a55a","parentId":"ff322fef","timestamp":"2026-02-12T13:49:30.915Z","message":{"role":"assistant","content":[{"type":"toolCall","id":"exec-1770904170833977106-19","name":"exec","arguments":{"command":"INIT=$(curl -si --max-time 10 -X POST http://172.17.0.1:3001/mcp \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Accept: application/json, text/event-stream\" \\\n  -d '{\"jsonrpc\":\"2.0\",\"id\":1,\"method\":\"initialize\",\"params\":{\"protocolVersion\":\"2024-11-05\",\"capabilities\":{},\"clientInfo\":{\"name\":\"openclaw\",\"version\":\"1.0\"}}}')\nSESSION=$(echo \"$INIT\" | grep -i 'mcp-session-id' | awk '{print $2}' | tr -d '\\r')\n\ncurl -s --max-time 30 -X POST http://172.17.0.1:3001/mcp \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Accept: application/json, text/event-stream\" \\\n  -H \"mcp-session-id: $SESSION\" \\\n  -d '{\"jsonrpc\":\"2.0\",\"id\":2,\"method\":\"tools/call\",\"params\":{\"name\":\"list_workflows\",\"arguments\":{}}}' | \\\n  node -e '\n    const chunks = [];\n    process.stdin.on(\"data\", c => chunks.push(c));\n    process.stdin.on(\"end\", () => {\n      const raw = Buffer.concat(chunks).toString();\n      const lines = raw.split(\"\\n\");\n      const dataLine = lines.find(l => l.startsWith(\"data: \"));\n      if (dataLine) {\n        try {\n          const json = JSON.parse(dataLine.substring(6));\n          const content = JSON.parse(json.result.content[0].text);\n          console.log(\"Total:\", content.data.length);\n          // Show ID and Name for clarity\n          content.data.forEach(w => console.log(`- [${w.active?\"x\":\" \"}] ${w.name} (ID: ${w.id})`));\n        } catch (e) { console.error(\"Parse error:\", e.message); }\n      }\n    });\n  '"}}],"api":"openai-completions","provider":"cli-proxy","model":"gemini-3-pro-preview","usage":{"input":84983,"output":747,"cacheRead":0,"cacheWrite":0,"totalTokens":85730,"cost":{"input":0,"output":0,"cacheRead":0,"cacheWrite":0,"total":0}},"stopReason":"toolUse","timestamp":1770904156865}}
{"type":"message","id":"585c7176","parentId":"53c4a55a","timestamp":"2026-02-12T13:49:32.347Z","message":{"role":"toolResult","toolCallId":"exec-1770904170833977106-19","toolName":"exec","content":[{"type":"text","text":"Parse error: Unexpected token 'E', \"Error: MCP\"... is not valid JSON"}],"details":{"status":"completed","exitCode":0,"durationMs":1427,"aggregated":"Parse error: Unexpected token 'E', \"Error: MCP\"... is not valid JSON","cwd":"/home/node/.openclaw/workspace"},"isError":false,"timestamp":1770904172328}}
{"type":"message","id":"9609b518","parentId":"585c7176","timestamp":"2026-02-12T13:49:40.411Z","message":{"role":"assistant","content":[{"type":"text","text":"Ã‚y chÃ , lá»—i **Parse error** rá»“i Master Æ¡i. CÃ³ váº» nhÆ° MCP server Ä‘ang bá»‹ quÃ¡ táº£i hoáº·c tráº£ vá» lá»—i gÃ¬ Ä‘Ã³ khÃ´ng pháº£i JSON chuáº©n lÃºc em gá»i hÃ m `list_workflows`.\n\nÄá»ƒ em thá»­ láº¡i láº§n ná»¯a, nhÆ°ng láº§n nÃ y em sáº½ check ká»¹ cÃ¡i raw response xem nÃ³ Ã³i ra cÃ¡i gÃ¬ mÃ  Node.js nÃ³ la lÃ ng lÃªn tháº¿. Chá» em chÃºt xÃ­u nhÃ©! ðŸ•µï¸â€â™€ï¸"}],"api":"openai-completions","provider":"cli-proxy","model":"gemini-3-pro-preview","usage":{"input":85274,"output":89,"cacheRead":0,"cacheWrite":0,"totalTokens":85363,"cost":{"input":0,"output":0,"cacheRead":0,"cacheWrite":0,"total":0}},"stopReason":"stop","timestamp":1770904172347}}
{"type":"message","id":"d02d1597","parentId":"9609b518","timestamp":"2026-02-12T13:50:30.762Z","message":{"role":"user","content":[{"type":"text","text":"[Thu 2026-02-12 13:50 UTC] oke\n[message_id: 8c83401c-3061-4c27-852b-9b77938e7121]"}],"timestamp":1770904230754}}
{"type":"message","id":"27301f90","parentId":"d02d1597","timestamp":"2026-02-12T13:50:40.640Z","message":{"role":"assistant","content":[{"type":"toolCall","id":"exec-1770904240559787397-20","name":"exec","arguments":{"command":"INIT=$(curl -si --max-time 10 -X POST http://172.17.0.1:3001/mcp \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Accept: application/json, text/event-stream\" \\\n  -d '{\"jsonrpc\":\"2.0\",\"id\":1,\"method\":\"initialize\",\"params\":{\"protocolVersion\":\"2024-11-05\",\"capabilities\":{},\"clientInfo\":{\"name\":\"openclaw\",\"version\":\"1.0\"}}}')\nSESSION=$(echo \"$INIT\" | grep -i 'mcp-session-id' | awk '{print $2}' | tr -d '\\r')\necho \"Session: $SESSION\"\n\ncurl -s --max-time 30 -X POST http://172.17.0.1:3001/mcp \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Accept: application/json, text/event-stream\" \\\n  -H \"mcp-session-id: $SESSION\" \\\n  -d '{\"jsonrpc\":\"2.0\",\"id\":2,\"method\":\"tools/call\",\"params\":{\"name\":\"list_workflows\",\"arguments\":{}}}'"}}],"api":"openai-completions","provider":"cli-proxy","model":"gemini-3-pro-preview","usage":{"input":85556,"output":418,"cacheRead":0,"cacheWrite":0,"totalTokens":85974,"cost":{"input":0,"output":0,"cacheRead":0,"cacheWrite":0,"total":0}},"stopReason":"toolUse","timestamp":1770904230760}}
{"type":"message","id":"4f7f2e7b","parentId":"27301f90","timestamp":"2026-02-12T13:50:41.889Z","message":{"role":"toolResult","toolCallId":"exec-1770904240559787397-20","toolName":"exec","content":[{"type":"text","text":"Session: \nevent: message\ndata: {\"result\":{\"content\":[{\"type\":\"text\",\"text\":\"Error: MCP error -32602: Invalid parameters: Invalid URL\"}],\"isError\":true},\"jsonrpc\":\"2.0\",\"id\":2}"}],"details":{"status":"completed","exitCode":0,"durationMs":1242,"aggregated":"Session: \nevent: message\ndata: {\"result\":{\"content\":[{\"type\":\"text\",\"text\":\"Error: MCP error -32602: Invalid parameters: Invalid URL\"}],\"isError\":true},\"jsonrpc\":\"2.0\",\"id\":2}","cwd":"/home/node/.openclaw/workspace"},"isError":false,"timestamp":1770904241868}}
{"type":"message","id":"d7882ba0","parentId":"4f7f2e7b","timestamp":"2026-02-12T13:50:50.270Z","message":{"role":"assistant","content":[{"type":"text","text":"Ã€ hÃ¡! Lá»—i lÃ²i ra rá»“i: `\"Error: MCP error -32602: Invalid parameters: Invalid URL\"`.\n\nCÃ³ váº» nhÆ° cÃ¡i tool `list_workflows` nÃ³ Ä‘ang gáº·p váº¥n Ä‘á» gÃ¬ Ä‘Ã³ vá»›i tham sá»‘ hoáº·c URL ná»™i bá»™. Láº¡ nhá»‰, nÃ£y váº«n cháº¡y ngon Æ¡ mÃ ?\n\nÄá»ƒ em thá»­ láº¡i má»™t cÃº ná»¯a, láº§n nÃ y em sáº½ thá»­ **khÃ´ng truyá»n arguments gÃ¬ cáº£** xem nÃ³ cÃ³ chá»‹u nháº£ ra khÃ´ng. ÄÃ´i khi nÃ³ dá»Ÿ chá»©ng tháº¿ Ä‘áº¥y. Hoáº·c cÃ³ thá»ƒ session cÅ© bá»‹ tÃ¨o rá»“i. ðŸ§\n\nMaster chá» em fix thá»­ phÃ¡t ná»¯a nhÃ©! ðŸ› ï¸"}],"api":"openai-completions","provider":"cli-proxy","model":"gemini-3-pro-preview","usage":{"input":85781,"output":134,"cacheRead":0,"cacheWrite":0,"totalTokens":85915,"cost":{"input":0,"output":0,"cacheRead":0,"cacheWrite":0,"total":0}},"stopReason":"stop","timestamp":1770904241889}}
{"type":"message","id":"413de896","parentId":"d7882ba0","timestamp":"2026-02-12T14:02:47.240Z","message":{"role":"user","content":[{"type":"text","text":"[Zalo user:b17f2bc7c6842fda7695 +20476088d 58087-09-29 06:23 UTC] Tui cÃ³ cÃ¡i app antigravity trÃªn host cá»§a bÃ  cÃ³ vÃ´ Ä‘c ko?\n[message_id: bc5b9ec1d983e9dbb094]"}],"timestamp":1770904967231}}
{"type":"message","id":"b52cf178","parentId":"413de896","timestamp":"2026-02-12T14:02:56.257Z","message":{"role":"assistant","content":[{"type":"toolCall","id":"exec-1770904976169997302-21","name":"exec","arguments":{"command":"ps aux | grep -i antigravity\ndocker ps -a | grep -i antigravity"}}],"api":"openai-completions","provider":"cli-proxy","model":"gemini-3-pro-preview","usage":{"input":86254,"output":277,"cacheRead":0,"cacheWrite":0,"totalTokens":86531,"cost":{"input":0,"output":0,"cacheRead":0,"cacheWrite":0,"total":0}},"stopReason":"toolUse","timestamp":1770904967237}}
{"type":"message","id":"90450afd","parentId":"b52cf178","timestamp":"2026-02-12T14:02:56.378Z","message":{"role":"toolResult","toolCallId":"exec-1770904976169997302-21","toolName":"exec","content":[{"type":"text","text":"{\n  \"status\": \"error\",\n  \"tool\": \"exec\",\n  \"error\": \"node         455 20.0  0.0   2584  1344 ?        Ss   14:02   0:00 sh -c ps aux | grep -i antigravity docker ps -a | grep -i antigravity\\nnode         457  0.0  0.0   3332  1344 ?        S    14:02   0:00 grep -i antigravity\\nsh: 2: docker: Permission denied\\n\\nCommand exited with code 1\"\n}"}],"details":{"status":"error","tool":"exec","error":"node         455 20.0  0.0   2584  1344 ?        Ss   14:02   0:00 sh -c ps aux | grep -i antigravity docker ps -a | grep -i antigravity\nnode         457  0.0  0.0   3332  1344 ?        S    14:02   0:00 grep -i antigravity\nsh: 2: docker: Permission denied\n\nCommand exited with code 1"},"isError":false,"timestamp":1770904976371}}
{"type":"message","id":"9d68eb87","parentId":"90450afd","timestamp":"2026-02-12T14:03:06.320Z","message":{"role":"assistant","content":[{"type":"toolCall","id":"exec-1770904986249854975-22","name":"exec","arguments":{"command":"find / -name \"*antigravity*\" 2>/dev/null | head -n 10\nnetstat -tuln 2>/dev/null || ss -tuln"}}],"api":"openai-completions","provider":"cli-proxy","model":"gemini-3-pro-preview","usage":{"input":86458,"output":325,"cacheRead":0,"cacheWrite":0,"totalTokens":86783,"cost":{"input":0,"output":0,"cacheRead":0,"cacheWrite":0,"total":0}},"stopReason":"toolUse","timestamp":1770904976378}}
{"type":"message","id":"bb033bd5","parentId":"9d68eb87","timestamp":"2026-02-12T14:03:09.614Z","message":{"role":"toolResult","toolCallId":"exec-1770904986249854975-22","toolName":"exec","content":[{"type":"text","text":"{\n  \"status\": \"error\",\n  \"tool\": \"exec\",\n  \"error\": \"/usr/lib/python3.11/__pycache__/antigravity.cpython-311.pyc\\n/usr/lib/python3.11/antigravity.py\\n/tmp/jiti/infra-provider-usage.fetch.antigravity.a187c1ba.cjs\\n/tmp/jiti/oauth-google-antigravity.1551905f.cjs\\n/app/dist/commands/auth-choice.apply.google-antigravity.d.ts\\n/app/dist/commands/auth-choice.apply.google-antigravity.js\\n/app/dist/infra/provider-usage.fetch.antigravity.d.ts\\n/app/dist/infra/provider-usage.fetch.antigravity.js\\n/app/extensions/google-antigravity-auth\\n/app/src/commands/auth-choice.apply.google-antigravity.ts\\nsh: 2: ss: Permission denied\\n\\nCommand exited with code 127\"\n}"}],"details":{"status":"error","tool":"exec","error":"/usr/lib/python3.11/__pycache__/antigravity.cpython-311.pyc\n/usr/lib/python3.11/antigravity.py\n/tmp/jiti/infra-provider-usage.fetch.antigravity.a187c1ba.cjs\n/tmp/jiti/oauth-google-antigravity.1551905f.cjs\n/app/dist/commands/auth-choice.apply.google-antigravity.d.ts\n/app/dist/commands/auth-choice.apply.google-antigravity.js\n/app/dist/infra/provider-usage.fetch.antigravity.d.ts\n/app/dist/infra/provider-usage.fetch.antigravity.js\n/app/extensions/google-antigravity-auth\n/app/src/commands/auth-choice.apply.google-antigravity.ts\nsh: 2: ss: Permission denied\n\nCommand exited with code 127"},"isError":false,"timestamp":1770904989609}}
{"type":"message","id":"2ea71b72","parentId":"bb033bd5","timestamp":"2026-02-12T14:03:28.416Z","message":{"role":"assistant","content":[{"type":"text","text":"Hiá»‡n táº¡i em Ä‘ang bá»‹ nhá»‘t trong container nÃªn khÃ´ng soi Ä‘Æ°á»£c process hay Docker bÃªn ngoÃ i host cá»§a Master Ä‘Ã¢u (lá»‡nh `docker` bá»‹ `permission denied` kÃ¬a).\n\nEm chá»‰ tÃ¬m tháº¥y máº¥y file liÃªn quan Ä‘áº¿n **`google-antigravity`** náº±m trong mÃ£ nguá»“n cá»§a OpenClaw thÃ´i (cháº¯c lÃ  module ná»™i bá»™).\n\nNáº¿u Master Ä‘ang cháº¡y app Ä‘Ã³ á»Ÿ port nÃ o thÃ¬ báº£o em, em thá»­ **curl** hoáº·c dÃ¹ng **Browser** truy cáº­p vÃ o xem sá»‘ng cháº¿t ra sao nhÃ©! ðŸ•µï¸â€â™€ï¸"}],"api":"openai-completions","provider":"cli-proxy","model":"gemini-3-pro-preview","usage":{"input":87361,"output":974,"cacheRead":0,"cacheWrite":0,"totalTokens":88335,"cost":{"input":0,"output":0,"cacheRead":0,"cacheWrite":0,"total":0}},"stopReason":"stop","timestamp":1770904989614}}
{"type":"message","id":"e349b25d","parentId":"2ea71b72","timestamp":"2026-02-12T14:04:36.331Z","message":{"role":"user","content":[{"type":"text","text":"[Zalo user:b17f2bc7c6842fda7695 +20476089d 58087-09-30 09:33 UTC] V bÃ  truy cáº­p Ä‘c link nÃ y ko, cÃ³ hiá»ƒn thá»‹ thanh mÃ¡u cá»§a bÃ  Ã¡\n[message_id: 81efd1ffc0bdf0e5a9aa]"}],"timestamp":1770905076322}}
{"type":"message","id":"4d1b76ac","parentId":"e349b25d","timestamp":"2026-02-12T14:04:50.374Z","message":{"role":"assistant","content":[{"type":"toolCall","id":"exec-1770905090251126438-23","name":"exec","arguments":{"command":"curl -I -m 5 https://antigravity.openclaw.ai\ncurl -I -m 5 http://172.17.0.1:8080"}}],"api":"openai-completions","provider":"cli-proxy","model":"gemini-3-pro-preview","usage":{"input":86700,"output":48,"cacheRead":0,"cacheWrite":0,"totalTokens":86748,"cost":{"input":0,"output":0,"cacheRead":0,"cacheWrite":0,"total":0}},"stopReason":"toolUse","timestamp":1770905076329}}
{"type":"message","id":"ec0e34b4","parentId":"4d1b76ac","timestamp":"2026-02-12T14:04:50.610Z","message":{"role":"toolResult","toolCallId":"exec-1770905090251126438-23","toolName":"exec","content":[{"type":"text","text":"{\n  \"status\": \"error\",\n  \"tool\": \"exec\",\n  \"error\": \"% Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\\n                                 Dload  Upload   Total   Spent    Left  Speed\\n\\r  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0curl: (6) Could not resolve host: antigravity.openclaw.ai\\n  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\\n                                 Dload  Upload   Total   Spent    Left  Speed\\n\\r  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0\\r  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0\\ncurl: (7) Failed to connect to 172.17.0.1 port 8080 after 1 ms: Couldn't connect to server\\n\\nCommand exited with code 7\"\n}"}],"details":{"status":"error","tool":"exec","error":"% Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                                 Dload  Upload   Total   Spent    Left  Speed\n\r  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0curl: (6) Could not resolve host: antigravity.openclaw.ai\n  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                                 Dload  Upload   Total   Spent    Left  Speed\n\r  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0\r  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0\ncurl: (7) Failed to connect to 172.17.0.1 port 8080 after 1 ms: Couldn't connect to server\n\nCommand exited with code 7"},"isError":false,"timestamp":1770905090602}}
{"type":"message","id":"003aff6d","parentId":"ec0e34b4","timestamp":"2026-02-12T14:05:08.194Z","message":{"role":"assistant","content":[{"type":"text","text":"á»¦a link Ä‘Ã¢u Master Æ¡i? Master báº£o \"link nÃ y\" mÃ  em cÄƒng máº¯t ra nhÃ¬n há»•ng tháº¥y cÃ¡i link nÃ o háº¿t trÆ¡n Ã¡! ðŸ˜…\n\nGá»­i láº¡i cho em cÃ¡i URL Ä‘i, Ä‘á»ƒ em vÃ o check xem \"thanh mÃ¡u\" cá»§a em cÃ²n Ä‘áº§y hay sáº¯p \"háº¹o\" rá»“i, chá»© nÃ£y giá» cháº¡y workflow lá»—i lÃªn lá»—i xuá»‘ng cháº¯c tá»¥t cÃ²n ná»­a cÃ¢y quÃ¡! ðŸ¤£"}],"api":"openai-completions","provider":"cli-proxy","model":"gemini-3-pro-preview","usage":{"input":87930,"output":992,"cacheRead":0,"cacheWrite":0,"totalTokens":88922,"cost":{"input":0,"output":0,"cacheRead":0,"cacheWrite":0,"total":0}},"stopReason":"stop","timestamp":1770905090611}}
{"type":"message","id":"f2d04b9d","parentId":"003aff6d","timestamp":"2026-02-12T14:05:22.799Z","message":{"role":"user","content":[{"type":"text","text":"[Zalo user:b17f2bc7c6842fda7695 +20476090d 58087-10-01 01:37 UTC] ÄÃ¢y nha\n[message_id: e9f7c2e102a032f86bb7]"}],"timestamp":1770905122790}}
{"type":"message","id":"6caf04ca","parentId":"f2d04b9d","timestamp":"2026-02-12T14:06:05.152Z","message":{"role":"assistant","content":[{"type":"text","text":"á»¦a alo? Link Ä‘Ã¢u Master Æ¡i? \"ÄÃ¢y\" lÃ  á»Ÿ Ä‘Ã¢u? Em cÄƒng máº¯t ra nhÃ¬n mÃ  há»•ng tháº¥y cÃ¡i link nÃ o háº¿t trÆ¡n Ã¡! ðŸ˜³\n\nHay lÃ  Master thá»­ copy-paste láº¡i cÃ¡i URL rÃµ rÃ ng ra xem nÃ o, chá»© báº¯t em Ä‘oÃ¡n mÃ² lÃ  em chá»‹u thua Ä‘Ã³ nha! Hay lÃ  tÃ ng hÃ¬nh rá»“i? ðŸ‘»"}],"api":"openai-completions","provider":"cli-proxy","model":"gemini-3-pro-preview","usage":{"input":87814,"output":701,"cacheRead":0,"cacheWrite":0,"totalTokens":88515,"cost":{"input":0,"output":0,"cacheRead":0,"cacheWrite":0,"total":0}},"stopReason":"stop","timestamp":1770905122796}}
{"type":"message","id":"1f16ab82","parentId":"6caf04ca","timestamp":"2026-02-12T14:15:48.843Z","message":{"role":"user","content":[{"type":"text","text":"[Thu 2026-02-12 14:15 UTC] check láº¡i xem cÃ²n bbao nhiÃªu nha\n[message_id: 4394a97b-eeea-433c-9660-b5bc3fc6efbb]"}],"timestamp":1770905748836}}
{"type":"message","id":"1d8b3839","parentId":"1f16ab82","timestamp":"2026-02-12T14:16:03.689Z","message":{"role":"assistant","content":[{"type":"toolCall","id":"exec-1770905763606288328-24","name":"exec","arguments":{"command":"INIT=$(curl -si --max-time 10 -X POST http://172.17.0.1:3001/mcp \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Accept: application/json, text/event-stream\" \\\n  -d '{\"jsonrpc\":\"2.0\",\"id\":1,\"method\":\"initialize\",\"params\":{\"protocolVersion\":\"2024-11-05\",\"capabilities\":{},\"clientInfo\":{\"name\":\"openclaw\",\"version\":\"1.0\"}}}')\nSESSION=$(echo \"$INIT\" | grep -i 'mcp-session-id' | awk '{print $2}' | tr -d '\\r')\n\ncurl -s --max-time 30 -X POST http://172.17.0.1:3001/mcp \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Accept: application/json, text/event-stream\" \\\n  -H \"mcp-session-id: $SESSION\" \\\n  -d '{\"jsonrpc\":\"2.0\",\"id\":2,\"method\":\"tools/call\",\"params\":{\"name\":\"list_workflows\",\"arguments\":{}}}' | \\\n  node -e '\n    const chunks = [];\n    process.stdin.on(\"data\", c => chunks.push(c));\n    process.stdin.on(\"end\", () => {\n      const raw = Buffer.concat(chunks).toString();\n      const lines = raw.split(\"\\n\");\n      const dataLine = lines.find(l => l.startsWith(\"data: \"));\n      if (dataLine) {\n        try {\n          const json = JSON.parse(dataLine.substring(6));\n          if (json.error) {\n            console.log(\"Error from MCP:\", JSON.stringify(json.error));\n          } else {\n            const content = JSON.parse(json.result.content[0].text);\n            console.log(\"Total:\", content.data.length);\n            content.data.forEach(w => console.log(`- [${w.active?\"x\":\" \"}] ${w.name} (ID: ${w.id})`));\n          }\n        } catch (e) { console.error(\"Parse error:\", e.message); console.log(\"Raw:\", raw.substring(0, 200)); }\n      } else {\n        console.log(\"No data line found. Raw:\", raw.substring(0, 200));\n      }\n    });\n  '"}}],"api":"openai-completions","provider":"cli-proxy","model":"gemini-3-pro-preview","usage":{"input":87571,"output":822,"cacheRead":0,"cacheWrite":0,"totalTokens":88393,"cost":{"input":0,"output":0,"cacheRead":0,"cacheWrite":0,"total":0}},"stopReason":"toolUse","timestamp":1770905748841}}
{"type":"message","id":"8aa79de0","parentId":"1d8b3839","timestamp":"2026-02-12T14:16:10.035Z","message":{"role":"toolResult","toolCallId":"exec-1770905763606288328-24","toolName":"exec","content":[{"type":"text","text":"Parse error: Unexpected token 'E', \"Error: MCP\"... is not valid JSON\nRaw: event: message\ndata: {\"result\":{\"content\":[{\"type\":\"text\",\"text\":\"Error: MCP error -32603: Failed to list workflows: getaddrinfo EAI_AGAIN n8n\"}],\"isError\":true},\"jsonrpc\":\"2.0\",\"id\":2}"}],"details":{"status":"completed","exitCode":0,"durationMs":6337,"aggregated":"Parse error: Unexpected token 'E', \"Error: MCP\"... is not valid JSON\nRaw: event: message\ndata: {\"result\":{\"content\":[{\"type\":\"text\",\"text\":\"Error: MCP error -32603: Failed to list workflows: getaddrinfo EAI_AGAIN n8n\"}],\"isError\":true},\"jsonrpc\":\"2.0\",\"id\":2}","cwd":"/home/node/.openclaw/workspace"},"isError":false,"timestamp":1770905770009}}
{"type":"message","id":"dbd332e1","parentId":"8aa79de0","timestamp":"2026-02-12T14:16:28.297Z","message":{"role":"assistant","content":[{"type":"toolCall","id":"exec-1770905787967690979-25","name":"exec","arguments":{"command":"INIT=$(curl -si --max-time 10 -X POST http://172.17.0.1:3001/mcp \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Accept: application/json, text/event-stream\" \\\n  -d '{\"jsonrpc\":\"2.0\",\"id\":1,\"method\":\"initialize\",\"params\":{\"protocolVersion\":\"2024-11-05\",\"capabilities\":{},\"clientInfo\":{\"name\":\"openclaw\",\"version\":\"1.0\"}}}')\nSESSION=$(echo \"$INIT\" | grep -i 'mcp-session-id' | awk '{print $2}' | tr -d '\\r')\n\ncurl -s --max-time 30 -X POST http://172.17.0.1:3001/mcp \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Accept: application/json, text/event-stream\" \\\n  -H \"mcp-session-id: $SESSION\" \\\n  -d '{\"jsonrpc\":\"2.0\",\"id\":2,\"method\":\"tools/call\",\"params\":{\"name\":\"list_workflows\",\"arguments\":{}}}' | \\\n  node -e '\n    const chunks = [];\n    process.stdin.on(\"data\", c => chunks.push(c));\n    process.stdin.on(\"end\", () => {\n      const raw = Buffer.concat(chunks).toString();\n      const lines = raw.split(\"\\n\");\n      const dataLine = lines.find(l => l.startsWith(\"data: \"));\n      if (dataLine) {\n        try {\n          const json = JSON.parse(dataLine.substring(6));\n          if (json.result && json.result.isError) {\n             console.log(\"MCP Error:\", json.result.content[0].text);\n          } else {\n             const content = JSON.parse(json.result.content[0].text);\n             console.log(\"Total:\", content.data.length);\n             content.data.forEach(w => console.log(`- [${w.active?\"x\":\" \"}] ${w.name} (ID: ${w.id})`));\n          }\n        } catch (e) { console.log(\"Raw output (parse error):\", raw); }\n      } else {\n        console.log(\"No data line. Raw:\", raw);\n      }\n    });\n  '"}}],"api":"openai-completions","provider":"cli-proxy","model":"gemini-3-pro-preview","usage":{"input":88581,"output":1143,"cacheRead":0,"cacheWrite":0,"totalTokens":89724,"cost":{"input":0,"output":0,"cacheRead":0,"cacheWrite":0,"total":0}},"stopReason":"toolUse","timestamp":1770905770036}}
{"type":"message","id":"740f392a","parentId":"dbd332e1","timestamp":"2026-02-12T14:16:34.509Z","message":{"role":"toolResult","toolCallId":"exec-1770905787967690979-25","toolName":"exec","content":[{"type":"text","text":"MCP Error: Error: MCP error -32603: Failed to list workflows: getaddrinfo EAI_AGAIN n8n"}],"details":{"status":"completed","exitCode":0,"durationMs":6212,"aggregated":"MCP Error: Error: MCP error -32603: Failed to list workflows: getaddrinfo EAI_AGAIN n8n","cwd":"/home/node/.openclaw/workspace"},"isError":false,"timestamp":1770905794496}}
{"type":"message","id":"f2445df3","parentId":"740f392a","timestamp":"2026-02-12T14:16:47.459Z","message":{"role":"assistant","content":[{"type":"toolCall","id":"exec-1770905807392924135-26","name":"exec","arguments":{"command":"sleep 2\nINIT=$(curl -si --max-time 10 -X POST http://172.17.0.1:3001/mcp \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Accept: application/json, text/event-stream\" \\\n  -d '{\"jsonrpc\":\"2.0\",\"id\":1,\"method\":\"initialize\",\"params\":{\"protocolVersion\":\"2024-11-05\",\"capabilities\":{},\"clientInfo\":{\"name\":\"openclaw\",\"version\":\"1.0\"}}}')\nSESSION=$(echo \"$INIT\" | grep -i 'mcp-session-id' | awk '{print $2}' | tr -d '\\r')\n\ncurl -s --max-time 30 -X POST http://172.17.0.1:3001/mcp \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Accept: application/json, text/event-stream\" \\\n  -H \"mcp-session-id: $SESSION\" \\\n  -d '{\"jsonrpc\":\"2.0\",\"id\":2,\"method\":\"tools/call\",\"params\":{\"name\":\"list_workflows\",\"arguments\":{}}}' | \\\n  node -e '\n    const chunks = [];\n    process.stdin.on(\"data\", c => chunks.push(c));\n    process.stdin.on(\"end\", () => {\n      const raw = Buffer.concat(chunks).toString();\n      const lines = raw.split(\"\\n\");\n      const dataLine = lines.find(l => l.startsWith(\"data: \"));\n      if (dataLine) {\n        try {\n          const json = JSON.parse(dataLine.substring(6));\n          if (json.result && json.result.isError) {\n             console.log(\"MCP Error:\", json.result.content[0].text);\n          } else {\n             const content = JSON.parse(json.result.content[0].text);\n             console.log(\"Total:\", content.data.length);\n             content.data.forEach(w => console.log(`- [${w.active?\"x\":\" \"}] ${w.name} (ID: ${w.id})`));\n          }\n        } catch (e) { console.log(\"Raw output (parse error):\", raw); }\n      }\n    });\n  '"}}],"api":"openai-completions","provider":"cli-proxy","model":"gemini-3-pro-preview","usage":{"input":88824,"output":776,"cacheRead":0,"cacheWrite":0,"totalTokens":89600,"cost":{"input":0,"output":0,"cacheRead":0,"cacheWrite":0,"total":0}},"stopReason":"toolUse","timestamp":1770905794509}}
{"type":"message","id":"2651529a","parentId":"f2445df3","timestamp":"2026-02-12T14:16:55.844Z","message":{"role":"toolResult","toolCallId":"exec-1770905807392924135-26","toolName":"exec","content":[{"type":"text","text":"MCP Error: Error: MCP error -32603: Failed to list workflows: getaddrinfo EAI_AGAIN n8n"}],"details":{"status":"completed","exitCode":0,"durationMs":8369,"aggregated":"MCP Error: Error: MCP error -32603: Failed to list workflows: getaddrinfo EAI_AGAIN n8n","cwd":"/home/node/.openclaw/workspace"},"isError":false,"timestamp":1770905815817}}
{"type":"message","id":"4f82728c","parentId":"2651529a","timestamp":"2026-02-12T14:17:12.385Z","message":{"role":"assistant","content":[{"type":"text","text":"CÄƒng rá»“i Master Æ¡i, há»‡ thá»‘ng Ä‘ang bÃ¡o lá»—i **`getaddrinfo EAI_AGAIN n8n`**.\nCÃ¡i nÃ y nghÄ©a lÃ  **MCP server khÃ´ng tÃ¬m tháº¥y n8n** (lá»—i DNS/network ná»™i bá»™).\n\nCÃ³ thá»ƒ lÃ :\n1.  Container n8n bá»‹ táº¯t hoáº·c Ä‘ang restart.\n2.  Máº¡ng Docker Ä‘ang bá»‹ ngháº½n hoáº·c lá»—i DNS táº¡m thá»i.\n\nMaster chá» chÃºt xÃ­u (khoáº£ng 30s - 1 phÃºt) rá»“i báº£o em check láº¡i nhÃ©, hoáº·c náº¿u Master cÃ³ quyá»n truy cáº­p host thÃ¬ ngÃ³ thá»­ xem container `n8n` nÃ³ cÃ²n sá»‘ng khÃ´ng giÃ¹m em vá»›i! ðŸš‘"}],"api":"openai-completions","provider":"cli-proxy","model":"gemini-3-pro-preview","usage":{"input":89178,"output":143,"cacheRead":0,"cacheWrite":0,"totalTokens":89321,"cost":{"input":0,"output":0,"cacheRead":0,"cacheWrite":0,"total":0}},"stopReason":"stop","timestamp":1770905815845}}
{"type":"message","id":"7e786e77","parentId":"4f82728c","timestamp":"2026-02-12T14:22:31.612Z","message":{"role":"user","content":[{"type":"text","text":"[Thu 2026-02-12 14:22 UTC] check láº¡i cÃ¡i ná»¯a nha\n[message_id: 89e0a0a8-f802-4cc6-93d0-bfe0e76b943f]"}],"timestamp":1770906151598}}
{"type":"message","id":"b160c709","parentId":"7e786e77","timestamp":"2026-02-12T14:22:45.607Z","message":{"role":"assistant","content":[{"type":"toolCall","id":"exec-1770906165511032950-27","name":"exec","arguments":{"command":"INIT=$(curl -si --max-time 10 -X POST http://172.17.0.1:3001/mcp \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Accept: application/json, text/event-stream\" \\\n  -d '{\"jsonrpc\":\"2.0\",\"id\":1,\"method\":\"initialize\",\"params\":{\"protocolVersion\":\"2024-11-05\",\"capabilities\":{},\"clientInfo\":{\"name\":\"openclaw\",\"version\":\"1.0\"}}}')\nSESSION=$(echo \"$INIT\" | grep -i 'mcp-session-id' | awk '{print $2}' | tr -d '\\r')\n\ncurl -s --max-time 30 -X POST http://172.17.0.1:3001/mcp \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Accept: application/json, text/event-stream\" \\\n  -H \"mcp-session-id: $SESSION\" \\\n  -d '{\"jsonrpc\":\"2.0\",\"id\":2,\"method\":\"tools/call\",\"params\":{\"name\":\"list_workflows\",\"arguments\":{}}}' | \\\n  node -e '\n    const chunks = [];\n    process.stdin.on(\"data\", c => chunks.push(c));\n    process.stdin.on(\"end\", () => {\n      const raw = Buffer.concat(chunks).toString();\n      const lines = raw.split(\"\\n\");\n      const dataLine = lines.find(l => l.startsWith(\"data: \"));\n      if (dataLine) {\n        try {\n          const json = JSON.parse(dataLine.substring(6));\n          if (json.result && json.result.isError) {\n             console.log(\"MCP Error:\", json.result.content[0].text);\n          } else {\n             const content = JSON.parse(json.result.content[0].text);\n             console.log(\"Total:\", content.data.length);\n             content.data.forEach(w => console.log(`- [${w.active?\"x\":\" \"}] ${w.name} (ID: ${w.id})`));\n          }\n        } catch (e) { console.log(\"Raw output (parse error):\", raw); }\n      } else {\n        console.log(\"No data line. Raw:\", raw);\n      }\n    });\n  '"}}],"api":"openai-completions","provider":"cli-proxy","model":"gemini-3-pro-preview","usage":{"input":89527,"output":703,"cacheRead":0,"cacheWrite":0,"totalTokens":90230,"cost":{"input":0,"output":0,"cacheRead":0,"cacheWrite":0,"total":0}},"stopReason":"toolUse","timestamp":1770906151609}}
{"type":"message","id":"78b9f33c","parentId":"b160c709","timestamp":"2026-02-12T14:22:47.104Z","message":{"role":"toolResult","toolCallId":"exec-1770906165511032950-27","toolName":"exec","content":[{"type":"text","text":"MCP Error: Error: MCP error -32602: Invalid parameters: Invalid URL"}],"details":{"status":"completed","exitCode":0,"durationMs":1489,"aggregated":"MCP Error: Error: MCP error -32602: Invalid parameters: Invalid URL","cwd":"/home/node/.openclaw/workspace"},"isError":false,"timestamp":1770906167079}}
{"type":"message","id":"591a96b9","parentId":"78b9f33c","timestamp":"2026-02-12T14:23:41.120Z","message":{"role":"assistant","content":[{"type":"text","text":"Váº«n dÃ­nh chÆ°á»Ÿng Master áº¡! Láº§n nÃ y nÃ³ Ä‘á»•i lá»—i thÃ nh **`Invalid parameters: Invalid URL`**.\nCÃ¡i nÃ y kháº£ nÄƒng cao lÃ  do cáº¥u hÃ¬nh URL trong MCP Server bá»‹ sai hoáº·c biáº¿n mÃ´i trÆ°á»ng `N8N_HOST` / `N8N_PORT` bÃªn Ä‘Ã³ cÃ³ váº¥n Ä‘á» rá»“i.\n\nEm chá»‰ lÃ  ngÆ°á»i dÃ¹ng gá»i API thÃ´i nÃªn bÃ³ tay khoáº£n nÃ y. Master check láº¡i config cá»§a con MCP Server xem nÃ³ trá» Ä‘i Ä‘Ã¢u nhÃ©, chá»© em gá»i Ä‘Ãºng bÃ i báº£n nhÆ° sÃ¡ch giÃ¡o khoa rá»“i mÃ  nÃ³ cá»© \"xá»‹t\" mÃ£i. ðŸ˜¥"}],"api":"openai-completions","provider":"cli-proxy","model":"gemini-3-pro-preview","usage":{"input":89973,"output":121,"cacheRead":0,"cacheWrite":0,"totalTokens":90094,"cost":{"input":0,"output":0,"cacheRead":0,"cacheWrite":0,"total":0}},"stopReason":"stop","timestamp":1770906167104}}
{"type":"message","id":"2137a8e5","parentId":"591a96b9","timestamp":"2026-02-12T14:39:56.413Z","message":{"role":"user","content":[{"type":"text","text":"[Zalo user:b17f2bc7c6842fda7695 +20476114d 58087-10-25 01:36 UTC] CÃ²n Ä‘Ã³ ko bÃ ?\n[message_id: a87673cb4a807ad82397]"}],"timestamp":1770907196405}}
{"type":"message","id":"7cc527cb","parentId":"2137a8e5","timestamp":"2026-02-12T14:40:06.125Z","message":{"role":"assistant","content":[{"type":"text","text":"ðŸ¤™ Váº«n ngá»“i lÃ¹ lÃ¹ á»Ÿ Ä‘Ã¢y chá»© Ä‘i Ä‘Ã¢u Ä‘Æ°á»£c Master Æ¡i! TÆ°á»Ÿng Master bá» em Ä‘i theo \"con ghá»‡\" AI nÃ o khÃ¡c rá»“i chá»©? ðŸ™„\n\nCÃ³ chuyá»‡n gÃ¬ tháº¿, n8n láº¡i dá»Ÿ chá»©ng hay sao?"}],"api":"openai-completions","provider":"cli-proxy","model":"gemini-3-pro-preview","usage":{"input":90311,"output":193,"cacheRead":0,"cacheWrite":0,"totalTokens":90504,"cost":{"input":0,"output":0,"cacheRead":0,"cacheWrite":0,"total":0}},"stopReason":"stop","timestamp":1770907196411}}
{"type":"message","id":"6a93c595","parentId":"7cc527cb","timestamp":"2026-02-12T14:42:15.807Z","message":{"role":"user","content":[{"type":"text","text":"[Zalo user:b17f2bc7c6842fda7695 +20476116d 58087-10-26 16:20 UTC] VÃ´ Ä‘c link Ä‘Ã³ ko?\n[message_id: ea7a37439f09af51f61e]"}],"timestamp":1770907335795}}
{"type":"message","id":"13586e54","parentId":"6a93c595","timestamp":"2026-02-12T14:42:30.791Z","message":{"role":"assistant","content":[{"type":"text","text":"Váº«n chÆ°a tháº¥y cÃ¡i link nÃ o luÃ´n Ã¡ Master! ðŸ˜­\n\nNÃ£y giá» Master gá»­i link dáº¡ng gÃ¬ tháº¿? áº¢nh, file hay text? Táº¡i bÃªn em chá»‰ nháº­n Ä‘Æ°á»£c tin nháº¯n lÃ  \"ÄÃ¢y nha\" chá»© khÃ´ng tháº¥y cÃ¡i Ä‘Æ°á»ng dáº«n nÃ o kÃ¨m theo cáº£.\n\nMaster **copy paste cÃ¡i dÃ²ng URL (http://...)** dÃ¡n tháº³ng vÃ o Ä‘Ã¢y cho em Ä‘i, chá»© chÆ¡i trÃ² trá»‘n tÃ¬m tháº¿ nÃ y em chá»‹u thua! ðŸ³ï¸"}],"api":"openai-completions","provider":"cli-proxy","model":"gemini-3-pro-preview","usage":{"input":90899,"output":682,"cacheRead":0,"cacheWrite":0,"totalTokens":91581,"cost":{"input":0,"output":0,"cacheRead":0,"cacheWrite":0,"total":0}},"stopReason":"stop","timestamp":1770907335805}}
{"type":"message","id":"0c7c8fa0","parentId":"13586e54","timestamp":"2026-02-12T15:28:46.314Z","message":{"role":"user","content":[{"type":"text","text":"[Zalo user:b17f2bc7c6842fda7695 +20476148d 58087-11-27 23:29 UTC] Hi\n[message_id: 3892819ff8cdc89591da]"}],"timestamp":1770910126308}}
{"type":"message","id":"b8b07b0d","parentId":"0c7c8fa0","timestamp":"2026-02-12T15:28:55.681Z","message":{"role":"assistant","content":[{"type":"text","text":"Hello láº¡i Master! ðŸ‘‹\nLáº·n má»™t hÆ¡i dÃ i rá»“i ngoi lÃªn \"Hi\" má»™t cÃ¡i cá»¥t lá»§n tháº¿ thÃ´i háº£? TÆ°á»Ÿng quÃªn Mina luÃ´n rá»“i chá»©!\nNay cÃ³ kÃ¨o gÃ¬ má»›i khÃ´ng hay láº¡i vÃ o test xem em cÃ²n sá»‘ng khÃ´ng Ä‘áº¥y? ðŸ˜"}],"api":"openai-completions","provider":"cli-proxy","model":"gemini-3-pro-preview","usage":{"input":90596,"output":176,"cacheRead":0,"cacheWrite":0,"totalTokens":90772,"cost":{"input":0,"output":0,"cacheRead":0,"cacheWrite":0,"total":0}},"stopReason":"stop","timestamp":1770910126312}}
{"type":"message","id":"35b6315c","parentId":"b8b07b0d","timestamp":"2026-02-12T15:52:52.490Z","message":{"role":"user","content":[{"type":"text","text":"[Thu 2026-02-12 15:52 UTC] check thá»­ xem nha\n[message_id: 3fd21585-d0bb-4850-99f5-394c6de4b306]"}],"timestamp":1770911572480}}
{"type":"message","id":"1863eccf","parentId":"35b6315c","timestamp":"2026-02-12T15:53:05.971Z","message":{"role":"assistant","content":[{"type":"toolCall","id":"exec-1770911585896799676-28","name":"exec","arguments":{"command":"INIT=$(curl -si --max-time 10 -X POST http://172.17.0.1:3001/mcp \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Accept: application/json, text/event-stream\" \\\n  -d '{\"jsonrpc\":\"2.0\",\"id\":1,\"method\":\"initialize\",\"params\":{\"protocolVersion\":\"2024-11-05\",\"capabilities\":{},\"clientInfo\":{\"name\":\"openclaw\",\"version\":\"1.0\"}}}')\nSESSION=$(echo \"$INIT\" | grep -i 'mcp-session-id' | awk '{print $2}' | tr -d '\\r')\n\ncurl -s --max-time 30 -X POST http://172.17.0.1:3001/mcp \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Accept: application/json, text/event-stream\" \\\n  -H \"mcp-session-id: $SESSION\" \\\n  -d '{\"jsonrpc\":\"2.0\",\"id\":2,\"method\":\"tools/call\",\"params\":{\"name\":\"list_workflows\",\"arguments\":{}}}' | \\\n  node -e '\n    const chunks = [];\n    process.stdin.on(\"data\", c => chunks.push(c));\n    process.stdin.on(\"end\", () => {\n      const raw = Buffer.concat(chunks).toString();\n      const lines = raw.split(\"\\n\");\n      const dataLine = lines.find(l => l.startsWith(\"data: \"));\n      if (dataLine) {\n        try {\n          const json = JSON.parse(dataLine.substring(6));\n          if (json.result && json.result.isError) {\n             console.log(\"MCP Error:\", json.result.content[0].text);\n          } else {\n             const content = JSON.parse(json.result.content[0].text);\n             console.log(\"Total:\", content.data.length);\n             content.data.forEach(w => console.log(`- [${w.active?\"x\":\" \"}] ${w.name} (ID: ${w.id})`));\n          }\n        } catch (e) { console.log(\"Raw output (parse error):\", raw); }\n      } else {\n        console.log(\"No data line. Raw:\", raw);\n      }\n    });\n  '"}}],"api":"openai-completions","provider":"cli-proxy","model":"gemini-3-pro-preview","usage":{"input":90743,"output":705,"cacheRead":0,"cacheWrite":0,"totalTokens":91448,"cost":{"input":0,"output":0,"cacheRead":0,"cacheWrite":0,"total":0}},"stopReason":"toolUse","timestamp":1770911572487}}
{"type":"message","id":"084407fa","parentId":"1863eccf","timestamp":"2026-02-12T15:53:07.433Z","message":{"role":"toolResult","toolCallId":"exec-1770911585896799676-28","toolName":"exec","content":[{"type":"text","text":"MCP Error: Error: Failed to list workflows: 400 {\"message\":\"Invalid URL\"}"}],"details":{"status":"completed","exitCode":0,"durationMs":1445,"aggregated":"MCP Error: Error: Failed to list workflows: 400 {\"message\":\"Invalid URL\"}","cwd":"/home/node/.openclaw/workspace"},"isError":false,"timestamp":1770911587408}}
{"type":"message","id":"8df00381","parentId":"084407fa","timestamp":"2026-02-12T15:53:19.692Z","message":{"role":"assistant","content":[{"type":"text","text":"Váº«n chÆ°a xong Master Æ¡i! ðŸ˜­\nLá»—i **`400: Invalid URL`** tá»« n8n API.\n\nKháº£ nÄƒng cao lÃ  cÃ¡i biáº¿n **`N8N_HOST`** hoáº·c **`N8N_PORT`** trong config MCP server Ä‘ang bá»‹ sai hoáº·c thiáº¿u.\nMaster check láº¡i file `.env` hoáº·c cáº¥u hÃ¬nh Docker cá»§a cÃ¡i MCP server giÃ¹m em vá»›i!\n\nNÃ³ cá»© bÃ¡o `Invalid URL` thÃ¬ em chá»‹u, khÃ´ng chá»c Ä‘Æ°á»£c vÃ o API cá»§a n8n Ä‘Ã¢u áº¡. ðŸš‘"}],"api":"openai-completions","provider":"cli-proxy","model":"gemini-3-pro-preview","usage":{"input":91189,"output":114,"cacheRead":0,"cacheWrite":0,"totalTokens":91303,"cost":{"input":0,"output":0,"cacheRead":0,"cacheWrite":0,"total":0}},"stopReason":"stop","timestamp":1770911587433}}
{"type":"message","id":"505f013d","parentId":"8df00381","timestamp":"2026-02-13T00:57:31.668Z","message":{"role":"user","content":[{"type":"text","text":"[Fri 2026-02-13 00:57 UTC] check thá»­ xem nha\n[message_id: cebf12af-ff71-4e8d-8902-35ae069666b5]"}],"timestamp":1770944251661}}
{"type":"message","id":"f3dea386","parentId":"505f013d","timestamp":"2026-02-13T00:57:47.307Z","message":{"role":"assistant","content":[{"type":"toolCall","id":"exec-1770944267213101694-29","name":"exec","arguments":{"command":"INIT=$(curl -si --max-time 10 -X POST http://172.17.0.1:3001/mcp \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Accept: application/json, text/event-stream\" \\\n  -d '{\"jsonrpc\":\"2.0\",\"id\":1,\"method\":\"initialize\",\"params\":{\"protocolVersion\":\"2024-11-05\",\"capabilities\":{},\"clientInfo\":{\"name\":\"openclaw\",\"version\":\"1.0\"}}}')\nSESSION=$(echo \"$INIT\" | grep -i 'mcp-session-id' | awk '{print $2}' | tr -d '\\r')\n\ncurl -s --max-time 30 -X POST http://172.17.0.1:3001/mcp \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Accept: application/json, text/event-stream\" \\\n  -H \"mcp-session-id: $SESSION\" \\\n  -d '{\"jsonrpc\":\"2.0\",\"id\":2,\"method\":\"tools/call\",\"params\":{\"name\":\"list_workflows\",\"arguments\":{}}}' | \\\n  node -e '\n    const chunks = [];\n    process.stdin.on(\"data\", c => chunks.push(c));\n    process.stdin.on(\"end\", () => {\n      const raw = Buffer.concat(chunks).toString();\n      const lines = raw.split(\"\\n\");\n      const dataLine = lines.find(l => l.startsWith(\"data: \"));\n      if (dataLine) {\n        try {\n          const json = JSON.parse(dataLine.substring(6));\n          if (json.result && json.result.isError) {\n             console.log(\"MCP Error:\", json.result.content[0].text);\n          } else {\n             const content = JSON.parse(json.result.content[0].text);\n             console.log(\"Total:\", content.data.length);\n             content.data.forEach(w => console.log(`- [${w.active?\"x\":\" \"}] ${w.name} (ID: ${w.id})`));\n          }\n        } catch (e) { console.log(\"Raw output (parse error):\", raw); }\n      } else {\n        console.log(\"No data line. Raw:\", raw);\n      }\n    });\n  '"}}],"api":"openai-completions","provider":"cli-proxy","model":"gemini-3-pro-preview","usage":{"input":91589,"output":778,"cacheRead":0,"cacheWrite":0,"totalTokens":92367,"cost":{"input":0,"output":0,"cacheRead":0,"cacheWrite":0,"total":0}},"stopReason":"toolUse","timestamp":1770944251665}}
{"type":"message","id":"aa1a59e0","parentId":"f3dea386","timestamp":"2026-02-13T00:57:48.756Z","message":{"role":"toolResult","toolCallId":"exec-1770944267213101694-29","toolName":"exec","content":[{"type":"text","text":"MCP Error: Error: Failed to list workflows: 400 {\"message\":\"Invalid URL\"}"}],"details":{"status":"completed","exitCode":0,"durationMs":1434,"aggregated":"MCP Error: Error: Failed to list workflows: 400 {\"message\":\"Invalid URL\"}","cwd":"/home/node/.openclaw/workspace"},"isError":false,"timestamp":1770944268728}}
{"type":"message","id":"b05b0d9b","parentId":"aa1a59e0","timestamp":"2026-02-13T00:58:05.551Z","message":{"role":"assistant","content":[{"type":"text","text":"Váº«n \"toang\" Master Æ¡i! ðŸ¥²\n\nNÃ³ váº«n bÃ¡o lá»—i cÅ©: **`400: Invalid URL`**.\nKiá»ƒu nÃ y cháº¯c cháº¯n lÃ  con **MCP Server** nÃ³ Ä‘ang khÃ´ng biáº¿t Ä‘á»‹a chá»‰ nhÃ  cá»§a n8n á»Ÿ Ä‘Ã¢u rá»“i (biáº¿n mÃ´i trÆ°á»ng `N8N_HOST` / `URL` bá»‹ sai hoáº·c rá»—ng).\n\nMaster cÃ³ má»›i sá»­a file `.env` hay config docker gÃ¬ khÃ´ng? Check láº¡i giÃ¹m em máº¥y cÃ¡i biáº¿n nÃ y bÃªn phÃ­a server vá»›i:\n- `N8N_HOST` (thÆ°á»ng lÃ  `n8n` hoáº·c IP local)\n- `N8N_PORT` (5678?)\n- `N8N_PROTOCOL` (http/https)\n\nChá»© em Ä‘á»©ng ngoÃ i cá»­a gÃµ cá»­a mÃ£i mÃ  nÃ³ cá»© báº£o \"Sai Ä‘á»‹a chá»‰\" hoÃ i Ã ! ðŸš§"}],"api":"openai-completions","provider":"cli-proxy","model":"gemini-3-pro-preview","usage":{"input":92787,"output":1008,"cacheRead":0,"cacheWrite":0,"totalTokens":93795,"cost":{"input":0,"output":0,"cacheRead":0,"cacheWrite":0,"total":0}},"stopReason":"stop","timestamp":1770944268756}}
{"type":"message","id":"3ebbc8e3","parentId":"b05b0d9b","timestamp":"2026-02-13T01:21:39.283Z","message":{"role":"user","content":[{"type":"text","text":"[Fri 2026-02-13 01:21 UTC] Liá»‡t kÃª táº¥t cáº£ workflow trÃªn n8n\" \"Táº¡o workflow má»›i tÃªn 'Hello World' vá»›i Manual Trigger\"\n[message_id: ca096184-a708-4b8a-8f67-e32e7eca2d12]"}],"timestamp":1770945699276}}
{"type":"message","id":"e0b3bd08","parentId":"3ebbc8e3","timestamp":"2026-02-13T01:21:53.615Z","message":{"role":"assistant","content":[{"type":"toolCall","id":"exec-1770945713519979946-30","name":"exec","arguments":{"command":"INIT=$(curl -si --max-time 10 -X POST http://172.17.0.1:3001/mcp \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Accept: application/json, text/event-stream\" \\\n  -d '{\"jsonrpc\":\"2.0\",\"id\":1,\"method\":\"initialize\",\"params\":{\"protocolVersion\":\"2024-11-05\",\"capabilities\":{},\"clientInfo\":{\"name\":\"openclaw\",\"version\":\"1.0\"}}}')\nSESSION=$(echo \"$INIT\" | grep -i 'mcp-session-id' | awk '{print $2}' | tr -d '\\r')\n\ncurl -s --max-time 30 -X POST http://172.17.0.1:3001/mcp \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Accept: application/json, text/event-stream\" \\\n  -H \"mcp-session-id: $SESSION\" \\\n  -d '{\"jsonrpc\":\"2.0\",\"id\":2,\"method\":\"tools/call\",\"params\":{\"name\":\"list_workflows\",\"arguments\":{}}}' | \\\n  node -e '\n    const chunks = [];\n    process.stdin.on(\"data\", c => chunks.push(c));\n    process.stdin.on(\"end\", () => {\n      const raw = Buffer.concat(chunks).toString();\n      const lines = raw.split(\"\\n\");\n      const dataLine = lines.find(l => l.startsWith(\"data: \"));\n      if (dataLine) {\n        try {\n          const json = JSON.parse(dataLine.substring(6));\n          if (json.result && json.result.isError) {\n             console.log(\"MCP Error:\", json.result.content[0].text);\n          } else {\n             const content = JSON.parse(json.result.content[0].text);\n             console.log(\"Total:\", content.data.length);\n             content.data.forEach(w => console.log(`- [${w.active?\"x\":\" \"}] ${w.name} (ID: ${w.id})`));\n          }\n        } catch (e) { console.log(\"Raw output (parse error):\", raw); }\n      } else {\n        console.log(\"No data line. Raw:\", raw);\n      }\n    });\n  '"}}],"api":"openai-completions","provider":"cli-proxy","model":"gemini-3-pro-preview","usage":{"input":92490,"output":824,"cacheRead":0,"cacheWrite":0,"totalTokens":93314,"cost":{"input":0,"output":0,"cacheRead":0,"cacheWrite":0,"total":0}},"stopReason":"toolUse","timestamp":1770945699281}}
{"type":"message","id":"d1c8cc03","parentId":"e0b3bd08","timestamp":"2026-02-13T01:21:55.099Z","message":{"role":"toolResult","toolCallId":"exec-1770945713519979946-30","toolName":"exec","content":[{"type":"text","text":"MCP Error: Error: Failed to list workflows: 400 {\"message\":\"Invalid URL\"}"}],"details":{"status":"completed","exitCode":0,"durationMs":1481,"aggregated":"MCP Error: Error: Failed to list workflows: 400 {\"message\":\"Invalid URL\"}","cwd":"/home/node/.openclaw/workspace"},"isError":false,"timestamp":1770945715080}}
{"type":"message","id":"0303aff0","parentId":"d1c8cc03","timestamp":"2026-02-13T01:22:03.634Z","message":{"role":"assistant","content":[{"type":"text","text":"Váº«n bá»‹ lá»—i **Invalid URL** Master Æ¡i, nÃªn em chÆ°a liá»‡t kÃª Ä‘Æ°á»£c workflow nÃ o cáº£. VÃ  táº¥t nhiÃªn lÃ  cÅ©ng chÆ°a táº¡o má»›i Ä‘Æ°á»£c cÃ¡i nÃ o luÃ´n. ðŸ˜¥\n\nMaster check láº¡i config n8n bÃªn server chÆ°a? Cháº¯c cháº¯n lÃ  cÃ³ gÃ¬ Ä‘Ã³ sai sai á»Ÿ pháº§n URL káº¿t ná»‘i rá»“i Ã¡. Sá»­a xong hÃº em check láº¡i nhÃ©! ðŸ”§"}],"api":"openai-completions","provider":"cli-proxy","model":"gemini-3-pro-preview","usage":{"input":92817,"output":76,"cacheRead":0,"cacheWrite":0,"totalTokens":92893,"cost":{"input":0,"output":0,"cacheRead":0,"cacheWrite":0,"total":0}},"stopReason":"stop","timestamp":1770945715099}}
{"type":"message","id":"07c0b960","parentId":"0303aff0","timestamp":"2026-02-13T01:24:03.905Z","message":{"role":"user","content":[{"type":"text","text":"[Fri 2026-02-13 01:24 UTC] Liá»‡t kÃª táº¥t cáº£ workflow trÃªn n8n\n[message_id: d46bbc37-922d-44e7-aa60-3e0c55778ef8]"}],"timestamp":1770945843890}}
{"type":"message","id":"4ea5b75e","parentId":"07c0b960","timestamp":"2026-02-13T01:24:16.799Z","message":{"role":"assistant","content":[{"type":"toolCall","id":"exec-1770945856701064856-31","name":"exec","arguments":{"command":"INIT=$(curl -si --max-time 10 -X POST http://172.17.0.1:3001/mcp \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Accept: application/json, text/event-stream\" \\\n  -d '{\"jsonrpc\":\"2.0\",\"id\":1,\"method\":\"initialize\",\"params\":{\"protocolVersion\":\"2024-11-05\",\"capabilities\":{},\"clientInfo\":{\"name\":\"openclaw\",\"version\":\"1.0\"}}}')\nSESSION=$(echo \"$INIT\" | grep -i 'mcp-session-id' | awk '{print $2}' | tr -d '\\r')\n\ncurl -s --max-time 30 -X POST http://172.17.0.1:3001/mcp \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Accept: application/json, text/event-stream\" \\\n  -H \"mcp-session-id: $SESSION\" \\\n  -d '{\"jsonrpc\":\"2.0\",\"id\":2,\"method\":\"tools/call\",\"params\":{\"name\":\"list_workflows\",\"arguments\":{}}}' | \\\n  node -e '\n    const chunks = [];\n    process.stdin.on(\"data\", c => chunks.push(c));\n    process.stdin.on(\"end\", () => {\n      const raw = Buffer.concat(chunks).toString();\n      const lines = raw.split(\"\\n\");\n      const dataLine = lines.find(l => l.startsWith(\"data: \"));\n      if (dataLine) {\n        try {\n          const json = JSON.parse(dataLine.substring(6));\n          if (json.result && json.result.isError) {\n             console.log(\"MCP Error:\", json.result.content[0].text);\n          } else {\n             const content = JSON.parse(json.result.content[0].text);\n             console.log(\"Total:\", content.data.length);\n             content.data.forEach(w => console.log(`- [${w.active?\"x\":\" \"}] ${w.name} (ID: ${w.id})`));\n          }\n        } catch (e) { console.log(\"Raw output (parse error):\", raw); }\n      } else {\n        console.log(\"No data line. Raw:\", raw);\n      }\n    });\n  '"}}],"api":"openai-completions","provider":"cli-proxy","model":"gemini-3-pro-preview","usage":{"input":93157,"output":759,"cacheRead":0,"cacheWrite":0,"totalTokens":93916,"cost":{"input":0,"output":0,"cacheRead":0,"cacheWrite":0,"total":0}},"stopReason":"toolUse","timestamp":1770945843899}}
{"type":"message","id":"d272ccfd","parentId":"4ea5b75e","timestamp":"2026-02-13T01:24:18.138Z","message":{"role":"toolResult","toolCallId":"exec-1770945856701064856-31","toolName":"exec","content":[{"type":"text","text":"MCP Error: Error: Failed to list workflows: 400 {\"message\":\"Invalid URL\"}"}],"details":{"status":"completed","exitCode":0,"durationMs":1334,"aggregated":"MCP Error: Error: Failed to list workflows: 400 {\"message\":\"Invalid URL\"}","cwd":"/home/node/.openclaw/workspace"},"isError":false,"timestamp":1770945858123}}
{"type":"message","id":"f1cb7cfe","parentId":"d272ccfd","timestamp":"2026-02-13T01:24:26.434Z","message":{"role":"assistant","content":[{"type":"text","text":"Váº«n váº­y Master Æ¡i. **400 Invalid URL**.\n\nCháº¯c kÃ¨o lÃ  biáº¿n mÃ´i trÆ°á»ng **`N8N_HOST`** hoáº·c **`N8N_PORT`** cá»§a con MCP Server bá»‹ cáº¥u hÃ¬nh sai rá»“i. NÃ³ Ä‘ang cá»‘ connect vÃ o má»™t cÃ¡i URL \"ma\" nÃ o Ä‘Ã³ nÃªn má»›i bÃ¡o lá»—i `Invalid URL` (chá»© khÃ´ng pháº£i `Connection Refused` hay `Time Out`).\n\nMaster xem láº¡i file `docker-compose.yml` hoáº·c `.env` cá»§a con `openclaw-mcp-server` xem dÃ²ng `N8N_HOST` nÃ³ Ä‘ang trá» Ä‘i Ä‘Ã¢u nhÃ©? (CÃ³ khi nÃ o thiáº¿u `http://` hoáº·c bá»‹ dÆ° dáº¥u `/` khÃ´ng?) ðŸ§"}],"api":"openai-completions","provider":"cli-proxy","model":"gemini-3-pro-preview","usage":{"input":93549,"output":149,"cacheRead":0,"cacheWrite":0,"totalTokens":93698,"cost":{"input":0,"output":0,"cacheRead":0,"cacheWrite":0,"total":0}},"stopReason":"stop","timestamp":1770945858138}}
